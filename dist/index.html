<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta content="width=device-width,initial-scale=1" name=viewport> <title>JobTracker - Free Local Job Tracker | No Login, No Tracking, Your Data Stays Private</title> <meta content="100% free job application tracker that works locally in your browser. No login required, no data tracking, no servers. Your job search data stays completely private on your device." name=description> <meta content="free job tracker, local job application tracker, private job search, no login job tracker, offline job tracker, privacy-first job applications, no tracking career management, local storage job search" name=keywords> <meta content="JobTracker Team" name=author> <meta content="index, follow" name=robots> <meta content=en name=language> <meta content="JobTracker - Free Local Job Tracker (No Login Required)" property=og:title> <meta content="Track job applications privately in your browser. 100% free, no login, no tracking, your data never leaves your device." property=og:description> <meta content=website property=og:type> <meta content=https://letanure.github.io/job-tracker-plain/ property=og:url> <meta content=JobTracker property=og:site_name> <meta content=en_US property=og:locale> <meta content=summary_large_image name=twitter:card> <meta content="JobTracker - Private Job Application Tracker" name=twitter:title> <meta content="Free local job tracker with complete privacy. No login, no tracking, your job search data stays on your device." name=twitter:description> <link href=https://letanure.github.io/job-tracker-plain/ rel=canonical> <link href=https://letanure.github.io/job-tracker-plain/ rel=alternate hreflang=en> <link href="https://letanure.github.io/job-tracker-plain/?lang=pt" rel=alternate hreflang=pt> <link href=https://letanure.github.io/job-tracker-plain/ rel=alternate hreflang=x-default> <meta content=#2383e2 name=theme-color> <meta content=JobTracker name=application-name> <meta content=JobTracker name=apple-mobile-web-app-title> <meta content=yes name=mobile-web-app-capable> <meta content=default name=apple-mobile-web-app-status-bar-style> <script data-website-id=33179b8a-4bc4-4489-9a2d-82d5699c3dfb defer src=https://cloud.umami.is/script.js></script> <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel=stylesheet> <style>@keyframes heartbeat{0%,28%,70%{transform:scale(1)}14%,42%{transform:scale(1.1)}}@keyframes bug-wiggle{0%{transform:scale(1.2) rotate(8deg)}to{transform:scale(1.3) rotate(12deg)}}@keyframes pulse{0%,to{opacity:.8}50%{opacity:.4}}@keyframes placeholderPulse{0%,to{opacity:.4;border-color:var(--dY)}50%{opacity:.6;border-color:var(--dZ)}}@keyframes slideInFade{0%{opacity:0;transform:translateY(-10px) scaleY(.8);max-height:0;margin-bottom:0;padding-top:0;padding-bottom:0}50%{opacity:.5;max-height:100px}to{opacity:1;transform:translateY(0) scaleY(1);max-height:none;margin-bottom:var(--eI);padding-top:var(--eI);padding-bottom:var(--eI)}}@keyframes slideOutFade{0%{opacity:1;transform:translateY(0) scaleY(1);max-height:100px;margin-bottom:var(--eI);padding-top:var(--eI);padding-bottom:var(--eI)}to{opacity:0;transform:translateY(-10px) scaleY(.8);max-height:0;margin-bottom:0;padding-top:0;padding-bottom:0}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}:root{--fw:#ffffff;--fx:#1c2128;--bA:rgba(1, 4, 9, 0.8);--eJ:#dbeafe;--ea:#c7d2fe;--eb:#9bb0ff;--ec:#6d8bff;--dZ:#4169e1;--dY:#0969da;--ed:#0550ae;--ee:#033d8b;--ef:#0a3069;--eg:#002155;--eK:#f6f8fa;--eh:#eaeef2;--ei:#d0d7de;--ej:#afb8c1;--ek:#8c959f;--el:#656d76;--em:#424a53;--en:#32383f;--eo:#24292f;--ep:#1c2128;--eq:#dcffe4;--dz:#aff5b4;--dA:#7ee787;--dB:#56d364;--dC:#3fb950;--dD:#238636;--dE:#196c2e;--dF:#0f5323;--dG:#033a16;--dH:#04260f;--dI:#fff8c5;--cP:#fae17d;--cQ:#eac54f;--cR:#d4a72c;--cS:#bf8700;--cT:#9a6700;--cU:#7d4e00;--cV:#633c01;--cW:#4d2d00;--cX:#3b2300;--fj:#ffebe9;--eL:#ffcdc5;--eM:#ffaba8;--eN:#ff8182;--eO:#fa4549;--eP:#cf222e;--eQ:#a40e26;--eR:#82071e;--eS:#660018;--eT:#4c0519;--dJ:#fbefff;--cY:#ecd8ff;--cZ:#d2a8ff;--da:#bc7eff;--db:#a475f9;--dc:#8250df;--dd:#6639ba;--de:#512a97;--df:#3e1f79;--dg:#2e1065;--eU:#ffeff7;--er:#ffd3ec;--es:#ffadda;--et:#ff80cc;--eu:#e85aad;--ev:#bf4b8a;--ew:#9e3670;--ex:#7e2757;--ey:#661b47;--ez:#4d1336;--bN:var(--dY);--bO:var(--ed);--bP:var(--dZ);--dh:var(--eJ);--bQ:var(--dD);--bR:var(--dE);--bS:var(--dC);--di:var(--eq);--bT:var(--cT);--bU:var(--cU);--bV:var(--cS);--dj:var(--dI);--cB:var(--eP);--cC:var(--eQ);--cD:var(--eO);--eA:var(--fj);--ci:var(--eP);--cE:var(--eQ);--cj:var(--dE);--dk:var(--bN);--dl:var(--bO);--dm:var(--bP);--eV:var(--dh);--V:var(--eK);--j:var(--fw);--W:var(--fw);--bW:var(--eh);--ck:var(--ei);--cl:var(--eh);--bX:var(--ej);--dn:var(--ep);--cm:var(--ep);--bB:var(--en);--do:var(--em);--cn:var(--el);--bn:var(--fw);--co:var(--fw);--C:var(--eh);--k:var(--do);--L:var(--ea);--r:var(--bN);--s:var(--cP);--d:var(--bT);--t:var(--dJ);--e:var(--dc);--bo:var(--dz);--M:var(--bQ);--bp:var(--eB);--N:var(--eC);--D:var(--eL);--l:var(--cB);--u:var(--eh);--f:var(--el);--bY:var(--cB);--bq:var(--bT);--cp:var(--bQ);--cq:var(--dj);--bC:var(--bT);--X:linear-gradient(135deg, var(--bN), var(--bO));--Y:linear-gradient(135deg, var(--bQ), var(--bR));--Z:linear-gradient(135deg, var(--bT), var(--bU));--bD:linear-gradient(135deg, var(--cB), var(--cC));--bW:var(--eK);--bE:var(--eh);--br:var(--bQ);--bF:var(--ek);--bs:var(--cB);--bG:var(--bT);--cF:var(--dk);--dK:4px;--bH:1rem;--ba:1.5;--v:0.025em;--bt:var(--dK);--bb:calc(var(--dK) / 2);--bc:calc(var(--dK) / 2);--O:calc(var(--dK) / 4);--bI:calc(var(--dK) * 4);--E:calc(var(--dK) * 8);--cG:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";--bd:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;--bJ:var(--bH);--bZ:calc(var(--bH) * 0.625);--cr:calc(var(--bH) * 0.75);--cs:calc(var(--bH) * 0.875);--ct:calc(var(--bH) * 1.125);--cu:calc(var(--bH) * 1.25);--ca:calc(var(--bH) * 1.5);--cb:calc(var(--bH) * 1.875);--be:1;--P:calc(var(--ba) * 0.833);--bf:calc(var(--ba) * 0.917);--F:var(--ba);--w:calc(var(--ba) * 1.083);--Q:calc(var(--ba) * 1.333);--c:calc(var(--v) * -2);--m:calc(var(--v) * -1);--g:0;--x:var(--v);--n:calc(var(--v) * 2);--h:calc(var(--v) * 4);--bg:100;--R:300;--G:400;--H:500;--o:600;--bh:700;--i:800;--eI:var(--bt);--eW:calc(var(--bt) * 2);--eX:calc(var(--bt) * 3);--eY:calc(var(--bt) * 4);--eZ:calc(var(--bt) * 5);--fa:calc(var(--bt) * 6);--fb:calc(var(--bt) * 8);--eD:calc(var(--bt) * 10);--eE:calc(var(--bt) * 12);--eF:calc(var(--bt) * 16);--eG:calc(var(--bt) * 20);--eH:calc(var(--bt) * 24);--fy:calc(var(--bt) * 2);--fz:calc(var(--bt) * 4);--fA:calc(var(--bt) * 6);--fB:calc(var(--bt) * 8);--fC:calc(var(--bt) * 10);--fD:calc(var(--bt) * 12);--fE:calc(var(--bt) * 16);--fk:calc(var(--bt) * 20);--fl:calc(var(--bt) * 24);--fm:calc(var(--bt) * 32);--fn:calc(var(--bt) * 40);--fo:calc(var(--bt) * 48);--fp:calc(var(--bt) * 56);--fq:calc(var(--bt) * 64);--fr:calc(var(--bt) * 72);--fs:calc(var(--bt) * 80);--ft:calc(var(--bt) * 96);--fu:calc(var(--bt) * 112);--fv:calc(var(--bt) * 128);--dp:var(--eI) var(--eW);--dq:calc(var(--eI) + calc(var(--dK) / 2)) var(--eX);--dr:var(--eW) var(--eY);--ds:var(--eX) var(--eZ);--dt:var(--eY) var(--fa);--dL:var(--bb);--dM:calc(var(--bb) * 2);--dN:calc(var(--bb) * 3);--dO:calc(var(--bb) * 4);--dP:calc(var(--bb) * 6);--cH:calc(var(--dK) * 2500);--dQ:0 var(--bc) calc(var(--bc) * 2) rgba(0, 0, 0, 0.04);--dR:0 var(--bc) calc(var(--bc) * 1) 0 rgba(0, 0, 0, 0.05);--dS:0 calc(var(--bc) * 2) calc(var(--bc) * 3) calc(var(--bc) * -0.5) rgba(0, 0, 0, 0.1),0 var(--bc) calc(var(--bc) * 2) calc(var(--bc) * -0.5) rgba(0, 0, 0, 0.06);--dT:0 calc(var(--bc) * 5) calc(var(--bc) * 7.5) calc(var(--bc) * -1.5) rgba(0, 0, 0, 0.1),0 calc(var(--bc) * 2) calc(var(--bc) * 3) calc(var(--bc) * -1) rgba(0, 0, 0, 0.05);--dU:0 calc(var(--bc) * 10) calc(var(--bc) * 12.5) calc(var(--bc) * -2.5) rgba(0, 0, 0, 0.1),0 calc(var(--bc) * 5) calc(var(--bc) * 5) calc(var(--bc) * -2.5) rgba(0, 0, 0, 0.04);--cv:var(--O);--I:calc(var(--O) * 2);--p:calc(var(--O) * 3);--fc:calc(var(--bI) * 0.75);--fd:calc(var(--bI) * 0.875);--fe:var(--bI);--ff:calc(var(--bI) * 1.25);--fg:calc(var(--bI) * 1.5);--cc:calc(var(--E) * 0.875);--cd:var(--E);--ce:calc(var(--E) * 1.25);--cf:calc(var(--E) * 2.5);--y:calc(var(--dK) * 300);--bu:var(--fq);--bi:75vh;--bv:0.15s ease;--S:0.3s ease;--bw:0.5s ease;--bj:calc(var(--dK) * 0.75);--du:0 0 0 var(--bj) color-mix(in srgb, var(--bN) 10%, transparent);--bk:0 0 0 var(--bj) color-mix(in srgb, var(--cB) 10%, transparent);--J:0 0 0 var(--bj) color-mix(in srgb, var(--bQ) 10%, transparent);--z:0 0 0 var(--bj) rgba(35, 131, 226, 0.1);--b:0 0 0 var(--bj) rgba(224, 62, 62, 0.1);--a:0 0 0 var(--bj) rgba(15, 123, 15, 0.1);--dv:calc(var(--dK) * 25);--fh:calc(var(--dK) * 250);--dV:calc(var(--dK) * 500);--T:calc(var(--dK) * 2);--bK:calc(var(--dK) * 6);--bx:calc(var(--dK) * 8)}body,html{height:100%}html{font-size:calc(var(--dK)*4)}body{font-family:var(--cG);margin:0;padding:var(--eY);background-color:var(--V);font-size:var(--cs);line-height:var(--F);color:var(--dn);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;min-height:100vh;display:flex;flex-direction:column}blockquote,dd,dl,figcaption,figure,h1,h2,h3,h4,h5,h6,li,ol,p,ul{margin:0;padding:0}ol:not([class]),ul:not([class]){list-style:none}*,::after,::before{box-sizing:border-box}.container{width:100%;max-width:var(--y);margin:0 auto;background:var(--j);border-radius:8px;box-shadow:none;border:var(--cv) solid var(--ck);overflow:hidden}.controls,.header{padding:16px 24px;border-bottom:var(--cv) solid var(--ck);display:flex;align-items:center}.header{background:var(--eK);justify-content:space-between}.header h1{margin:0;font-size:20px;font-weight:600;color:var(--dn);letter-spacing:-.025em;line-height:1.25}.controls{background:var(--fw);gap:12px}.table-container{overflow-x:auto;max-height:calc(100vh - 400px);overflow-y:auto;background:var(--j)}.table-actions{padding:16px 0;background:var(--fw);border-top:var(--cv) solid var(--ck);display:flex;justify-content:flex-start}.stat-number{font-weight:600;color:var(--dn);margin-right:calc(var(--eI)*.5);display:inline-block}.stat-label{font-size:12px;text-transform:none;letter-spacing:normal;font-weight:500}.footer{background:var(--eK);padding:16px 24px;text-align:center;border-top:var(--cv) solid var(--ck);color:var(--bB);font-size:12px;margin-top:24px}.footer-content,.footer-text{display:flex;align-items:center}.footer-content{justify-content:space-between;max-width:var(--y);margin:0 auto;flex-wrap:wrap;gap:16px}.footer-text{margin:0;gap:4px}.heart{color:var(--eP);animation:heartbeat 1.5s ease-in-out infinite;display:inline-block}.author-link{color:var(--bN);text-decoration:none;font-weight:500}.author-link:hover,.bug-report-link:hover{text-decoration:underline}.bug-report-link{color:var(--bB);text-decoration:none;font-size:12px;transition:var(--bv)}.bug-report-link:hover{color:var(--bN)}.bug-emoji{opacity:0;transform:scale(0) rotate(-30deg);transition:all .3s ease;margin-left:4px;display:inline-block}.bug-report-link:hover .bug-emoji{opacity:1;transform:scale(1.2) rotate(10deg);animation:bug-wiggle .6s ease-in-out infinite alternate}.github-link{display:flex;align-items:center;gap:6px;color:var(--bB);text-decoration:none;font-size:12px;transition:var(--bv)}.github-link:hover{color:var(--dn)}.github-icon{width:16px;height:16px;flex-shrink:0}.container,.tab-content,.tab-content-container{flex:1;display:flex;flex-direction:column}.tab-content,.tab-content-container{width:100%}.tab-content-container{min-height:600px;position:relative}.tab-content{opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,visibility .2s ease-in-out;position:absolute;top:0;left:0;right:0;bottom:0}.tab-content-container:not(.tabs-initialized) .tab-content{opacity:0!important;visibility:hidden!important}.tab-content.active{opacity:1;visibility:visible;position:relative;height:100%}.board-placeholder{display:flex;align-items:center;justify-content:center;min-height:400px;flex:1;width:100%;text-align:center;color:var(--do);background:var(--V);border-radius:var(--dO);margin:var(--fa)}.placeholder-content{display:flex;flex-direction:column;align-items:center;gap:var(--eY)}.placeholder-icon{font-size:var(--cb);color:var(--cn)}.placeholder-content h3{margin:0;font-size:var(--cu);color:var(--dn)}.placeholder-content p{margin:0;font-size:var(--bJ);color:var(--do)}.table-cell-base{padding:var(--eW) var(--eX);text-align:left;border-bottom:var(--cv) solid var(--ck);font-size:var(--cs);line-height:var(--F)}.inline-edit{padding:var(--eI) var(--eW);border:var(--cv) solid var(--dY);border-radius:var(--dM);background:var(--fw)}.inline-edit:focus{outline:0;box-shadow:0 0 0 3px rgba(9,105,218,.12)}.icon-btn,.icon-btn-ghost{display:inline-flex;align-items:center;justify-content:center;transition:var(--bv);box-shadow:none;background:0 0;color:var(--el);cursor:pointer}.icon-btn{padding:var(--eI);min-width:24px;height:24px;border-radius:var(--dN);border:var(--cv) solid transparent}.icon-btn .material-symbols-outlined{font-size:16px;font-weight:400}.icon-btn:hover{background:var(--eh);color:var(--en)}.icon-btn-ghost{padding:2px;min-width:20px;height:20px;border-radius:4px;border:0}.icon-btn-ghost .material-symbols-outlined{font-size:14px;font-weight:400}.icon-btn-ghost:hover{background:var(--eh);color:var(--en)}.icon-btn-ghost:focus{outline:2px solid var(--dY);outline-offset:1px}.icon-btn-ghost-sm{padding:1px;min-width:18px;height:18px;border-radius:3px;display:inline-flex;align-items:center;justify-content:center;transition:var(--bv);box-shadow:none;border:0;background:0 0;color:var(--el);cursor:pointer}.icon-btn-ghost-sm .material-symbols-outlined{font-size:12px;font-weight:400}.icon-btn-ghost-sm:hover{background:var(--eh);color:var(--en)}.icon-btn-ghost-sm:focus{outline:1px solid var(--dY);outline-offset:1px}.card-base{background:var(--fw);border:var(--cv) solid var(--ck);border-radius:var(--dN);padding:var(--eX);transition:var(--bv);box-shadow:var(--dR)}.card-base:hover{border-color:var(--ej);box-shadow:var(--dS)}.priority-dot{width:var(--T);height:var(--T);border-radius:50%;flex-shrink:0}.priority-dot.high{background-color:var(--bY)}.priority-dot.medium{background-color:var(--bq)}.priority-dot.low{background-color:var(--cp)}.form-field{gap:var(--eI)}.add-task-field label{font-size:var(--cr);font-weight:500;color:var(--dn)}.form-field input,.form-field select,.form-field textarea{padding:var(--eI) var(--eW)}.form-field textarea{background:var(--fw)}.form-field input:focus,.form-field select:focus,.form-field textarea:focus{box-shadow:0 0 0 3px rgba(9,105,218,.12)}.dragging{opacity:.5;transform:scale(.95);cursor:grabbing}.drag-over{background-color:var(--eJ);border:2px dashed var(--dZ)}.drop-indicator{position:absolute;z-index:10;pointer-events:none}.grid-responsive{display:grid;gap:var(--eY)}.grid-2-cols{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.grid-3-cols{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.grid-4-cols{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.flex-between,.flex-center{display:flex;justify-content:space-between;align-items:center}.flex-center{justify-content:center}.flex-start{display:flex;align-items:flex-start;gap:var(--eW)}.text-truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.text-muted{color:var(--do)}.text-small{font-size:var(--cr)}.gap-sm{gap:var(--eW)}.gap-md{gap:var(--eY)}.gap-lg{gap:var(--fa)}.mt-sm{margin-top:var(--eW)}.mt-md{margin-top:var(--eY)}.mt-lg{margin-top:var(--fa)}.mb-sm{margin-bottom:var(--eW)}.mb-md{margin-bottom:var(--eY)}.mb-lg{margin-bottom:var(--fa)}.w-full{width:100%}.w-auto{width:auto}.min-w-0{min-width:0}.rounded-sm{border-radius:var(--dM)}.rounded-md{border-radius:var(--dN)}.rounded-lg{border-radius:var(--dO)}.rounded-xl{border-radius:var(--dP)}.transition-fast,tr{transition:var(--bv)}.transition-smooth{transition:var(--U)}.hover-lift:hover{transform:translateY(-1px);box-shadow:var(--dS)}.hover-scale:hover{transform:scale(1.02)}.status-indicator{padding:var(--eI) var(--eW);border-radius:var(--cH);font-size:var(--cr);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-todo{background:var(--eh);color:var(--en)}.status-in-progress{background:var(--dw);color:var(--dx)}.status-done{background:var(--dz);color:var(--dG)}.btn-xs{padding:var(--eI) var(--eW);font-size:var(--cr);min-height:24px}.btn-sm{padding:var(--eI) var(--eX);min-height:28px}.btn-md,.btn-sm,button{font-size:var(--cs)}.btn-md{padding:var(--eW) var(--eY);min-height:32px}.btn-lg{padding:var(--eX) var(--fa);font-size:var(--cw);min-height:40px}.hidden{display:none}.visible{display:block}button{background:var(--eK);color:var(--dn);border:var(--cv) solid var(--ck);padding:5px 16px;border-radius:6px;cursor:pointer;font-weight:500;font-family:inherit;display:inline-flex;align-items:center;gap:var(--eW);transition:var(--bv);height:32px;min-width:auto;position:relative;text-decoration:none;white-space:nowrap;user-select:none;box-shadow:0 1px 0 rgba(27,31,35,.04),inset 0 1px 0 rgba(255,255,255,.25)}button:hover{background-color:var(--eh);border-color:var(--ej);box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 rgba(255,255,255,.03);transition-duration:.1s}button:active{background-color:var(--ei);border-color:var(--ek);box-shadow:inset 0 1px 0 rgba(27,31,35,.04)}button:focus{outline:2px solid var(--dY);outline-offset:-2px;box-shadow:none}button:disabled{color:var(--el);background-color:var(--eK);border-color:var(--ck);cursor:not-allowed}.btn-primary{background-color:var(--dD);border-color:rgba(27,31,35,.15);box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 rgba(255,255,255,.03)}.btn-primary:hover{background-color:var(--dE)}.btn-primary:active{background-color:var(--dF);box-shadow:inset 0 1px 0 rgba(27,31,35,.15)}.action-btn{padding:2px;min-width:22px;height:22px;border-radius:4px;display:inline-flex;align-items:center;justify-content:center;transition:var(--bv);box-shadow:none;border:0;background:0 0;color:var(--el);cursor:pointer;font-size:12px}.action-btn .material-symbols-outlined{font-size:16px;font-weight:400}.action-btn:hover{background:var(--eh);color:var(--en)}.action-btn:focus{outline:1px solid var(--dY);outline-offset:1px}.edit-btn:hover{background:var(--eJ);color:var(--ed)}.delete-btn:hover{background:var(--fj);color:var(--eQ)}.save-btn:hover{background:var(--eq);color:var(--dE)}.cancel-btn:hover{background:var(--eh);color:var(--en)}.source-btn:hover{background:var(--eq);color:var(--dE)}.source-btn.disabled{color:var(--ek);cursor:not-allowed;opacity:.5}.source-btn.disabled:hover{background:0 0;color:var(--ek)}.contacts-btn:hover{background:var(--eJ);color:var(--ed)}.notes-btn:hover{background:var(--dW);color:var(--dy)}.tasks-btn:hover{background:var(--dJ);color:var(--dd)}.action-count-badge,.btn-subtle{border-radius:6px;font-weight:500;align-items:center}.action-count-badge{position:absolute;top:-3px;right:-3px;background:var(--ei);color:var(--en);font-size:9px;min-width:12px;height:12px;display:flex;justify-content:center;padding:0 3px;border:1px solid var(--ej);z-index:1}.btn-subtle{background:0 0;color:var(--dn);border:var(--cv) solid var(--ck);padding:6px 12px;cursor:pointer;font-size:var(--cs);font-family:inherit;display:inline-flex;gap:var(--eI);transition:var(--bv);height:32px;min-width:auto;position:relative;text-decoration:none;white-space:nowrap;user-select:none;box-shadow:none}.btn-subtle:hover{background-color:var(--eK);border-color:var(--ej);color:var(--dn)}.btn-subtle:active{background-color:var(--eh);border-color:var(--ek)}.btn-subtle:focus{outline:2px solid var(--dY);outline-offset:-2px;box-shadow:none}.btn-subtle.btn-primary{color:var(--ed);border-color:var(--ec);background-color:transparent}.btn-subtle.btn-primary:hover{background-color:var(--eJ);border-color:var(--dZ);color:var(--ee)}.btn-subtle.btn-danger{color:var(--eQ);border-color:var(--eN)}.btn-subtle.btn-danger:hover{background-color:var(--fj);border-color:var(--eO);color:var(--eR)}input,select{min-height:32px}input,select,textarea{padding:5px 12px;border:var(--cv) solid var(--ck);border-radius:6px;font-size:var(--cs);font-family:inherit;background:var(--fw);color:var(--dn);transition:var(--bv);box-shadow:inset 0 1px 0 rgba(27,31,35,.075)}.contact-field-input{border:0;box-shadow:none}input:focus,select:focus,textarea:focus{outline:2px solid var(--dY);outline-offset:-2px;border-color:var(--dY);box-shadow:none}input:hover,select:hover,textarea:hover{border-color:var(--ej)}input::placeholder,textarea::placeholder{color:var(--cn)}.required-asterisk{color:var(--eP);font-weight:600}.filter-select{padding:var(--dp);border:var(--cv) solid var(--ck);border-radius:var(--dN);font-size:var(--bJ);background:var(--j);color:var(--dn)}textarea{resize:vertical;min-height:80px;line-height:var(--F);field-sizing:content}.add-contact-row{margin-top:12px;padding:12px;background:var(--eK);border:1px solid var(--ck);border-radius:6px}.add-contact-title{margin:0 0 8px;font-size:var(--cr);font-weight:600;color:var(--dn)}.contact-form-row{margin-bottom:0}.add-contact-company,.add-contact-email,.add-contact-name,.add-contact-phone{width:100%;padding:6px 8px;border:1px solid var(--ck);border-radius:6px;font-size:var(--cr);background:var(--fw);min-height:28px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.add-contact-company:focus,.add-contact-email:focus,.add-contact-name:focus,.add-contact-phone:focus,.add-note-textarea:focus,.add-task-due-date:focus,.add-task-duration:focus,.add-task-priority:focus,.add-task-status:focus,.add-task-textarea:focus{border-color:var(--dY);box-shadow:0 0 0 3px rgba(9,105,218,.12);outline:0}.add-note-section,.add-task-section{margin-top:12px;padding:12px;background:var(--eK);border:1px solid var(--ck);border-radius:6px}.add-note-title,.add-task-title{margin:0 0 8px;font-size:var(--cr);font-weight:600;color:var(--dn)}.add-note-textarea{width:100%;resize:vertical;min-height:60px;padding:8px;border:1px solid var(--ck);border-radius:6px;font-size:var(--cr);font-family:inherit;background:var(--fw);line-height:1.4;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.add-note-form,.add-task-form{display:flex;flex-direction:column;gap:12px}.add-task-textarea{width:100%;resize:vertical;min-height:60px;padding:8px;border:1px solid var(--ck);border-radius:6px;font-size:var(--cr);font-family:inherit;background:var(--fw);line-height:1.4;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.add-task-form-row{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:8px;margin-bottom:8px}.add-task-field{display:flex;flex-direction:column;gap:2px}.add-task-due-date,.add-task-duration,.add-task-priority,.add-task-status{width:100%;padding:6px 8px;border:1px solid var(--ck);border-radius:6px;font-size:var(--cr);background:var(--fw);min-height:28px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.add-contact-form-actions,.add-note-form-actions,.add-task-form-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px;padding-top:8px;border-top:1px solid var(--cl)}.add-task-duration{font-family:var(--dX)}.tasks-table td{text-align:left}.tasks-table th{font-size:12px;text-transform:uppercase}.task-text-cell{cursor:pointer;padding:12px;background:var(--eK);border-bottom:1px solid var(--ck)}.task-text-cell:hover{background:var(--eh)}.task-due-date-display,.task-duration-display,.task-priority-display,.task-status-display{background:0 0;min-height:18px;line-height:18px}.task-due-date-display,.task-duration-display{display:block;padding:8px 12px;border:1px solid transparent;border-radius:6px}.task-priority-edit,.task-status-edit{display:block;padding:0;border:0;border-radius:0;background:0 0;font-size:11px;width:100%;height:32px;box-sizing:border-box;appearance:none;outline:0;box-shadow:none}.task-due-date-edit:focus,.task-duration-edit:focus,.task-priority-edit:focus,.task-status-edit:focus,.task-text-edit:focus{outline:2px solid var(--bN);outline-offset:-2px}.task-due-date-edit,.task-duration-edit,.task-text-edit{display:block;padding:0;border:0;border-radius:0;background:0 0;width:100%;height:32px;box-sizing:border-box;outline:0}.task-due-date-edit,.task-duration-edit{font-size:12px;font-family:var(--dX, monospace)}.task-text-edit{font-size:13px;font-style:italic;color:var(--em);resize:none}.archived-task-text-cell{padding:8px 12px;border-bottom:1px solid var(--ck)}.archived-task-text-cell:hover{background:0 0}.inline-edit-date,.inline-edit-duration,.inline-edit-textarea{width:100%;padding:4px 8px;border:1px solid var(--dY);border-radius:4px;font-size:14px;background:var(--fw)}.inline-edit-textarea{resize:vertical;min-height:60px}.inline-edit-duration{font-family:var(--dX)}.contacts-container{padding:24px;display:flex;flex-direction:column;flex:1}.contacts-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.contacts-title{margin:0;font-size:20px;font-weight:600;color:var(--dn)}.contact-cell.has-error .contact-field-input{background:var(--fj);box-shadow:inset 2px 0 0 var(--eP)}.field-error{position:absolute;bottom:-20px;left:12px;font-size:12px;color:var(--eQ);background:var(--fw);padding:2px 6px;border-radius:4px;border:1px solid var(--eM);z-index:10;white-space:nowrap}.validation-error{display:flex;align-items:center;gap:6px;margin-top:6px;padding:8px 12px;background:var(--fj);border:1px solid var(--eM);border-radius:6px;font-size:13px;color:var(--eR)}.validation-error .material-symbols-outlined{font-size:16px;color:var(--eQ)}.contacts-actions{margin-top:16px}.contact-form-field input,.contact-form-field select,.contacts-actions .action-btn{border:var(--cv) solid var(--ck);border-radius:6px;color:var(--dn)}.contacts-actions .action-btn{padding:4px 12px;min-width:auto;height:28px;display:inline-flex;align-items:center;gap:6px;transition:var(--bv);box-shadow:none;background:0 0;cursor:pointer;font-size:var(--cs);font-weight:500}.contacts-actions .action-btn:hover{background:var(--eK);border-color:var(--ej)}.contacts-empty{padding:40px 20px;text-align:center}.contacts-empty-message{color:var(--el);font-size:16px;margin:0}.add-contact-form{display:flex;flex-direction:column;gap:16px}.contact-form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}.contact-form-field{display:flex;flex-direction:column;gap:4px}.contact-form-field.full-width{grid-column:span 2}.contact-form-field label{font-size:14px;font-weight:500;color:var(--dn)}.form-field label{font-size:14px}.contact-form-field input,.contact-form-field select{width:100%;padding:8px 12px;font-size:14px;background:var(--fw);font-family:inherit}.contact-form-field input:focus,.contact-form-field select:focus{outline:2px solid var(--dY);outline-offset:-2px;border-color:var(--dY)}.form-field input:focus,.form-field select:focus{outline:2px solid var(--dY);outline-offset:-2px}.header-with-filter{position:relative;display:flex;align-items:center;gap:var(--eI)}.filter-dropdown-icon{cursor:pointer;font-size:12px;color:var(--el);user-select:none;padding:2px;border-radius:3px;transition:var(--bv);display:inline-flex;align-items:center}.filter-dropdown-icon:hover{color:var(--en);background:var(--eh)}.filter-dropdown-icon .material-symbols-outlined{font-size:14px}.filter-dropdown{display:none;position:absolute;top:100%;left:0;background:var(--fw);border:var(--cv) solid var(--ck);border-radius:6px;box-shadow:0 8px 24px rgba(140,149,159,.2);z-index:1500;min-width:120px;margin-top:4px}.dropdown-option{padding:6px 12px;cursor:pointer;font-size:12px;font-weight:400}.contacts-table tr:hover,.dropdown-option:hover,.notes-table tr:hover,.tasks-table tr:hover{background:var(--V)}.dropdown-option:first-child{border-top-left-radius:var(--dN);border-top-right-radius:var(--dN)}.dropdown-option:last-child{border-bottom-left-radius:var(--dN);border-bottom-right-radius:var(--dN)}.modal,.modal-overlay{width:100%;display:flex}.modal-overlay{position:fixed;top:0;left:0;height:100%;background:var(--bA);align-items:flex-start;justify-content:center;z-index:2000;padding:40px 16px 16px;overflow-y:auto}.modal{background:var(--fw);border-radius:12px;box-shadow:0 8px 24px rgba(140,149,159,.2);border:var(--cv) solid var(--ck);max-width:800px;max-height:calc(100vh - 80px);overflow:hidden;flex-direction:column;position:relative}.modal-header{border-bottom:var(--cv) solid var(--ck);display:flex;align-items:center;justify-content:space-between;background:var(--eK);border-radius:12px 12px 0 0}.modal-close,.modal-title{font-size:var(--cr)}.modal-title{margin:0;font-weight:600;color:var(--dn);line-height:1.25}.modal-close{background:0 0;border:0;cursor:pointer;color:var(--el);min-width:auto;height:auto;padding:4px;border-radius:6px;box-shadow:none}.modal-close:hover{color:var(--en);background:var(--eh);transform:none;box-shadow:none}.modal-body{overflow-y:auto;flex:1;background:var(--fw)}.modal-footer{border-top:var(--cv) solid var(--ck);background:var(--fw);display:flex;gap:8px;justify-content:flex-end;border-radius:0 0 12px 12px}.modal-body,.modal-body p,.modal-empty-message{font-size:var(--cr)}.modal-empty-message{text-align:center;color:var(--em);font-style:italic;margin:24px 0}.archived-contacts-section,.archived-notes-section,.archived-tasks-section{margin-top:24px;padding-top:24px;border-top:1px solid var(--ck)}.contacts-archived-header,.notes-archived-header,.tasks-archived-header{display:flex;align-items:center;gap:0;cursor:pointer;margin:0 0 6px;font-size:13px;font-weight:600;color:var(--em);padding:8px;border-radius:6px;transition:var(--bv)}.contacts-archived-header:hover,.notes-archived-header:hover,.tasks-archived-header:hover{background:var(--eK);color:var(--ed)}.contacts-archived-header .expand-icon,.notes-archived-header .expand-icon,.tasks-archived-header .expand-icon{font-size:20px!important;transition:transform .2s ease;color:var(--el)}td .contacts-count,td .notes-count,td .tasks-count{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background:var(--ei);color:var(--en);border-radius:10px;font-size:12px;font-weight:500;cursor:pointer;transition:var(--bv);user-select:none;border:0}td .zero-count{cursor:default}td .zero-count,td .zero-count:hover{background:var(--eh);color:var(--el);border-color:var(--ei)}.priority{display:inline-block;width:var(--T);height:var(--T);border-radius:var(--cH);margin-right:var(--eW)}.priority-high{background:var(--bY)}.priority-medium{background:var(--bq)}.priority-low{background:var(--cp)}.status{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;text-align:center;white-space:nowrap;display:inline-flex;align-items:center;justify-content:center;min-width:60px;height:22px;text-transform:none;letter-spacing:normal;border:1px solid transparent}.status-wishlist{background:var(--C);color:var(--k)}.status-applied{background:var(--L);color:var(--r)}.status-phone_screening{background:var(--s);color:var(--d)}.status-interview{background:var(--t);color:var(--e)}.status-final_round{background:var(--bo);color:var(--M)}.status-offer{background:var(--bp);color:var(--N)}.status-rejected{background:var(--D);color:var(--l)}.status-withdrawn{background:var(--u);color:var(--f)}.language-switcher{display:flex;align-items:center;gap:8px;position:relative}.language-selector{position:relative;display:inline-block}.language-button{display:flex;align-items:center;gap:6px;padding:5px 12px;background:var(--eK);border:var(--cv) solid var(--ck);border-radius:6px;color:var(--dn);text-decoration:none;font-size:14px;font-weight:500;transition:var(--bv);cursor:pointer;box-shadow:0 1px 0 rgba(27,31,35,.04),inset 0 1px 0 rgba(255,255,255,.25);height:32px}.language-button:hover{background-color:var(--eh);border-color:var(--ej);box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 rgba(255,255,255,.03)}.language-button.active{background:var(--bN);border-color:var(--bN);color:var(--bn)}.language-flag{font-size:16px;line-height:1}.language-dropdown{position:absolute;top:100%;left:0;right:0;background:var(--fw);border:var(--cv) solid var(--ck);border-radius:6px;box-shadow:0 8px 24px rgba(140,149,159,.2);z-index:1500;min-width:120px;margin-top:4px}.language-option{padding:8px 12px;cursor:pointer;font-size:14px;font-weight:400;display:flex;align-items:center;gap:8px;transition:var(--bv)}.language-option:hover{background:var(--eK)}.language-option:first-child{border-top-left-radius:6px;border-top-right-radius:6px}.language-option:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.language-arrow{font-size:16px;color:var(--el);transition:var(--bv)}.language-button:hover .language-arrow{color:var(--en)}.tab-navigation{display:flex;background:var(--fw);border-bottom:var(--cv) solid var(--ck);gap:0;padding:0 24px}.tab-button{display:flex;align-items:center;gap:8px;padding:8px 16px;background:0 0;border:0;border-bottom:2px solid transparent;color:var(--em);text-decoration:none;font-size:14px;font-weight:500;transition:var(--bv);cursor:pointer;min-width:auto;height:auto;box-shadow:none;position:relative;border-radius:0}.tab-button.active,.tab-button:hover{color:var(--dn);background:0 0}.tab-button:hover{border-bottom-color:var(--ej);transform:none;box-shadow:none}.tab-button.active{border-bottom-color:#fd8c73;font-weight:600;letter-spacing:-.01em}.tab-icon{font-size:16px}.tab-text{font-weight:inherit}.kanban-container{padding:24px;display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden}.kanban-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;padding-bottom:16px;border-bottom:var(--cv) solid var(--ck)}.kanban-title{font-size:24px;font-weight:600;color:var(--dn);margin:0}.kanban-board{display:flex!important;flex-direction:row!important;flex-wrap:nowrap!important;gap:16px;overflow-x:auto;padding:8px 0;flex:1;align-items:stretch;height:100%}.kanban-column{min-width:280px;width:280px;background:var(--eK);border-radius:12px;border:var(--cv) solid var(--ck);display:flex;flex-direction:column;transition:var(--bv);max-height:100%}.kanban-column.drag-active{border-color:var(--ec)}.kanban-column.drag-over{background:var(--eJ);border-color:var(--dY);transform:scale(1.02)}.kanban-column-header{padding:16px;border-bottom:var(--cv) solid var(--ck);background:var(--fw);border-radius:12px 12px 0 0}.kanban-column-title{display:flex;align-items:center;justify-content:space-between}.kanban-column-name{font-size:14px;font-weight:600;color:var(--dn)}.kanban-column-actions{display:flex;align-items:center;gap:6px}.kanban-column-count{background:var(--ei);color:var(--en);padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;min-width:20px;text-align:center}.kanban-add-job-btn{background:var(--eK);color:var(--dn);border:var(--cv) solid var(--ck);padding:2px 6px;border-radius:6px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:2px;cursor:pointer;transition:var(--bv);height:20px;box-shadow:0 1px 0 rgba(27,31,35,.04),inset 0 1px 0 rgba(255,255,255,.25)}.kanban-add-job-btn:hover{background-color:var(--eh);border-color:var(--ej);box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 rgba(255,255,255,.03)}.kanban-add-job-btn .material-symbols-outlined{font-size:12px;font-weight:400}.kanban-column-body{padding:12px;flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:8px;min-height:0}.kanban-job-card{background:var(--fw);border:var(--cv) solid var(--ck);border-radius:8px;padding:12px;cursor:pointer;transition:var(--bv);position:relative;box-shadow:0 1px 3px rgba(0,0,0,.1)}.kanban-job-card:hover{border-color:var(--ec);box-shadow:0 4px 12px rgba(0,0,0,.15);transform:translateY(-1px)}.kanban-job-card.dragging{opacity:.5;transform:rotate(5deg)}.drop-indicator{height:2px;background:var(--dY);margin:4px 8px;border-radius:1px;opacity:.8;animation:pulse 1s infinite}.drop-placeholder{pointer-events:none;margin:8px 0;opacity:.4;border:2px dashed var(--dY)!important;background:var(--eJ)!important;animation:placeholderPulse 1.5s infinite ease-in-out}.drop-placeholder,.drop-placeholder:hover{transform:none!important;box-shadow:none!important}.kanban-priority-dot{display:inline-block;width:var(--T);height:var(--T);border-radius:var(--cH);position:absolute;top:8px;right:8px}.kanban-job-header{display:flex;align-items:top;gap:6px;margin-bottom:8px}.kanban-job-icon{font-size:14px;flex-shrink:0;color:var(--em)}.kanban-job-title{display:flex;flex-direction:column;gap:2px;flex:1}.kanban-job-company,.kanban-job-position{font-size:14px;font-weight:600;color:var(--dn);line-height:1.3;word-break:break-word}.kanban-job-position{font-size:13px;font-weight:400;color:var(--em)}a.kanban-source-link{text-decoration:none;color:inherit}.kanban-phase-section{margin-bottom:8px}.kanban-phase-header{display:flex;align-items:center;gap:4px;margin-bottom:4px}.kanban-job-card .material-symbols-outlined,.kanban-phase-icon{font-size:14px;color:var(--el)}.kanban-phase-icon{font-size:12px}.kanban-phase-text{font-size:11px;font-weight:500;color:var(--em)}.kanban-substeps-list{display:flex;flex-direction:column;gap:2px;margin-left:16px}.kanban-substep-item{display:flex;align-items:center;gap:4px;padding:2px 0}.kanban-substep-icon{font-size:10px;width:12px;flex-shrink:0}.kanban-substep-text{font-size:10px;line-height:1.2}.kanban-substep-item.completed .kanban-substep-icon,.kanban-substep-item.completed .kanban-substep-text{color:var(--dE)}.kanban-substep-item.current .kanban-substep-text{color:var(--cU);font-weight:500}.kanban-substep-item.current .kanban-substep-icon{color:var(--cU)}.kanban-substep-item.pending .kanban-substep-text{color:var(--el)}.kanban-substep-item.pending .kanban-substep-icon{color:var(--ek)}.kanban-action-icons{display:flex;gap:4px;justify-content:flex-end;margin-top:8px;padding-top:8px;border-top:1px solid var(--ei)}.kanban-icon-btn{padding:2px;min-width:18px;height:18px;border-radius:3px;display:inline-flex;align-items:center;justify-content:center;transition:var(--bv);box-shadow:none;border:0;background:0 0;color:var(--el);cursor:pointer;position:relative}.kanban-icon-btn .material-symbols-outlined{font-size:14px;font-weight:400}.kanban-icon-btn:hover{background:var(--eh);color:var(--en)}.kanban-icon-btn:focus{outline:1px solid var(--dY);outline-offset:1px}.kanban-count-badge{position:absolute;top:-3px;right:-3px;background:var(--ei);color:var(--en);font-size:9px;font-weight:500;min-width:12px;height:12px;border-radius:6px;display:flex;align-items:center;justify-content:center;padding:0 3px;border:1px solid var(--ej);z-index:1}.kanban-job-metadata{display:flex;flex-direction:column;gap:3px;margin-bottom:8px}.kanban-metadata-item{display:flex;align-items:center;gap:4px}.kanban-metadata-icon{font-size:10px;width:12px;flex-shrink:0;color:var(--el)}.kanban-metadata-text{font-size:10px;color:var(--em);line-height:1.2}.job-edit-modal{max-width:600px;width:100%}.job-edit-form{display:flex;flex-direction:column;gap:0}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-field{display:flex;flex-direction:column;gap:4px}.form-field.full-width{grid-column:span 2}.form-field input,.form-field select{border-radius:6px;font-size:14px;font-family:inherit;background:var(--fw);color:var(--dn)}.btn-secondary{background:var(--eK);color:var(--dn);border:var(--cv) solid var(--ck)}.btn-secondary:hover{background:var(--eh);border-color:var(--ej)}.btn-primary{background:var(--dD);color:var(--fw);border:var(--cv) solid var(--dD)}.btn-primary:hover{background:var(--dE);border-color:var(--dE)}.btn-danger{background:var(--eP);color:var(--fw);border:var(--cv) solid var(--eP)}.btn-danger:hover{background:var(--eQ);border-color:var(--eQ)}.tasks-container{padding:24px;display:flex;flex-direction:column;flex:1;height:100%;min-height:0}.tasks-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;padding-bottom:16px;border-bottom:var(--cv) solid var(--ck)}.tasks-title{font-size:24px;font-weight:600;color:var(--dn);margin:0}.tasks-board{display:flex!important;flex-direction:row!important;flex-wrap:nowrap!important;gap:16px;overflow-x:auto;padding:8px 0;flex:1;align-items:stretch;height:100%}.tasks-column{flex:1;min-width:0;background:var(--eK);border-radius:12px;border:var(--cv) solid var(--ck);display:flex;flex-direction:column;transition:var(--bv);max-height:100%}.tasks-column.drag-active{border-color:var(--ec)}.tasks-column.drag-over{background:var(--eJ);border-color:var(--dY);transform:scale(1.02)}.tasks-column-header{padding:16px;border-bottom:var(--cv) solid var(--ck);background:var(--fw);border-radius:12px 12px 0 0}.tasks-column-title{display:flex;align-items:center;justify-content:space-between}.tasks-column-name{font-size:14px;font-weight:600;color:var(--dn)}.tasks-column-actions{display:flex;align-items:center;gap:6px}.tasks-column-count{background:var(--ei);color:var(--en);padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;min-width:20px;text-align:center}.tasks-add-task-btn{background:var(--eK);color:var(--dn);border:var(--cv) solid var(--ck);padding:2px 6px;border-radius:6px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:2px;cursor:pointer;transition:var(--bv);height:20px;box-shadow:0 1px 0 rgba(27,31,35,.04),inset 0 1px 0 rgba(255,255,255,.25)}.tasks-add-task-btn:hover{background-color:var(--eh);border-color:var(--ej);box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 rgba(255,255,255,.03)}.tasks-add-task-btn .material-symbols-outlined{font-size:12px;font-weight:400}.task-form-grid{display:flex;gap:8px}.task-form-grid>*{flex:1}.tasks-due-date-indicator{display:flex;align-items:center;gap:4px;padding:2px 6px;border-radius:4px;font-size:11px;font-weight:500}.tasks-due-date-indicator .material-symbols-outlined{font-size:12px;color:inherit!important}.tasks-due-date-indicator.due-soon{background:var(--dI);color:var(--cU);border:1px solid var(--cQ)}.tasks-due-date-indicator.due-today{background:var(--eJ);color:var(--ed);border:1px solid var(--eb)}.tasks-due-date-indicator.overdue{background:var(--fj);color:var(--eQ);border:1px solid var(--eM)}.tasks-card-footer{display:flex;align-items:center;justify-content:space-between;gap:8px;padding-top:8px;border-top:1px solid var(--ei)}.workflow-description{font-size:11px;color:var(--em);margin-bottom:6px}.workflow-selector{border:1px solid var(--ck);border-radius:4px;background:var(--eK);max-height:200px;overflow-y:auto}.workflow-phase{border-bottom:1px solid var(--ck)}.workflow-phase:last-child{border-bottom:none}.workflow-phase.current-phase{background:var(--eJ);border-left:3px solid var(--dY)}.workflow-phase-header{padding:0}.workflow-phase-toggle{width:100%;display:flex;align-items:center;gap:6px;padding:8px 12px;background:0 0;border:0;text-align:left;cursor:pointer;transition:var(--bv);font-size:12px;font-weight:500}.workflow-phase-toggle:hover{background:var(--eh)}.workflow-phase-toggle.has-substeps{color:var(--ed)}.workflow-phase-toggle .material-symbols-outlined{font-size:14px;transition:transform var(--bv)}.workflow-phase.expanded .workflow-phase-toggle .material-symbols-outlined{transform:rotate(180deg)}.workflow-phase-title{flex:1}.workflow-phase-count{font-size:10px;background:var(--ei);color:var(--en);padding:1px 4px;border-radius:8px;min-width:24px;text-align:center}.workflow-phase-toggle.has-substeps .workflow-phase-count{background:var(--ea);color:var(--ee)}.workflow-substeps-list{background:var(--fw);border-top:1px solid var(--ck)}.workflow-substep-item{border-bottom:1px solid var(--eh)}.contacts-table tr:last-child td,.notes-table tr:last-child td,.tasks-table tr:last-child td,.workflow-substep-item:last-child{border-bottom:none}.workflow-substep-toggle{width:100%;display:flex;align-items:center;gap:6px;padding:4px 12px 4px 24px;background:0 0;border:0;text-align:left;cursor:pointer;font-size:11px;transition:var(--bv)}.workflow-substep-toggle:hover{background:var(--eK)}.workflow-substep-item.selected .workflow-substep-toggle{color:var(--ed);background:var(--fi)}.workflow-substep-item.current .workflow-substep-toggle{background:var(--eJ);font-weight:600}.workflow-substep-toggle .material-symbols-outlined{font-size:14px;color:var(--ek)}.workflow-substep-item.selected .workflow-substep-toggle .material-symbols-outlined{color:var(--ed)}.workflow-substep-text{flex:1}.current-indicator{font-size:9px;background:var(--ed);color:var(--fw);padding:1px 3px;border-radius:2px;text-transform:uppercase;font-weight:500}.job-edit-form .form-row{margin-bottom:8px}.job-edit-form .form-field{margin-bottom:0}.job-edit-form label{font-size:var(--cr);font-weight:500;margin-bottom:2px;display:block}.job-edit-form input,.job-edit-form select{padding:4px 6px;font-size:13px;height:28px;border:1px solid var(--ck);border-radius:4px}.job-edit-form input[readonly]{background:var(--eK);color:var(--em)}.modal{max-height:90vh;overflow-y:auto}.modal-body{padding:12px 16px}.modal-footer,.modal-header{padding:8px 16px}.tasks-column-body{padding:12px;flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:8px;min-height:0}.tasks-task-card{background:var(--fw);border:var(--cv) solid var(--ck);border-radius:8px;padding:12px;cursor:pointer;transition:var(--bv);position:relative;box-shadow:0 1px 3px rgba(0,0,0,.1)}.tasks-task-card .material-symbols-outlined{font-size:14px;color:var(--ek)}.tasks-task-card:hover{border-color:var(--ec);box-shadow:0 4px 12px rgba(0,0,0,.15);transform:translateY(-1px)}.tasks-task-card.dragging{opacity:.5;transform:rotate(5deg)}.tasks-priority-dot{position:absolute;top:8px;right:8px}.tasks-task-content{margin-bottom:12px;padding-right:16px}.tasks-task-text{font-size:14px;font-weight:500;color:var(--dn);line-height:1.4;word-wrap:break-word}.tasks-job-context{display:flex;flex-direction:column;gap:4px;margin-bottom:12px}.tasks-job-info,.tasks-job-phase{display:flex;align-items:center;gap:4px}.tasks-job-icon,.tasks-phase-icon{font-size:12px;color:var(--el);flex-shrink:0}.tasks-job-text,.tasks-phase-text{font-size:11px;color:var(--em);line-height:1.2}.tasks-action-icons{display:flex;gap:4px}.tasks-icon-btn{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:0 0;border:1px solid transparent;border-radius:4px;color:var(--el);cursor:pointer;transition:var(--bv);padding:0;min-width:auto;box-shadow:none;position:relative}.tasks-icon-btn:hover{background:var(--eh);color:var(--en);border-color:var(--ej);transform:none;box-shadow:none}.tasks-icon-btn .material-symbols-outlined{font-size:14px}.tasks-job-filter{padding:4px 8px;background:var(--fw);border:1px solid var(--ck);border-radius:4px;color:var(--dn);font-size:12px;font-weight:500;min-width:150px;max-width:200px;cursor:pointer;height:28px;box-shadow:0 1px 2px rgba(0,0,0,.05)}.tasks-job-filter:focus{outline:2px solid var(--dY);outline-offset:-2px;border-color:var(--dY)}.calendar-container{padding:24px;display:flex;flex-direction:column;flex:1;background:var(--fw)}.calendar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;padding-bottom:16px;border-bottom:var(--cv) solid var(--ck)}.calendar-title{font-size:24px;font-weight:600;color:var(--dn);margin:0}.calendar-controls{display:flex;align-items:center;gap:24px}.calendar-view-selector{display:flex;background:var(--eh);border-radius:6px;padding:2px}.view-btn{padding:6px 16px;background:0 0;border:0;border-radius:4px;color:var(--em);font-size:14px;font-weight:500;cursor:pointer;transition:var(--bv)}.view-btn:hover{color:var(--dn)}.view-btn.active{box-shadow:0 1px 3px rgba(0,0,0,.1)}.calendar-nav,.nav-btn{display:flex;align-items:center;gap:8px}.nav-btn,.view-btn.active{background:var(--fw);color:var(--dn)}.nav-btn{padding:6px 12px;border:var(--cv) solid var(--ck);border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:var(--bv);gap:4px}.nav-btn:hover{background:var(--eK);border-color:var(--ej)}.nav-btn .material-symbols-outlined{font-size:18px}.today-btn{padding:6px 16px}.calendar-period{margin-bottom:24px}.calendar-period-text{font-size:20px;font-weight:500;color:var(--dn);margin:0}.calendar-body{flex:1;overflow:auto;max-height:calc(100vh - 200px)}.calendar-month{width:100%}.calendar-weekdays{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:1px;background:var(--ck);border:var(--cv) solid var(--ck);border-bottom:none;border-radius:6px 6px 0 0}.calendar-weekday{background:var(--eK);padding:12px 8px;text-align:center;font-size:13px;font-weight:600;color:var(--em);text-transform:uppercase;letter-spacing:.5px;user-select:none}.calendar-days{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:1px;background:var(--ck);border:var(--cv) solid var(--ck);border-radius:0 0 6px 6px}.calendar-day{background:var(--fw);min-height:80px;padding:6px;cursor:pointer;transition:var(--bv);position:relative;display:flex;flex-direction:column;overflow:hidden;min-width:0;user-select:none}.calendar-day:hover{background:var(--eK)}.calendar-day.other-month{background:var(--eK);color:var(--el)}.calendar-day.other-month:hover{background:var(--eh)}.calendar-day.today{background:var(--eJ)}.calendar-day.today .calendar-day-number{background:var(--dY);color:var(--fw);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600}.calendar-day-number{font-size:14px;font-weight:500;margin-bottom:8px}.calendar-day-events{display:flex;flex-direction:column;gap:2px;margin-top:4px}.calendar-day-event-mini{font-size:10px;padding:2px 4px;border-radius:2px;cursor:pointer;transition:var(--bv);max-width:100%;overflow:hidden}.calendar-day-event-mini:hover{opacity:.8;transform:scale(1.02)}.calendar-event-mini-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2;font-weight:500}.calendar-event-more{font-size:9px;color:var(--em);cursor:pointer;padding:1px 2px;text-align:center;font-weight:500}.calendar-event-more:hover{color:var(--dn)}.calendar-event-task .calendar-event-mini-text{color:var(--ee)}.calendar-event-applied .calendar-event-mini-text{color:var(--dF)}.calendar-event-interview .calendar-event-mini-text{color:var(--cV)}.calendar-event-followup .calendar-event-mini-text{color:var(--de)}.calendar-day-event-mini[draggable=true]{cursor:grab}.calendar-day-event-mini[draggable=true]:active{cursor:grabbing}.calendar-day-event-mini.dragging{opacity:.5;transform:scale(.95);z-index:1000}.calendar-day.drag-over{background-color:var(--eJ)!important;border:2px dashed var(--dZ)!important;transform:scale(1.02)}.calendar-day.drag-over .calendar-day-number{color:var(--ed);font-weight:600}.calendar-week{display:grid;grid-template-columns:60px repeat(7,minmax(0,1fr));gap:1px;background:var(--ck);border:var(--cv) solid var(--ck);border-radius:6px;height:auto;max-height:calc(100vh - 200px);overflow-y:auto}.calendar-week-times{background:var(--eK);display:flex;flex-direction:column}.calendar-week-time-header{height:59px;border-bottom:var(--cv) solid var(--ck);background:var(--eK)}.calendar-week-day{background:var(--fw);display:flex;flex-direction:column}.calendar-week-day.today{background:var(--eJ)}.calendar-week-day-header{padding:6px;text-align:center;border-bottom:var(--cv) solid var(--ck);background:var(--eK);user-select:none}.calendar-week-day-name{font-size:12px;font-weight:600;color:var(--em);text-transform:uppercase}.calendar-week-day-number{font-size:16px;font-weight:500;color:var(--dn);margin-top:4px}.calendar-week-day-events{padding:8px;overflow-y:auto}.calendar-week-event{margin-bottom:4px}.calendar-week-event:hover{transform:translateY(-1px)}.calendar-week-event.dragging{opacity:.6;cursor:grabbing;z-index:1000;transform:none!important}.calendar-event-header{gap:6px}.calendar-event-job-btn{background:0 0;border:0;color:var(--el);cursor:pointer;padding:2px;border-radius:3px;transition:var(--bv);margin-left:auto;flex-shrink:0}.calendar-event-job-btn:hover{background:rgba(0,0,0,.1);color:var(--bN)}.calendar-event-job-btn .material-symbols-outlined,.calendar-event-time .material-symbols-outlined{font-size:14px}.calendar-event-time{font-size:11px;display:flex;align-items:center;gap:4px;flex-shrink:0}.calendar-event-title{font-weight:500;line-height:1.3;flex:1}.calendar-day-view{display:grid;grid-template-columns:60px minmax(0,1fr);gap:1px;background:var(--ck);border:var(--cv) solid var(--ck);border-radius:6px;height:auto;max-height:calc(100vh - 200px);overflow-y:auto}.calendar-day-times{background:var(--eK);display:flex;flex-direction:column}.calendar-day-events-column{background:var(--fw);padding:16px;overflow-y:auto}.calendar-no-events{text-align:center;color:var(--el);padding:40px;font-style:italic}.calendar-day-event{margin-bottom:12px}.calendar-day-event:hover{transform:translateY(-1px)}.calendar-day-event.dragging{opacity:.6;cursor:grabbing;z-index:1000;transform:none!important}.calendar-event-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.calendar-event-priority{width:8px;height:8px;border-radius:50%}.calendar-event-priority.priority-high{background:var(--eP)}.calendar-event-priority.priority-medium{background:var(--cT)}.calendar-event-priority.priority-low{background:var(--dD)}.calendar-event-subtitle{font-size:12px;color:var(--em);margin-top:4px}.calendar-events-modal{max-width:500px}.calendar-events-list{display:flex;flex-direction:column;gap:12px}.calendar-event-card,.form-field input,.form-field select,.form-field textarea{border:var(--cv) solid var(--ck);transition:var(--bv)}.calendar-event-card{padding:16px;border-radius:8px;cursor:pointer}.calendar-event-card:hover{border-color:var(--ec);box-shadow:0 2px 8px rgba(0,0,0,.1)}.calendar-event-card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.calendar-event-type-badge{padding:4px 8px;border-radius:4px;font-size:11px;font-weight:600;text-transform:uppercase}.priority-badge{padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500}.priority-badge.priority-high{background:var(--eL);color:var(--eR)}.priority-badge.priority-medium{background:var(--cP);color:var(--cV)}.priority-badge.priority-low{background:var(--dz);color:var(--dF)}.calendar-event-card-title{font-size:14px;font-weight:600;color:var(--dn);margin-bottom:4px}.calendar-event-card-subtitle{font-size:12px;color:var(--em)}.calendar-event-details-modal{max-width:500px}.event-details{display:flex;flex-direction:column;gap:12px}.event-detail-row{display:flex;align-items:center;gap:8px}.event-detail-row strong{min-width:80px;font-weight:600;color:var(--dn)}.event-type-badge{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;text-transform:capitalize}.calendar-event-card-meta{display:flex;flex-direction:column;gap:4px;margin-top:8px;padding-top:8px;border-top:1px solid var(--ck)}.calendar-event-meta-item{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--em)}.calendar-meta-icon{font-size:14px!important;color:var(--el)}.calendar-week-day-events{flex:1}.calendar-day-events-column,.calendar-week-day-events{position:relative;min-height:260px;background-image:repeating-linear-gradient(to bottom,transparent 0,transparent 19px,rgba(0,0,0,.03) 19px,rgba(0,0,0,.03) 20px,transparent 20px,transparent 39px,rgba(0,0,0,.06) 39px,rgba(0,0,0,.06) 40px)}.calendar-time-slot{align-items:flex-start;border-bottom:1px solid var(--ck);color:var(--em);font-size:11px;height:20px;padding:4px 8px;user-select:none;white-space:nowrap;cursor:pointer;text-align:right}.calendar-time-slot.full-hour{color:var(--em);font-weight:500;border-bottom:1px solid rgba(0,0,0,.06)}.calendar-time-slot.half-hour{color:var(--ek);font-weight:400;border-bottom:1px dashed rgba(0,0,0,.03)}.calendar-day-event,.calendar-week-event{border-radius:4px;padding:4px 6px;font-size:11px;line-height:1.2;overflow:hidden;cursor:pointer;transition:var(--bv)}.calendar-day-event:hover,.calendar-week-event:hover{transform:scale(1.02);box-shadow:0 2px 8px rgba(0,0,0,.15)}.calendar-day-event{padding:6px 8px;font-size:12px;line-height:1.3}.resume-form-column{scroll-behavior:smooth}.resume-container{padding:24px;display:flex;flex-direction:column;height:100%;background:var(--fw)}.resume-stats{display:flex;align-items:center;gap:8px;background:var(--eh);border-radius:6px;padding:2px}.resume-layout{display:grid;grid-template-columns:1fr 1fr;gap:var(--eY);flex:1;height:calc(100vh - 140px)}.resume-form-column{overflow-y:auto;padding:0 var(--eY) 120px 0;border-right:var(--cv) solid var(--ck)}.resume-preview-column{display:flex;flex-direction:column;background:var(--eK);height:100%;overflow:hidden}.preview-header{padding:var(--eX);background:var(--eh);border-bottom:var(--cv) solid var(--ck);font-weight:600;font-size:var(--cs);color:var(--dn);flex-shrink:0}#resume-html-preview{flex:1;overflow-y:auto;overflow-x:hidden;background:#f0f2f5;padding:var(--eY);height:0}.cv-paper-container{background:var(--fw);box-shadow:0 8px 32px rgba(0,0,0,.12),0 2px 8px rgba(0,0,0,.08);border-radius:4px;overflow:visible;width:100%;max-width:595px;min-height:842px;margin:0 auto var(--eY) auto}#resume-html-preview .cv-resume{transform:none;transform-origin:none;margin:0;max-width:none;min-height:auto;padding:30px;width:100%;height:auto;font-size:12px;line-height:1.4}.resume-section{margin-bottom:var(--eY)}.resume-section-title{font-size:var(--bJ);font-weight:600;color:var(--dn);margin:0 0 var(--eW) 0;padding:var(--eI) 0;border-bottom:1px solid var(--ei);display:flex;align-items:center;justify-content:space-between;cursor:pointer;user-select:none;transition:var(--bv)}.resume-section-title:hover{background:var(--eK);padding-left:var(--eI);padding-right:var(--eI);border-radius:var(--dM)}.section-title-content{display:flex;align-items:center;gap:var(--eW)}.form-field label,.section-completion{font-size:var(--cr);color:var(--el);font-weight:400}.section-arrow{font-size:18px;color:var(--ek);transition:transform var(--bv);user-select:none}.section-arrow.collapsed{transform:rotate(-90deg)}.section-content{overflow:hidden;transition:opacity .2s ease-out;opacity:1}.section-content.collapsed{display:none}.form-grid-2,.form-grid-3{display:grid;gap:var(--eW)}.form-grid-2{grid-template-columns:1fr 1fr;margin-bottom:var(--eW)}.form-grid-3{grid-template-columns:1fr 1fr 1fr}.dynamic-list,.form-field,.form-grid-3{margin-bottom:var(--eW)}.form-field label{display:block;font-weight:500;color:var(--dn);margin-bottom:2px}.form-field input,.form-field select,.form-field textarea{width:100%;padding:6px 8px;border-radius:var(--dM);font-size:var(--cr)}.dynamic-item .form-field input,.dynamic-item .form-field select,.dynamic-item .form-field textarea{padding:4px 6px;font-size:11px}.form-field input:focus,.form-field select:focus,.form-field textarea:focus{outline:0;border-color:var(--bN);box-shadow:0 0 0 2px var(--cI)}.form-field textarea{resize:vertical;min-height:40px}.dynamic-item{display:flex;align-items:center;gap:var(--eW);padding:var(--eI) 0;margin-bottom:var(--eI);position:relative;border-bottom:1px solid var(--eh);transform-origin:top}.dynamic-item.newly-added{animation:slideInFade .3s ease-out}.dynamic-item:last-child{border-bottom:none;margin-bottom:0}.dynamic-item.removing{animation:slideOutFade .2s ease-in forwards}.dynamic-item .form-grid-2,.dynamic-item .form-grid-3{flex:1;margin-bottom:0;gap:var(--eW)}.dynamic-item .form-field{margin-bottom:0}.dynamic-item.experience-item{flex-direction:column;align-items:stretch;padding:var(--eW) 0;gap:var(--eI)}.dynamic-item.experience-item .form-field,.dynamic-item.skill-item .form-field,.skills-keywords label{margin-bottom:var(--eI)}.experience-header{display:flex;align-items:flex-end;gap:var(--eW)}.experience-header .form-grid-2{flex:1;margin-bottom:0}.experience-header .btn-remove{margin-bottom:2px}.add-item-section{display:flex;justify-content:flex-end;margin-bottom:var(--eW)}.add-item-btn{display:inline-flex;align-items:center;gap:4px;padding:var(--eI) var(--eW);background:var(--eK);border:1px dashed var(--ej);border-radius:var(--dM);color:var(--em);font-weight:500;font-size:var(--cr);cursor:pointer;transition:var(--bv)}.add-item-btn:hover{background:var(--eh);border-color:var(--bN);color:var(--bN)}.btn-remove,.skill-header{display:flex;align-items:center}.btn-remove{background:0 0;color:var(--ek);border:0;border-radius:var(--dM);width:24px;height:32px;font-size:14px;line-height:1;cursor:pointer;transition:var(--bv);justify-content:center;flex-shrink:0;align-self:flex-end;margin-bottom:2px}.btn-remove:hover{color:var(--eP);background:var(--fj)}.dynamic-item.skill-item{flex-direction:column;align-items:stretch;padding:var(--eW) 0}.skill-header{gap:var(--eW);margin-bottom:var(--eI)}.skill-header .form-field{flex:1;margin-bottom:0}.skill-header .btn-remove{margin-top:16px}.skills-keywords{margin-left:var(--eX);margin-top:var(--eI);padding-left:var(--eW);border-left:2px solid var(--ei)}.skills-keywords label{display:block;color:var(--em)}.keyword-tags{display:flex;flex-wrap:wrap;gap:var(--eI);align-items:center}.keyword-tag,.skills-keywords label{font-size:var(--cr);font-weight:500}.keyword-tag{display:inline-flex;align-items:center;background:var(--ea);color:var(--ef);border:1px solid var(--eb);border-radius:var(--cH);padding:4px 8px;gap:6px;transition:var(--bv)}.keyword-tag:hover{background:var(--eb)}.keyword-text{line-height:1}.keyword-input,.keyword-remove{transition:var(--bv)}.keyword-remove{background:0 0;border:0;color:var(--ed);cursor:pointer;font-size:14px;line-height:1;padding:0;margin:0;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%}.keyword-remove:hover{background:var(--ec);color:var(--eg)}.keyword-input{border:1px dashed var(--ck);border-radius:var(--dM);padding:4px 8px;font-size:var(--cr);background:var(--eK);min-width:100px}.keyword-input:focus{outline:0;border-color:var(--bN);border-style:solid;background:var(--fw);box-shadow:0 0 0 2px var(--cI)}.add-keyword-btn{background:var(--eh);border:1px dashed var(--ej);border-radius:var(--dM);padding:4px 8px;font-size:var(--cr);cursor:pointer;color:var(--em);transition:var(--bv);display:inline-flex;align-items:center;gap:4px}.add-keyword-btn:hover{background:var(--ei);border-color:var(--bN);color:var(--bN)}.add-keyword-btn .material-symbols-outlined{font-size:12px}select{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 6px center;background-size:12px;padding-right:24px}input[type=month]{appearance:none;-webkit-appearance:none;-moz-appearance:textfield}.dynamic-item .form-field:last-child,.dynamic-item .form-grid-2:last-child,.resume-section .dynamic-list:last-child,.resume-section .form-field:last-child,.resume-section .form-grid-2:last-child{margin-bottom:0}.cv-container,.cv-resume{background:var(--cJ)}.cv-container{--bL:'Inter',-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;--q:'Merriweather',Georgia,serif;--cx:12px;--bM:1.4;--bl:#3a3a7a;--K:#fc5c7d;--cg:#2d3748;--A:#718096;--cJ:#ffffff;--by:#f7fafc;--bz:#e2e8f0;--cK:0.25rem;--cL:0.5rem;--cM:1rem;--cN:1.5rem;--cO:2rem;--cy:3rem;--cz:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);--cA:0 4px 6px -1px rgba(0, 0, 0, 0.1),0 2px 4px -1px rgba(0, 0, 0, 0.06);--B:linear-gradient(135deg, var(--bl) 0%, var(--K) 100%);--bm:linear-gradient(135deg, var(--bl) 0%, var(--K) 100%);border:1px solid var(--bz);border-radius:8px;overflow:auto;max-height:100%;font-family:var(--bL);font-size:var(--cx);line-height:var(--bM);color:var(--cg)}.cv-resume{max-width:21cm;min-height:29.7cm;margin:0 auto;padding:var(--cy);display:grid;grid-template-columns:2fr 1fr;grid-template-rows:auto 1fr;grid-gap:var(--cO);grid-template-areas:"header header""content sidebar"}.cv-header{grid-area:header;text-align:center;padding-bottom:var(--cN);border-bottom:3px solid transparent;border-image:var(--B) 1;margin-bottom:var(--cO)}.cv-name{font-family:var(--q);font-size:2.5rem;font-weight:700;margin:0 0 var(--cL) 0;background:var(--bm);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.025em}.cv-title{font-size:1.2rem;font-weight:400;color:var(--A);margin:0;letter-spacing:.05em;text-transform:uppercase}.cv-main{grid-area:header/header/content/content;display:contents}.cv-section-title{font-family:var(--q);font-size:1.1rem;font-weight:600;margin:0 0 var(--cM) 0;color:var(--bl);text-transform:uppercase;letter-spacing:.05em}.cv-content,.cv-sidebar{display:flex;flex-direction:column;gap:var(--cO)}.cv-sidebar{grid-area:sidebar;padding-left:var(--cN)}.cv-content{grid-area:content;padding-right:var(--cN)}.cv-contact-item,.cv-contact-list{display:flex;flex-direction:column;gap:var(--cM)}.cv-contact-item{gap:var(--cK)}.cv-contact-label{font-weight:600;font-size:.85rem;color:var(--bl);text-transform:uppercase;letter-spacing:.05em}.cv-contact-value{color:var(--cg);text-decoration:none;font-size:.9rem;word-break:break-word}.cv-contact-value:hover{color:var(--K)}.cv-languages-list{display:flex;flex-direction:column;gap:var(--cL)}.cv-language-item{display:flex;justify-content:space-between;align-items:center;padding:var(--cK) 0}.cv-language-name{font-weight:500;color:var(--cg)}.cv-language-level{font-size:.85rem;color:var(--A);font-style:italic}.cv-skills-list{display:flex;flex-direction:column;gap:var(--cN)}.cv-skill-category{font-size:1rem;font-weight:600;color:var(--bl);margin:0 0 var(--cL) 0}.cv-skill-keywords{display:flex;flex-wrap:wrap;gap:var(--cK)}.cv-skill-keyword{color:var(--cg);padding:var(--cK) var(--cL);border-radius:4px;font-size:.85rem;font-weight:500;border:1px solid var(--bz);transition:all .2s ease}.cv-summary-text{margin:0 0 var(--cM) 0;color:var(--cg);text-align:justify;line-height:1.6}.cv-summary-text:last-child{margin-bottom:0}.cv-experience-list{display:flex;flex-direction:column;gap:var(--cO)}.cv-experience-item{padding-bottom:var(--cN);border-bottom:1px solid var(--bz)}.cv-experience-item:last-child{border-bottom:none;padding-bottom:0}.cv-experience-header{margin-bottom:var(--cL)}.cv-experience-position{font-size:1.1rem;font-weight:600;color:var(--cg);margin:0}.cv-experience-company{font-size:1rem;font-weight:500;color:var(--bl);margin:var(--cK) 0 0 0}.cv-experience-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--cM);font-size:.9rem;color:var(--A)}.cv-experience-dates{font-weight:500}.cv-experience-location{font-style:italic}.cv-experience-summary{margin:0 0 var(--cM) 0;color:var(--cg);text-align:justify;line-height:1.6}.cv-experience-highlights{margin:0;padding-left:var(--cN)}.cv-experience-highlight{margin-bottom:var(--cL);color:var(--cg);line-height:1.6}.cv-experience-highlight:last-child{margin-bottom:0}.cv-education-list{display:flex;flex-direction:column;gap:var(--cM)}.cv-education-item{padding-bottom:var(--cM);border-bottom:1px solid var(--bz)}.cv-education-item:last-child,.cv-project-item:last-child{border-bottom:none;padding-bottom:0}.cv-education-degree{font-size:1rem;font-weight:600;color:var(--cg);margin:0 0 var(--cK) 0}.cv-education-field,.cv-education-institution{font-size:.95rem;font-weight:500;color:var(--A);margin:0 0 var(--cK) 0}.cv-education-institution{font-size:.9rem;color:var(--bl)}.cv-education-dates{font-size:.85rem;color:var(--A);font-weight:500}.cv-projects-list{display:flex;flex-direction:column;gap:var(--cN)}.cv-project-item{padding-bottom:var(--cM);border-bottom:1px solid var(--bz)}.cv-project-description,.cv-project-name{margin:0 0 var(--cL) 0;color:var(--cg)}.cv-project-name{font-size:1rem;font-weight:600}.cv-project-description{text-align:justify;line-height:1.6}.cv-project-url{display:inline-block;color:var(--bl);text-decoration:none;font-size:.9rem;margin-bottom:var(--cL)}.cv-project-url:hover{color:var(--K);text-decoration:underline}.cv-project-tags{display:flex;flex-wrap:wrap;gap:var(--cK)}.cv-project-tag{color:var(--A);padding:var(--cK) var(--cL);border-radius:4px;font-size:.8rem;font-weight:500;border:1px solid var(--bz)}.cv-awards-list,.cv-certifications-list,.cv-volunteer-list{display:flex;flex-direction:column;gap:var(--cM)}.cv-award-item,.cv-certification-item,.cv-volunteer-item{padding-bottom:var(--cL);border-bottom:1px solid var(--bz)}.cv-award-item:last-child,.cv-certification-item:last-child,.cv-volunteer-item:last-child{border-bottom:none;padding-bottom:0}.cv-award-title,.cv-certification-name,.cv-volunteer-role{font-size:1rem;font-weight:600;color:var(--cg);margin:0 0 var(--cK) 0}.cv-award-awarder,.cv-certification-issuer,.cv-volunteer-organization{font-size:.9rem;color:var(--bl);margin:0 0 var(--cK) 0;font-weight:500}.cv-award-date,.cv-certification-date,.cv-volunteer-dates{font-size:.85rem;color:var(--A);font-weight:500}.tab-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--eY);padding-bottom:var(--eX);border-bottom:var(--cv) solid var(--ck)}.tab-title{font-size:var(--cu);font-weight:600;color:var(--dn);margin:0;line-height:var(--P)}.jobs-container{padding:24px;display:flex;flex-direction:column;flex:1}.jobs-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--eY);padding-bottom:var(--eX);border-bottom:var(--cv) solid var(--ck)}.jobs-title{font-size:var(--cu);font-weight:600;color:var(--dn);margin:0;line-height:var(--P)}.contacts-stats,.jobs-stats,.kanban-stats,.tab-stats,.tasks-stats{display:flex;background:var(--eh);border-radius:6px;padding:1px}.contacts-stats .contacts-count,.jobs-stats .stat-item,.kanban-stats .kanban-total-jobs,.tab-stats .stat-item,.tasks-stats .tasks-total-count{padding:6px 16px;background:0 0;border:0;border-radius:4px;color:var(--em);font-size:14px;font-weight:500;cursor:pointer;transition:var(--bv);display:flex;align-items:center;gap:2px;white-space:nowrap}.contacts-stats .contacts-count:hover,.contacts-table td a,.jobs-stats .stat-item:hover,.kanban-stats .kanban-total-jobs:hover,.tab-stats .stat-item:hover,.tasks-stats .tasks-total-count:hover{color:var(--dn)}.contacts-stats,.jobs-stats,.kanban-stats,.tasks-stats{align-items:center;gap:8px;padding:2px}.contacts-stats .contacts-count.active,.jobs-stats .stat-item.active,.kanban-stats .kanban-total-jobs.active,.tasks-stats .tasks-total-count.active{background:var(--fw);color:var(--dn);box-shadow:0 1px 3px rgba(0,0,0,.1)}.modal-overlay.custom-dialog{z-index:10000;background-color:rgba(0,0,0,.6);animation:fadeIn .15s ease-out}.custom-dialog-modal{max-width:400px;width:90%;transition:opacity .15s ease-out,transform .15s ease-out;will-change:opacity,transform}.custom-dialog-body{padding:var(--eY);text-align:center}.dialog-message{margin-bottom:var(--eY);font-size:var(--bJ);line-height:1.5;color:var(--dn)}.dialog-input-container{margin-top:var(--eY);margin-bottom:var(--eW)}.dialog-input{width:100%;padding:var(--eX);border:var(--cv) solid var(--ck);border-radius:var(--ch);font-size:var(--bJ);background:var(--fw);color:var(--dn);box-sizing:border-box}.dialog-input:focus{outline:0;border-color:var(--bN);box-shadow:0 0 0 3px var(--dh)}.dialog-footer{display:flex;justify-content:flex-end;gap:var(--eW);padding:var(--eY);border-top:var(--cv) solid var(--ck);background:var(--eK)}.custom-dialog .action-btn{min-height:32px;padding:5px 16px;font-size:var(--cs);font-weight:500}.custom-dialog-modal .modal-header{background:var(--fw);color:var(--dn);border-bottom:var(--cv) solid var(--ck)}.dialog-icon{display:inline-block;width:24px;height:24px;margin-right:var(--eW);vertical-align:middle}.task-modal{max-width:500px;width:100%}.task-form,.task-job-info{display:flex;flex-direction:column;gap:16px}.task-job-info{gap:8px;padding:12px;background:var(--eK);border-radius:6px;border:var(--cv) solid var(--ck)}.task-job-info label{font-size:var(--cr);font-weight:600;color:var(--em);text-transform:uppercase;letter-spacing:.5px}.job-info-display{font-size:var(--cs);font-weight:500;color:var(--dn)}.task-text-field{display:flex;flex-direction:column;gap:8px}.task-job-selection label,.task-text-field label{font-size:var(--cr);font-weight:600;color:var(--dn)}.note-edit-textarea,.task-edit-textarea{width:100%;padding:8px 12px;border:var(--cv) solid var(--ck);border-radius:6px;font-size:var(--cs);font-family:inherit;background:var(--fw);color:var(--dn);transition:var(--bv);resize:vertical;min-height:80px}.task-edit-due-date:focus,.task-edit-duration:focus,.task-edit-priority:focus,.task-edit-status:focus,.task-edit-textarea:focus,.task-job-select:focus{outline:2px solid var(--dY);outline-offset:-2px;border-color:var(--dY)}.task-edit-due-date,.task-edit-duration,.task-edit-priority,.task-edit-status{padding:6px 12px;border:var(--cv) solid var(--ck);border-radius:6px;font-size:var(--cs);font-family:inherit;background:var(--fw);color:var(--dn);transition:var(--bv)}.modal-footer-left{flex:1;display:flex;justify-content:flex-start}.modal-footer-right,.task-job-selection{display:flex;gap:8px}.task-job-selection{flex-direction:column}.task-job-select{padding:8px 12px;border:var(--cv) solid var(--ck);border-radius:6px;font-size:var(--cs);font-family:inherit;background:var(--fw);color:var(--dn);transition:var(--bv)}table,td{font-size:14px}table{width:100%;border-collapse:separate;border-spacing:0;line-height:1.45;table-layout:fixed}.priority-cell,th{text-align:left;padding:8px 16px;white-space:nowrap}th{background:var(--eK);position:sticky;top:0;z-index:100;font-weight:600;border-bottom:var(--cv) solid var(--ck);text-transform:none;letter-spacing:normal;font-size:12px}td{padding:8px 16px;border-bottom:var(--cv) solid var(--cl);vertical-align:middle;background:var(--fw);font-weight:400;height:64px;max-height:64px;box-sizing:border-box;overflow:hidden}tr:hover td{background-color:var(--eK)}tbody tr{transition:background-color .1s ease}.priority-cell{width:60px}.company-name,td,th{color:var(--dn)}#companyHeader,#positionHeader{width:200px}.company-name,.position-name{font-weight:var(--H);white-space:nowrap;overflow:visible;width:200px}td .current-phase{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px}.phase-display{display:flex;flex-direction:column;gap:var(--eI)}.phase-main{font-weight:600;color:var(--cm)}.phase-substep{font-size:var(--cr);color:var(--bB);opacity:.8}.location,.salary{font-size:14px;max-width:120px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.salary{color:var(--dn);font-weight:400}.location{color:var(--do)}.contact,.notes,.tasks{text-align:center;width:var(--fE)}.actions-cell,.source-url{text-align:center;padding:var(--eW)}.actions-cell{width:auto;min-width:200px;white-space:nowrap}.actions-cell .action-btn{margin:0 1px;position:relative;flex-shrink:0}.actions-cell .kanban-action-icons{border-top:0;margin:0;padding:0}.source-url{width:var(--fD)}.source-link{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:6px;background:0 0;color:var(--el);text-decoration:none;transition:var(--bv);border:1px solid transparent}.source-link:hover{background:var(--eJ);color:var(--ed)}.source-link .material-symbols-outlined{font-size:16px;font-weight:400}tr.editing{background-color:var(--dh)!important;box-shadow:0 0 0 var(--I) var(--bP)}tr.editing td{background-color:transparent;padding:0;height:64px}.phase-cell{height:64px;max-height:64px;padding:0;overflow:hidden;box-sizing:border-box}.phase-cell .inline-edit{height:30px;padding:4px 8px;border:0;border-radius:0;font-size:var(--cr);margin:0;box-sizing:border-box;width:100%;background:0 0;color:var(--dn);display:block}.phase-cell .inline-edit:first-child{border-bottom:1px solid var(--cl)}.inline-edit:focus,.phase-cell .inline-edit:focus,.priority-select:focus{outline:2px solid var(--bN);outline-offset:-2px}.inline-edit,.priority-select{width:100%;height:64px;padding:12px;border:0;border-radius:0;font-size:var(--cr);background:0 0;color:var(--dn);box-sizing:border-box}.inline-edit{transition:var(--bv)}.priority-select{text-align:center}tr.editing .actions-cell{display:flex;gap:var(--eI);align-items:center;justify-content:center;padding:var(--eI)}tr.editing .actions-cell button{min-width:var(--bx);height:var(--bx);padding:0;border-radius:var(--dM);display:flex;align-items:center;justify-content:center}.contact-form{display:grid;grid-template-columns:1fr 1fr;gap:var(--eW);margin-bottom:var(--eX)}.contact-form input{padding:var(--eW);border:var(--cv) solid var(--ck);border-radius:var(--dM);font-size:var(--cs)}.contacts-table,.notes-table,.tasks-table{width:100%;border-collapse:separate;border-spacing:0;margin-bottom:16px;background:var(--fw);border:1px solid var(--ck);border-radius:8px;overflow:hidden;font-size:var(--cr)}.contacts-table th,.notes-table th,.tasks-table th{background:var(--eK);padding:8px 12px;text-align:left;font-weight:600;font-size:var(--cr);color:var(--en);border-bottom:1px solid var(--ck);position:sticky;top:0;white-space:nowrap}.contacts-table td,.notes-table td,.tasks-table td{padding:8px 12px;border-bottom:1px solid var(--cl);background:var(--fw);font-size:var(--cr)}.contacts-table td,.tasks-table td{vertical-align:middle;height:44px}.notes-table td{vertical-align:top;height:auto;min-height:44px}.notes-table .note-text-cell{max-width:300px;line-height:1.4}.notes-table td:first-child,.notes-table td:nth-child(2),.notes-table th:first-child,.notes-table th:nth-child(2){width:100px;min-width:100px;max-width:100px}.notes-table td:nth-child(3),.notes-table th:nth-child(3){width:auto;min-width:200px}.notes-table th:nth-child(4){width:80px}.notes-table td:nth-child(4),.notes-table th:nth-child(4){min-width:80px;max-width:80px}.contacts-table td,.notes-table td,.tasks-table td{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notes-table .note-text-cell,.tasks-table .task-text-cell{white-space:normal;word-wrap:break-word}.notes-table td:nth-child(4){white-space:nowrap;width:80px}.tasks-table td:nth-child(4){white-space:nowrap}.contacts-table-actions,.notes-table-actions,.tasks-table-actions{white-space:nowrap;width:auto;min-width:fit-content;display:flex;align-items:center;gap:4px;justify-content:center;flex-wrap:nowrap;height:100%;vertical-align:top}.contacts-table-actions .action-btn,.notes-table-actions .action-btn,.tasks-table-actions .action-btn{flex-shrink:0;min-width:22px;width:22px;height:22px;padding:2px;border:0;background:0 0;border-radius:4px}.tasks-table .task-info-row{height:32px}.tasks-table .task-info-row td{height:32px;padding:4px 8px;border-bottom:none}.tasks-table .task-text-row{border-top:none}.tasks-table .task-text-row td{height:32px;padding:4px 8px;border-bottom:1px solid var(--cl);color:var(--em);font-size:13px;font-style:italic}.task-priority-display,.task-status-display{display:inline-block;padding:2px 8px;border-radius:12px;font-size:var(--cr);font-weight:500;border:0;cursor:default;min-width:60px;text-align:center}.tasks-table td:first-child,.tasks-table td:nth-child(2),.tasks-table th:first-child,.tasks-table th:nth-child(2){width:80px;min-width:80px;max-width:80px}.tasks-table td:nth-child(3),.tasks-table th:nth-child(3){width:100px;min-width:100px;max-width:100px}.tasks-table td:nth-child(4),.tasks-table td:nth-child(5),.tasks-table th:nth-child(4),.tasks-table th:nth-child(5){width:80px;min-width:80px;max-width:80px}.task-priority-display,.task-status-display{background:var(--eh);color:var(--en)}.task-status-display.status-done{background:var(--dz);color:var(--dF)}.task-status-display.status-in-progress{background:var(--ea);color:var(--ee)}.task-priority-display.priority-high{background:var(--eL);color:var(--eR)}.task-priority-display.priority-medium{background:var(--cP);color:var(--cV)}.task-priority-display.priority-low{background:var(--dz);color:var(--dF)}.task-due-date-display,.task-duration-display{font-family:inherit;font-size:14px;color:var(--dn)}.task-info-row+.task-text-row td,.task-text-row{border-top:none}.task-text-row td{padding-top:4px;padding-bottom:12px;border-bottom:var(--cv) solid var(--cl);font-style:italic;color:var(--em)}.contacts-table tr.editing,.notes-table tr.editing,.tasks-table tr.editing{background-color:var(--eJ)!important}.contacts-table tr.editing td,.notes-table tr.editing td,.tasks-table tr.editing td{background-color:transparent;padding:0}.notes-table .inline-edit,.tasks-table .inline-edit{width:100%;padding:8px 12px;border:0;border-radius:0;font-size:14px;background:0 0;color:var(--dn);transition:var(--bv);height:32px;min-height:32px;box-sizing:border-box}.tasks-table .task-due-date-edit,.tasks-table .task-duration-edit,.tasks-table .task-priority-edit,.tasks-table .task-status-edit{width:100%;padding:4px 8px;border:0;border-radius:0;background:0 0;font-size:14px;box-sizing:border-box;height:32px}.notes-table .inline-edit:focus,.tasks-table .inline-edit:focus{outline:2px solid var(--dY);outline-offset:-2px;background:var(--fw)}.tasks-table select.inline-edit{appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right 8px center;background-repeat:no-repeat;background-size:16px;padding-right:32px;cursor:pointer}.notes-table textarea.inline-edit{resize:vertical;height:auto;min-height:44px;line-height:1.4;overflow:hidden}.tasks-table .task-text-edit,.tasks-table .task-text-row textarea.inline-edit{height:auto;min-height:44px;font-style:italic;color:var(--em);padding:8px;line-height:1.4;resize:vertical}.contacts-table .editable-cell{cursor:pointer;transition:background-color .15s ease}.contacts-table .editable-cell:hover{background:var(--eK)}.contacts-table .inline-edit-input{width:100%;padding:8px 12px;border:0;border-radius:0;font-size:14px;background:0 0;color:var(--dn);transition:var(--bv);height:44px;box-sizing:border-box;box-shadow:none}.contacts-table .inline-edit-input:focus{outline:2px solid var(--dY);outline-offset:-2px;background:var(--fw)}.contacts-table .contact-name{font-weight:500;color:var(--dn)}.contacts-table .contact-link{color:var(--ed);text-decoration:none}.contacts-table .contact-link:hover{text-decoration:underline}.contacts-table .contact-phone{font-family:var(--dX, monospace)}.contacts-table .contact-company{color:var(--em);font-style:italic}.contacts-table td:first-child,.contacts-table td:nth-child(2),.contacts-table th:first-child,.contacts-table th:nth-child(2){width:180px;min-width:180px;max-width:180px}.contacts-table td:nth-child(3),.contacts-table td:nth-child(4),.contacts-table th:nth-child(3),.contacts-table th:nth-child(4){width:140px;min-width:140px;max-width:140px}.contacts-table td:nth-child(5),.contacts-table th:nth-child(5){width:80px;min-width:80px;max-width:80px}.dashboard-container{padding:24px;display:flex;flex-direction:column;gap:32px;height:100%;overflow-y:auto}.dashboard-stats-section{display:flex;flex-direction:column;gap:16px}.dashboard-section-title{font-size:var(--ct);font-weight:600;color:var(--dn);margin:0}.dashboard-stats-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:12px}.dashboard-stat-card{background:var(--fw);border:var(--cv) solid var(--ck);border-radius:8px;padding:16px;display:flex;align-items:flex-start;gap:12px;transition:var(--bv);min-width:0}.dashboard-stat-card:hover{box-shadow:0 2px 8px rgba(0,0,0,.1);transform:translateY(-1px)}.stat-icon{width:40px;height:40px;border-radius:6px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon .material-symbols-outlined{font-size:20px}.stat-content{flex:1;min-width:0}.stat-value{font-size:var(--cu);font-weight:700;color:var(--dn);line-height:1.2}.stat-label{font-size:var(--cr);color:var(--do);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stat-primary .stat-icon{background:var(--eJ);color:var(--ed)}.stat-success .stat-icon{background:var(--eq);color:var(--dE)}.stat-info .stat-icon{background:var(--ea);color:var(--ee)}.stat-warning .stat-icon{background:var(--dI);color:var(--cU)}.stat-secondary .stat-icon{background:var(--dJ);color:var(--dd)}.stat-default .stat-icon{background:var(--eh);color:var(--em)}.dashboard-tasks-container{display:grid;grid-template-columns:1fr 1fr;gap:24px}.dashboard-tasks-section{background:var(--fw);border:var(--cv) solid var(--ck);border-radius:8px;padding:20px;display:flex;flex-direction:column;gap:16px}.dashboard-tasks-list{display:flex;flex-direction:column;gap:8px;max-height:400px;overflow-y:auto}.dashboard-task-item{background:var(--eK);border:var(--cv) solid var(--ck);border-radius:6px;padding:12px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:var(--bv)}.dashboard-task-item:hover{background:var(--eh);border-color:var(--ej)}.task-time{font-size:var(--cs);font-weight:500;color:var(--do);min-width:60px}.task-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:4px}.task-text{font-size:var(--bJ);color:var(--dn);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.task-job,.task-status{font-size:var(--cr)}.task-job{display:flex;align-items:center;gap:4px;color:var(--do)}.task-job .material-symbols-outlined{font-size:14px}.task-status{font-weight:500;padding:4px 8px;border-radius:4px;white-space:nowrap}.task-status.status-todo{background:var(--eJ);color:var(--ee)}.task-status.status-in-progress{background:var(--dI);color:var(--cV)}.task-status.status-done{background:var(--eq);color:var(--dF)}.dashboard-task-item.priority-high{border-left:3px solid var(--eP)}.dashboard-task-item.priority-medium{border-left:3px solid var(--cT)}.dashboard-task-item.priority-low{border-left:3px solid var(--dY)}.empty-state{text-align:center;padding:32px;color:var(--do);font-size:var(--cs)}@media (max-width:768px){body{padding:var(--eW)}.header{padding:var(--eY);flex-direction:column;gap:var(--eX);align-items:stretch}.controls,.stats{gap:var(--eW)}.controls{padding:var(--eY);flex-direction:column;align-items:stretch}.stats{grid-template-columns:repeat(auto-fit,minmax(var(--fl),1fr));padding:var(--eX) var(--eY)}.board-placeholder{margin:var(--eY);min-height:300px}.footer-content{flex-direction:column;gap:8px}.hidden-mobile{display:none}.visible-mobile{display:block}.contacts-container{padding:16px}.contacts-header{flex-direction:column;align-items:flex-start;gap:12px}.contacts-title{font-size:18px}.contact-form-row{grid-template-columns:1fr}.contact-form-field.full-width{grid-column:span 1}.kanban-container{padding:16px}.kanban-board{gap:12px}.kanban-column{min-width:240px;width:240px}.kanban-job-card{padding:10px}.tasks-container{padding:16px}.tasks-board{gap:12px}.tasks-column{min-width:200px}.tasks-task-card{padding:10px}.calendar-container{padding:16px}.calendar-header{flex-direction:column;gap:16px;align-items:stretch}.calendar-controls{flex-direction:column;gap:12px}.calendar-nav,.calendar-view-selector{width:100%;justify-content:center}.calendar-day{min-height:80px;padding:6px}.calendar-day-view,.calendar-week{height:400px}.calendar-day-times,.calendar-week-times{display:none}.calendar-week{grid-template-columns:repeat(7,1fr)}.calendar-day-view,.resume-layout{grid-template-columns:1fr}.resume-layout{grid-template-rows:1fr auto}.resume-form-column{border-right:none;border-bottom:var(--cv) solid var(--ck)}.resume-json-column{max-height:300px}.form-grid-2,.form-grid-3{grid-template-columns:1fr;gap:var(--eI)}.jobs-header,.tab-header{flex-direction:column;align-items:stretch;gap:var(--eX)}.jobs-title,.tab-title{text-align:center}.jobs-container{padding:16px}.contacts-stats,.jobs-stats,.kanban-stats,.tab-stats,.tasks-stats{flex-wrap:wrap}.table-container{max-height:60vh}td,th{padding:var(--eI)}td .current-phase{max-width:var(--fk)}.location,.salary{font-size:var(--bZ)}.dashboard-container{padding:16px;gap:24px}.dashboard-tasks-container{grid-template-columns:1fr}.dashboard-stats-grid{grid-template-columns:repeat(2,1fr);gap:12px}.dashboard-stat-card{padding:12px}.stat-icon{width:36px;height:36px}.stat-icon .material-symbols-outlined{font-size:18px}.stat-value{font-size:var(--ct)}}@media (max-width:600px){.tab-navigation{flex-direction:column}.tab-button{width:100%;justify-content:center}}@media (min-width:769px){.hidden-desktop{display:none}.visible-desktop{display:block}}@media (max-width:640px){.contact-form-row,.form-row{grid-template-columns:1fr}.form-field.full-width{grid-column:span 1}}@media print{.cv-resume{transform:none!important;margin:0!important;padding:.5in;font-size:13px;line-height:1.4;max-width:none;min-height:auto}.cv-name{font-size:2rem}.cv-title{font-size:1.1rem}.cv-section-title{font-size:1rem;padding:var(--cK) var(--cL)}.cv-award-item,.cv-certification-item,.cv-education-item,.cv-experience-item,.cv-project-item,.cv-volunteer-item{break-inside:avoid;page-break-inside:avoid}.cv-section-title{break-after:avoid;page-break-after:avoid}}@media (max-width:800px){.cv-resume{grid-template-columns:1fr;grid-template-areas:"header""content""sidebar";padding:var(--cN)}.cv-sidebar{padding-left:0}.cv-content{padding-right:0}.cv-experience-meta{flex-direction:column;align-items:flex-start;gap:var(--cK)}.cv-name{font-size:2rem}.cv-title{font-size:1rem}}@media (max-width:480px){.contacts-stats .contacts-count,.jobs-stats .stat-item,.kanban-stats .kanban-total-jobs,.tab-stats .stat-item,.tasks-stats .tasks-total-count{padding:4px 8px;font-size:12px}.custom-dialog-modal{max-width:95%;margin:var(--eY)}.dialog-footer{flex-direction:column}.dialog-footer .action-btn{width:100%;justify-content:center}.task-modal{max-width:95%;margin:16px}.modal-footer{flex-direction:column;gap:12px}.modal-footer-left,.modal-footer-right{width:100%;justify-content:center}.modal-footer-right{flex-direction:column;gap:8px}}@media (max-width:1024px){table{font-size:var(--cr)}td,th{padding:var(--eW) var(--eI)}td .current-phase{max-width:var(--fl)}.dashboard-stats-grid{grid-template-columns:repeat(4,1fr)}}@media (max-width:1400px){.dashboard-stats-grid{grid-template-columns:repeat(4,1fr)}}</style></head> <body> <script>"jobtracker.cv"!==window.location.hostname&&localStorage.setItem("umami.disabled",1)</script> <div class=container> <div class=header> <h1 id=appTitle>...</h1> <div class=language-switcher-container> <div id=languageSwitcher></div> </div> </div> <div id=tabNavigation></div> <div class=tab-content-container> <div class=tab-content data-tab=dashboard> </div> <div class="tab-content active" data-tab=jobs> <div class=jobs-container> <div class=jobs-header> <h2 class=jobs-title id=jobsTitle>...</h2> <div class=jobs-stats> <div class=stat-item> <div class=stat-number id=totalApps>0</div> <div class=stat-label id=totalAppsLabel>...</div> </div> <div class=stat-item> <div class=stat-number id=activeApps>0</div> <div class=stat-label id=activeAppsLabel>...</div> </div> <div class=stat-item> <div class=stat-number id=interviews>0</div> <div class=stat-label id=interviewsLabel>...</div> </div> <div class=stat-item> <div class=stat-number id=offers>0</div> <div class=stat-label id=offersLabel>...</div> </div> <div class=stat-item> <div class=stat-number id=rejections>0</div> <div class=stat-label id=rejectionsLabel>...</div> </div> </div> </div> <div class=table-container> <table id=jobTable> <thead> <tr> <th> <div class=header-with-filter> <span id=priorityHeader>...</span> <span class=filter-dropdown-icon onclick='toggleDropdown("priorityDropdown")'> <span class=material-symbols-outlined>expand_more</span> </span> <div class=filter-dropdown id=priorityDropdown></div> </div> </th> <th id=companyHeader>...</th> <th id=positionHeader>...</th> <th> <div class=header-with-filter> <span id=currentPhaseHeader>...</span> <span class=filter-dropdown-icon onclick='toggleDropdown("phaseDropdown")'> <span class=material-symbols-outlined>expand_more</span> </span> <div class=filter-dropdown id=phaseDropdown></div> </div> </th> <th id=salaryRangeHeader>...</th> <th id=locationHeader>...</th> <th id=actionsHeader>...</th> </tr> </thead> <tbody id=jobTableBody> </tbody> </table> </div> <div class=table-actions> <button id=addAppBtn onclick=addRow()>...</button> </div> </div> </div> <div class=tab-content data-tab=applications> </div> <div class=tab-content data-tab=tasks> </div> <div class=tab-content data-tab=calendar> </div> <div class=tab-content data-tab=contacts> </div> <div class=tab-content data-tab=resume> </div> </div> </div> <footer class=footer> <div class=footer-content> <p class=footer-text> <span id=footerMadeWith>Made with</span> <span class=heart>❤️</span> <span id=footerBy>by</span> <a class=author-link href=https://github.com/letanure rel="noopener noreferrer" target=_blank>letanure</a> </p> <a class=bug-report-link href=https://github.com/letanure/JobTracker/issues rel="noopener noreferrer" target=_blank> <span id=footerFoundBug>Found a bug?</span> <span class=bug-emoji aria-hidden=true>🐛</span> </a> <a class=github-link href=https://github.com/letanure/JobTracker rel="noopener noreferrer" target=_blank> <svg class=github-icon fill=currentColor height=20 viewBox="0 0 24 24" width=20> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/> </svg> <span class=github-text>View on GitHub</span> </a> </div> </footer> <script>console.log("JobTracker - Built at: 2025-06-25T08:31:27.929Z");class DOMElement{constructor(e){this.element=e}text(e){return void 0===e?this.element.textContent:(this.element.textContent=e,this)}html(e){return void 0===e?this.element.innerHTML:(this.element.innerHTML=e,this)}show(){return this.element.style.display="block",this}hide(){return this.element.style.display="none",this}toggle(){const e="block"===this.element.style.display;return this.element.style.display=e?"none":"block",this}on(e,t){return this.element.addEventListener(e,t),this}addClass(e){return this.element.classList.add(e),this}removeClass(e){return this.element.classList.remove(e),this}attr(e,t){return void 0===t?this.element.getAttribute(e):(this.element.setAttribute(e,t),this)}css(e,t){if("object"==typeof e)Object.assign(this.element.style,e);else{if(void 0===t)return getComputedStyle(this.element)[e];this.element.style[e]=t}return this}append(e){return"string"==typeof e?this.element.appendChild(document.createTextNode(e)):this.element.appendChild(e),this}get(){return this.element}}const $=e=>{if("string"==typeof e){if(e.startsWith("#")){const t=document.getElementById(e.slice(1));return t?new DOMElement(t):null}const t=document.querySelector(e);return t?new DOMElement(t):null}return e instanceof Element?new DOMElement(e):null};Object.assign($,{id:e=>document.getElementById(e),qs:e=>document.querySelector(e),qsa:e=>document.querySelectorAll(e),create:(e,t,a)=>{const o=document.createElement(e);return t&&(o.className=t),a&&(o.textContent=a),o},on:(e,t,a)=>e.addEventListener(t,a),html:(e,t)=>{e.innerHTML=t},text:(e,t)=>{e.textContent=t},show:e=>{e.style.display="block"},hide:e=>{e.style.display="none"},toggle:e=>{const t="block"===e.style.display;e.style.display=t?"none":"block"}});const h=(e,t,...a)=>{const o=parseSelector(e),n=document.createElement(o.tag);if(o.id&&(n.id=o.id),o.classes.length&&(n.className=o.classes.join(" ")),o.attributes)for(const[e,t]of Object.entries(o.attributes))n.setAttribute(e,t);let i={},r=[];Array.isArray(t)?r=t:"string"==typeof t||"number"==typeof t?r=[t]:t&&"object"==typeof t&&!t.nodeType?(i=t,r=a):t&&(r=[t,...a]);for(const[e,t]of Object.entries(i))if("className"===e){const e=n.className?n.className.split(" "):[],a=t.split(" ");n.className=[...new Set([...e,...a])].join(" ")}else if("style"===e&&"object"==typeof t)Object.assign(n.style,t);else if("innerHTML"===e)n.innerHTML=t;else if("textContent"===e)n.textContent=t;else if(e.startsWith("on")&&"function"==typeof t){const a=e.slice(2).toLowerCase();n.addEventListener(a,t)}else e.startsWith("data-"),n.setAttribute(e,t);for(const e of r)null!=e&&("string"==typeof e||"number"==typeof e?n.appendChild(document.createTextNode(e.toString())):e instanceof Node&&n.appendChild(e));return n},parseSelector=e=>{let t="div",a="",o=[],n={};const i=e.match(/^([a-zA-Z][a-zA-Z0-9]*)/);i&&(t=i[1],e=e.slice(i[0].length));const r=e.match(/#([a-zA-Z][a-zA-Z0-9_-]*)/);r&&(a=r[1],e=e.replace(r[0],""));const s=e.match(/\.([a-zA-Z][a-zA-Z0-9_-]*)/g);s&&(o=s.map(e=>e.slice(1)),e=e.replace(/\.([a-zA-Z][a-zA-Z0-9_-]*)/g,""));const l=e.match(/\[([^\]]+)\]/);if(l){const e=l[1],t=/([a-zA-Z][a-zA-Z0-9_-]*)(?:=(?:"([^"]*)"|'([^']*)'|([^\s]+)))?/g;let a;for(;null!==(a=t.exec(e));){const e=a[1],t=a[2]||a[3]||a[4]||"";n[e]=t}}return{tag:t,id:a,classes:o,attributes:n}},DataStore={STORAGE_KEY:"jobTrackerData",save:e=>{try{return localStorage.setItem(DataStore.STORAGE_KEY,JSON.stringify(e)),!0}catch(e){return console.error("Error saving data:",e),!1}},load:()=>{try{const e=localStorage.getItem(DataStore.STORAGE_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Error loading data:",e),null}},exists:()=>null!==localStorage.getItem(DataStore.STORAGE_KEY),clear:()=>{try{return localStorage.removeItem(DataStore.STORAGE_KEY),!0}catch(e){return console.error("Error clearing data:",e),!1}}},EN_TRANSLATIONS={app:{title:"JobTracker"},buttons:{addApplication:"+ Add Application"},common:{viewJob:"View Job",chooseJob:"Choose a job..."},actions:{archive:"Archive job"},tabs:{dashboard:"Dashboard",jobs:"Jobs",applications:"Applications Board",tasks:"Tasks Board",calendar:"Calendar",contacts:"Contacts",resume:"Resume",profile:"Profile"},headers:{dashboard:"Dashboard",jobs:"Job Applications",applications:"Applications Board",tasks:"Tasks Board",calendar:"Calendar View",contacts:"All Contacts",resume:"Resume Builder"},kanban:{title:"Applications Board",totalJobs:"{count} total applications",editJob:"Edit Job",addJob:"Add Job",workflowConfig:"Workflow Configuration",workflowDescription:"Select and configure the steps for each phase of this job:"},table:{headers:{priority:"Priority",company:"Company",position:"Position",currentPhase:"Stage",substep:"Substep",salaryRange:"Salary Range",location:"Location",sourceUrl:"Source",contacts:"Contacts",notes:"Notes",tasks:"Tasks",actions:"Actions"},filters:{allPriorities:"All Priorities",allPhases:"All Phases"},placeholders:{company:"Company Name",position:"Position Title",salaryRange:"Salary Range",location:"Location",sourceUrl:"Job Posting URL"}},priorities:{high:"High",medium:"Medium",low:"Low"},phases:{wishlist:"Wishlist",applied:"Applied",interview:"Interview",offer:"Offer",rejected_withdrawn:"Rejected / Withdrawn"},substeps:{none:"No substep",wishlist:"Wishlist",applied:"Applied",interview:"Interview",offer:"Offer",rejected_withdrawn:"Rejected / Withdrawn",assess_job:"Assess Job",research_company:"Research Company",prepare_application:"Prepare Application",application_review:"Application Review",initial_screening:"Initial Screening",hr_phone_screen:"HR Phone Screen",recruiter_call:"Recruiter Call",phone_screening:"Phone Screening",technical_phone_screen:"Technical Phone Screen",coding_challenge:"Coding Challenge",take_home_assignment:"Take-home Assignment",technical_interview:"Technical Interview",system_design_interview:"System Design Interview",behavioral_interview:"Behavioral Interview",team_interview:"Team Interview",hiring_manager_interview:"Hiring Manager Interview",panel_interview:"Panel Interview",final_round:"Final Round",reference_check:"Reference Check",background_check:"Background Check",offer_discussion:"Offer Discussion",salary_negotiation:"Salary Negotiation",rejected:"Rejected",withdrawn:"Withdrawn"},stats:{totalApplications:"Total Applications",active:"Active",interviews:"Interviews",offers:"Offers",rejections:"Rejections"},messages:{welcome:"Welcome to JobTracker!\n\nWould you like to see 2 example job applications to understand how the tracker works?",welcomeConfirm:"Yes, add examples",welcomeCancel:"No, leave empty",confirmDelete:"Are you sure you want to delete the application for {position} at {company}?",confirmArchive:"Are you sure you want to archive the application for {position} at {company}?"},resume:{basics:{title:"Basic Information",name:"Full Name",label:"Professional Title",summary:"Professional Summary",email:"Email Address",phone:"Phone Number",city:"City",country:"Country",personalStatement:"Personal Statement",locationTitle:"Location"},profiles:{title:"Online Profiles",type:"Platform",url:"Profile URL",addProfile:"Add Profile",platforms:{linkedin:"LinkedIn",github:"GitHub",twitter:"Twitter",website:"Website",other:"Other"}},languages:{title:"Languages",language:"Language",fluency:"Fluency Level",addLanguage:"Add Language",levels:{native:"Native",fluent:"Fluent",intermediate:"Intermediate",beginner:"Beginner"}},skills:{title:"Skills",name:"Skill Category",keywords:"Skills",addSkill:"Add Skill Category"},experience:{title:"Work Experience",company:"Company",position:"Position",location:"Location",startDate:"Start Date",endDate:"End Date",current:"Current Position",summary:"Summary",highlights:"Key Achievements (one per line)",addExperience:"Add Experience"},projects:{title:"Projects",name:"Project Name",description:"Description",url:"Project URL",tags:"Technologies",addProject:"Add Project"},portfolio:{title:"Portfolio",type:"Type",title_field:"Title",url:"URL",addPortfolio:"Add Portfolio Item",types:{"case-study":"Case Study",artwork:"Artwork",website:"Website",app:"Application",other:"Other"}},education:{title:"Education",institution:"Institution",area:"Field of Study",studyType:"Degree/Certificate Type",startDate:"Start Date",endDate:"End Date",addEducation:"Add Education"},certifications:{title:"Certifications",type:"Type",name:"Certificate Name",issuer:"Organization",date:"Issue Date",addCertification:"Add Certification"},awards:{title:"Awards",type:"Award Type",title_field:"Award Title",issuer:"Awarding Body",date:"Award Date",addAward:"Add Award"},volunteer:{title:"Volunteer Experience",organization:"Organization",role:"Role",startDate:"Start Date",endDate:"End Date",addVolunteer:"Add Volunteer Experience"},interests:{title:"Interests",type:"Category",value:"Description",addInterest:"Add Interest"},actions:{export:"Export JSON",import:"Import JSON",clear:"Clear All",add:"Add",remove:"Remove"}},demo:{notes1:"Great culture fit. Need to research their microservices architecture.",notes2:"Early stage startup. High growth potential but risky."},seo:{title:"JobTracker - Free Local Job Tracker | No Login, No Tracking, Your Data Stays Private",description:"100% free job application tracker that works locally in your browser. No login required, no data tracking, no servers. Your job search data stays completely private on your device.",keywords:"free job tracker, local job application tracker, private job search, no login job tracker, offline job tracker, privacy-first job applications, no tracking career management, local storage job search",author:"JobTracker Team",ogTitle:"JobTracker - Free Local Job Tracker (No Login Required)",ogDescription:"Track job applications privately in your browser. 100% free, no login, no tracking, your data never leaves your device.",twitterTitle:"JobTracker - Private Job Application Tracker",twitterDescription:"Free local job tracker with complete privacy. No login, no tracking, your job search data stays on your device."},modals:{notes:{title:"Notes for {position} at {company}",activeSection:"Active Notes",archivedSection:"Archived Notes ({count})",emptyState:"No notes yet. Add your first note below.",addSection:"Add New Note",placeholder:"Enter your note here...",editTitle:"Edit note",archiveTitle:"Archive note",unarchiveTitle:"Unarchive note",addButton:"Add Note"},tasks:{title:"Tasks for {position} at {company}",activeSection:"Active Tasks",archivedSection:"Archived Tasks ({count})",emptyState:"No tasks yet. Add your first task below.",addSection:"Add New Task",placeholder:"Enter your task here...",editTitle:"Edit task",archiveTitle:"Archive task",unarchiveTitle:"Unarchive task",addButton:"Add Task",allJobs:"All Jobs",addTask:"Add Task",selectJob:"Select Job",chooseJob:"Choose a job...",taskDescription:"Task Description",taskPlaceholder:"Enter task description...",validation:{jobRequired:"Please select a job",taskRequired:"Please enter a task description"},daysOverdue:"{days} days overdue",dueToday:"Due today",dueTomorrow:"Due tomorrow",dueInDays:"Due in {days} days",status:"Status",priority:"Priority",dueDate:"Due Date",duration:"Duration",statusTodo:"To Do",statusInProgress:"In Progress",statusDone:"Done",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High"},contacts:{title:"Contacts for {position} at {company}",activeSection:"Active Contacts",archivedSection:"Archived Contacts ({count})",emptyState:"No contacts yet. Add your first contact below.",addSection:"Add New Contact",editTitle:"Edit contact",archiveTitle:"Archive contact",unarchiveTitle:"Unarchive contact",addButton:"Add Contact",placeholderName:"Name",placeholderEmail:"Email",placeholderPhone:"Phone",placeholderCompany:"Company",noContacts:"No contacts",defaultContact:"Contact",validation:{nameRequired:"Name is required",emailRequired:"Email is required"}},common:{save:"Save",cancel:"Cancel",close:"Close",delete:"Delete",ok:"OK",yes:"Yes",no:"No"},dialogs:{alert:"Alert",confirm:"Confirm",prompt:"Input Required"}},forms:{saveChangesTitle:"Save changes",cancelEditingTitle:"Cancel editing",noDueDate:"No due date",placeholderNameEmail:"Name\nEmail"},footer:{madeWith:"Made with",by:"by",foundBug:"Found a bug?"},calendar:{title:"Calendar View",today:"Today",month:"Month",week:"Week",day:"Day",previous:"Previous",next:"Next",noEvents:"No events scheduled",events:"events",applied:"Applied",task:"Task",interview:"Interview",followUp:"Follow-up",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},validation:{companyPositionRequired:"Company and position are required",currentStepRequired:"Current step is required"},contactsView:{title:"All Contacts",totalContacts:"{count} total contacts",emptyState:"No contacts found. Add contacts to your jobs to see them here.",nameHeader:"Name",emailHeader:"Email",phoneHeader:"Phone",roleHeader:"Role",companyHeader:"Company",jobHeader:"Position",actionsHeader:"Actions",namePlaceholder:"Contact name",emailPlaceholder:"email@example.com",phonePlaceholder:"+1 (555) 123-4567",rolePlaceholder:"Role/Title",addContact:"Add Contact",addContactTitle:"Add New Contact",selectJob:"Select a job...",noJobsAvailable:"No jobs available. Please create a job first.",deleteTitle:"Delete contact",deleteConfirmation:"Are you sure you want to delete {name}?",validation:{nameRequired:"Name is required",jobRequired:"Please select a job"}},dashboard:{stats:{title:"Overview",totalJobs:"Total Jobs",activeTasks:"Active Tasks",totalContacts:"Total Contacts",totalNotes:"Total Notes",activeApplications:"Active Applications",interviews:"Interviews",offers:"Offers",thisWeek:"This Week"},todayTasks:{title:"Today's Tasks",noTasks:"No tasks scheduled for today"},tomorrowTasks:{title:"Tomorrow's Tasks",noTasks:"No tasks scheduled for tomorrow"},recentActivity:{title:"Recent Activity",noActivity:"No recent activity"}}},PT_TRANSLATIONS={app:{title:"JobTracker"},buttons:{addApplication:"+ Adicionar Candidatura"},common:{viewJob:"Ver Vaga",chooseJob:"Escolha uma vaga..."},actions:{archive:"Arquivar vaga"},tabs:{dashboard:"Painel",jobs:"Empregos",applications:"Quadro de Candidaturas",tasks:"Quadro de Tarefas",calendar:"Calendário",contacts:"Contatos",resume:"Currículo",profile:"Perfil"},headers:{dashboard:"Painel",jobs:"Candidaturas a Empregos",applications:"Quadro de Candidaturas",tasks:"Quadro de Tarefas",calendar:"Vista do Calendário",contacts:"Todos os Contatos",resume:"Construtor de Currículo"},kanban:{title:"Quadro de Candidaturas",totalJobs:"{count} candidaturas no total",editJob:"Editar Vaga",addJob:"Adicionar Vaga",workflowConfig:"Configuração do Fluxo",workflowDescription:"Selecione e configure as etapas para cada fase desta vaga:"},table:{headers:{priority:"Prioridade",company:"Empresa",position:"Cargo",currentPhase:"Fase Atual",substep:"Subetapa",salaryRange:"Salario",sourceUrl:"Link",location:"Localização",contacts:"Contatos",notes:"Notas",tasks:"Tarefas",actions:"Ações"},filters:{allPriorities:"Todas as Prioridades",allPhases:"Todas as Fases"},placeholders:{company:"Nome da Empresa",position:"Cargo",salaryRange:"Faixa Salarial",location:"Localização",sourceUrl:"URL da Vaga"}},priorities:{high:"Alta",medium:"Média",low:"Baixa"},phases:{wishlist:"Lista de Desejos",applied:"Candidatura Enviada",interview:"Entrevista",offer:"Oferta",rejected_withdrawn:"Rejeitado / Retirado"},substeps:{none:"Nenhuma subetapa",wishlist:"Lista de Desejos",applied:"Candidatura Enviada",interview:"Entrevista",offer:"Oferta",rejected_withdrawn:"Rejeitado / Retirado",assess_job:"Avaliar Vaga",research_company:"Pesquisar Empresa",prepare_application:"Preparar Candidatura",application_review:"Análise da Candidatura",initial_screening:"Triagem Inicial",hr_phone_screen:"Triagem por Telefone - RH",recruiter_call:"Ligação do Recrutador",phone_screening:"Triagem por Telefone",technical_phone_screen:"Triagem Técnica por Telefone",coding_challenge:"Desafio de Programação",take_home_assignment:"Tarefa para Casa",technical_interview:"Entrevista Técnica",system_design_interview:"Entrevista de Design de Sistema",behavioral_interview:"Entrevista Comportamental",team_interview:"Entrevista com a Equipe",hiring_manager_interview:"Entrevista com Gerente de Contratação",panel_interview:"Entrevista em Painel",final_round:"Etapa Final",reference_check:"Verificação de Referências",background_check:"Verificação de Antecedentes",offer_discussion:"Discussão da Oferta",salary_negotiation:"Negociação Salarial",rejected:"Rejeitado",withdrawn:"Retirado"},stats:{totalApplications:"Total de Candidaturas",active:"Ativas",interviews:"Entrevistas",offers:"Ofertas",rejections:"Rejeições"},messages:{welcome:"Bem-vindo ao JobTracker!\n\nGostaria de ver 2 exemplos de candidaturas para entender como o rastreador funciona?",welcomeConfirm:"Sim, adicionar exemplos",welcomeCancel:"Não, deixar vazio",confirmDelete:"Tem certeza de que deseja excluir a candidatura para {position} na {company}?",confirmArchive:"Tem certeza de que deseja arquivar a candidatura para {position} na {company}?"},resume:{basics:{title:"Informações Básicas",name:"Nome Completo",label:"Título Profissional",summary:"Resumo Profissional",email:"Endereço de Email",phone:"Telefone",city:"Cidade",country:"País",personalStatement:"Declaração Pessoal",locationTitle:"Localização"},profiles:{title:"Perfis Online",type:"Plataforma",url:"URL do Perfil",addProfile:"Adicionar Perfil",platforms:{linkedin:"LinkedIn",github:"GitHub",twitter:"Twitter",website:"Website",other:"Outro"}},languages:{title:"Idiomas",language:"Idioma",fluency:"Nível de Fluência",addLanguage:"Adicionar Idioma",levels:{native:"Nativo",fluent:"Fluente",intermediate:"Intermediário",beginner:"Iniciante"}},skills:{title:"Habilidades",name:"Categoria de Habilidade",keywords:"Habilidades",addSkill:"Adicionar Categoria"},experience:{title:"Experiência Profissional",company:"Empresa",position:"Cargo",location:"Localização",startDate:"Data de Início",endDate:"Data de Término",current:"Cargo Atual",summary:"Resumo",highlights:"Principais Conquistas (uma por linha)",addExperience:"Adicionar Experiência"},projects:{title:"Projetos",name:"Nome do Projeto",description:"Descrição",url:"URL do Projeto",tags:"Tecnologias",addProject:"Adicionar Projeto"},portfolio:{title:"Portfólio",type:"Tipo",title_field:"Título",url:"URL",addPortfolio:"Adicionar Item do Portfólio",types:{"case-study":"Estudo de Caso",artwork:"Arte",website:"Website",app:"Aplicação",other:"Outro"}},education:{title:"Educação",institution:"Instituição",area:"Área de Estudo",studyType:"Tipo de Grau/Certificado",startDate:"Data de Início",endDate:"Data de Término",addEducation:"Adicionar Educação"},certifications:{title:"Certificações",type:"Tipo",name:"Nome da Certificação",issuer:"Organização",date:"Data de Emissão",addCertification:"Adicionar Certificação"},awards:{title:"Prêmios",type:"Tipo de Prêmio",title_field:"Título do Prêmio",issuer:"Organismo Premiante",date:"Data do Prêmio",addAward:"Adicionar Prêmio"},volunteer:{title:"Experiência Voluntária",organization:"Organização",role:"Papel",startDate:"Data de Início",endDate:"Data de Término",addVolunteer:"Adicionar Experiência Voluntária"},interests:{title:"Interesses",type:"Categoria",value:"Descrição",addInterest:"Adicionar Interesse"},actions:{export:"Exportar JSON",import:"Importar JSON",clear:"Limpar Tudo",add:"Adicionar",remove:"Remover"}},demo:{notes1:"Ótimo encaixe cultural. Preciso pesquisar sua arquitetura de microsserviços.",notes2:"Startup em estágio inicial. Alto potencial de crescimento, mas arriscado."},seo:{title:"JobTracker - Rastreador Local Gratuito | Sem Login, Sem Rastreamento, Dados Privados",description:"Rastreador de candidaturas 100% gratuito que funciona localmente no seu navegador. Sem login necessário, sem rastreamento de dados, sem servidores. Seus dados de busca de emprego ficam completamente privados no seu dispositivo.",keywords:"rastreador gratuito de empregos, rastreador local de candidaturas, busca de emprego privada, rastreador sem login, rastreador offline de empregos, candidaturas com privacidade, gestão de carreira sem rastreamento, busca de emprego local",author:"Equipe JobTracker",ogTitle:"JobTracker - Rastreador Local Gratuito (Sem Login Necessário)",ogDescription:"Acompanhe candidaturas de forma privada no seu navegador. 100% gratuito, sem login, sem rastreamento, seus dados nunca saem do seu dispositivo.",twitterTitle:"JobTracker - Rastreador Privado de Candidaturas",twitterDescription:"Rastreador local gratuito com total privacidade. Sem login, sem rastreamento, seus dados de busca de emprego ficam no seu dispositivo."},modals:{notes:{title:"Notas para {position} na {company}",activeSection:"Notas Ativas",archivedSection:"Notas Arquivadas ({count})",emptyState:"Sem notas ainda. Adicione sua primeira nota abaixo.",addSection:"Adicionar Nova Nota",placeholder:"Digite sua nota aqui...",editTitle:"Editar nota",archiveTitle:"Arquivar nota",unarchiveTitle:"Desarquivar nota",addButton:"Adicionar Nota"},tasks:{title:"Tarefas para {position} na {company}",activeSection:"Tarefas Ativas",archivedSection:"Tarefas Arquivadas ({count})",emptyState:"Sem tarefas ainda. Adicione sua primeira tarefa abaixo.",addSection:"Adicionar Nova Tarefa",placeholder:"Digite sua tarefa aqui...",editTitle:"Editar tarefa",archiveTitle:"Arquivar tarefa",unarchiveTitle:"Desarquivar tarefa",addButton:"Adicionar Tarefa",allJobs:"Todas as Vagas",addTask:"Adicionar Tarefa",selectJob:"Selecionar Vaga",chooseJob:"Escolha uma vaga...",taskDescription:"Descrição da Tarefa",taskPlaceholder:"Digite a descrição da tarefa...",validation:{jobRequired:"Por favor, selecione uma vaga",taskRequired:"Por favor, digite uma descrição da tarefa"},daysOverdue:"{days} dias atrasado",dueToday:"Vence hoje",dueTomorrow:"Vence amanhã",dueInDays:"Vence em {days} dias",status:"Status",priority:"Prioridade",dueDate:"Data de Vencimento",duration:"Duração",statusTodo:"A Fazer",statusInProgress:"Em Progresso",statusDone:"Concluída",priorityLow:"Baixa",priorityMedium:"Média",priorityHigh:"Alta"},contacts:{title:"Contatos para {position} na {company}",activeSection:"Contatos Ativos",archivedSection:"Contatos Arquivados ({count})",emptyState:"Sem contatos ainda. Adicione seu primeiro contato abaixo.",addSection:"Adicionar Novo Contato",editTitle:"Editar contato",archiveTitle:"Arquivar contato",unarchiveTitle:"Desarquivar contato",addButton:"Adicionar Contato",placeholderName:"Nome",placeholderEmail:"Email",placeholderPhone:"Telefone",placeholderCompany:"Empresa",noContacts:"Sem contatos",defaultContact:"Contato",validation:{nameRequired:"Nome é obrigatório",emailRequired:"Email é obrigatório"}},common:{save:"Salvar",cancel:"Cancelar",close:"Fechar",delete:"Excluir",ok:"OK",yes:"Sim",no:"Não"},dialogs:{alert:"Alerta",confirm:"Confirmar",prompt:"Entrada Necessária"}},forms:{saveChangesTitle:"Salvar alterações",cancelEditingTitle:"Cancelar edição",noDueDate:"Sem data de vencimento",placeholderNameEmail:"Nome\nEmail"},footer:{madeWith:"Feito com",by:"por",foundBug:"Encontrou um bug?"},calendar:{title:"Visualização de Calendário",today:"Hoje",month:"Mês",week:"Semana",day:"Dia",previous:"Anterior",next:"Próximo",noEvents:"Nenhum evento agendado",events:"eventos",applied:"Candidatou-se",task:"Tarefa",interview:"Entrevista",followUp:"Acompanhamento",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],weekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekdaysFull:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},validation:{companyPositionRequired:"Empresa e posição são obrigatórias",currentStepRequired:"Etapa atual é obrigatória"},contactsView:{title:"Todos os Contatos",totalContacts:"{count} contatos no total",emptyState:"Nenhum contato encontrado. Adicione contatos às suas vagas para vê-los aqui.",nameHeader:"Nome",emailHeader:"Email",phoneHeader:"Telefone",roleHeader:"Cargo",companyHeader:"Empresa",jobHeader:"Posição",actionsHeader:"Ações",namePlaceholder:"Nome do contato",emailPlaceholder:"email@exemplo.com",phonePlaceholder:"+55 (11) 99999-9999",rolePlaceholder:"Cargo/Título",addContact:"Adicionar Contato",addContactTitle:"Adicionar Novo Contato",selectJob:"Selecione uma vaga...",noJobsAvailable:"Nenhuma vaga disponível. Crie uma vaga primeiro.",deleteTitle:"Deletar contato",deleteConfirmation:"Tem certeza que deseja deletar {name}?",validation:{nameRequired:"Nome é obrigatório",jobRequired:"Por favor selecione uma vaga"}},dashboard:{stats:{title:"Visão Geral",totalJobs:"Total de Vagas",activeTasks:"Tarefas Ativas",totalContacts:"Total de Contatos",totalNotes:"Total de Notas",activeApplications:"Candidaturas Ativas",interviews:"Entrevistas",offers:"Ofertas",thisWeek:"Esta Semana"},todayTasks:{title:"Tarefas de Hoje",noTasks:"Nenhuma tarefa agendada para hoje"},tomorrowTasks:{title:"Tarefas de Amanhã",noTasks:"Nenhuma tarefa agendada para amanhã"},recentActivity:{title:"Atividade Recente",noActivity:"Nenhuma atividade recente"}}},I18n={currentLanguage:"en",detectLanguage:()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0];return I18n.translations[e]?e:"en"},getLanguageFromURL:()=>{const e=new URLSearchParams(window.location.search).get("lang");return e&&I18n.translations[e]?e:null},setLanguageInURL:e=>{const t=new URL(window.location);e&&"en"!==e?t.searchParams.set("lang",e):t.searchParams.delete("lang"),window.history.replaceState({},"",t)},setLanguage:e=>!!I18n.translations[e]&&(I18n.currentLanguage=e,I18n.setLanguageInURL(e),DataStore.save({...DataStore.load(),language:e}),!0),t:(e,t={})=>{const a=e.split(".");let o=I18n.translations[I18n.currentLanguage];for(const e of a)o=o?.[e];return o?"string"!=typeof o?o:o.replace(/\{(\w+)\}/g,(e,a)=>void 0!==t[a]?t[a]:e):(console.warn(`Translation missing for key: ${e} in language: ${I18n.currentLanguage}`),e)},getLanguages:()=>Object.keys(I18n.translations),init:()=>{const e=I18n.getLanguageFromURL(),t=DataStore.load(),a=t?.language;I18n.currentLanguage=e||a||I18n.detectLanguage(),I18n.setLanguageInURL(I18n.currentLanguage)}};I18n.translations={en:EN_TRANSLATIONS,pt:PT_TRANSLATIONS};const CONFIG={dateFormat:"DD/MM/YY HH:MM",showTimeInNotes:!0,languages:[{code:"en",name:"English",flag:"🇺🇸"},{code:"pt",name:"Português",flag:"🇧🇷"}],defaultTab:"jobs"},PRIORITIES=["high","medium","low"],TASK_STATUSES=["todo","in-progress","done"],PHASES=["wishlist","applied","interview","offer","rejected_withdrawn"],PHASE_SUBSTEPS={wishlist:["assess_job","research_company","prepare_application"],applied:["application_review","initial_screening","hr_phone_screen","recruiter_call"],interview:["phone_screening","technical_phone_screen","coding_challenge","take_home_assignment","technical_interview","system_design_interview","behavioral_interview","team_interview","hiring_manager_interview","panel_interview","final_round"],offer:["reference_check","background_check","offer_discussion","salary_negotiation"],rejected_withdrawn:["rejected","withdrawn"]},DEFAULT_SELECTED_SUBSTEPS={wishlist:["assess_job"],applied:["application_review","hr_phone_screen"],interview:["technical_interview","behavioral_interview"],offer:["offer_discussion","salary_negotiation"],rejected_withdrawn:[]},getPriorityText=e=>e?I18n.t(`priorities.${e}`):"",getPhaseText=e=>e?I18n.t(`phases.${e}`):"",getSubstepText=e=>e?I18n.t(`substeps.${e}`):"",getSubstepsForPhase=e=>PHASE_SUBSTEPS[e]||[];let jobsData=[],originalData=[];const getRelativeDate=(e,t=10,a=0)=>{const o=new Date,n=new Date(o);return n.setDate(o.getDate()+e),n.setHours(t,a,0,0),n.toISOString()},DEMO_DATA=[{id:1,priority:"high",company:"TechCorp Inc",position:"Senior Software Engineer",appliedDate:getRelativeDate(-9),currentPhase:"interview",currentSubstep:"technical_interview",completedSubsteps:["phone_screening"],selectedSubsteps:{applied:["application_review","hr_phone_screen"],interview:["phone_screening","coding_challenge","technical_interview","team_interview"],offer:["offer_discussion","salary_negotiation"]},salaryRange:"$120k - $150k",location:"San Francisco, CA",notes:"demo.notes1",sortOrder:0,tasks:[{id:"1",text:"Prepare system design presentation",status:"todo",priority:"high",createdAt:getRelativeDate(-9),completedAt:null,dueDate:getRelativeDate(1),duration:"2h",sortOrder:0},{id:"2",text:"Review company tech stack",status:"done",priority:"medium",createdAt:getRelativeDate(-10,9),completedAt:getRelativeDate(-8,14,30),dueDate:null,duration:"1h",sortOrder:0},{id:"3",text:"Complete coding assessment",status:"todo",priority:"high",createdAt:getRelativeDate(-4),completedAt:null,dueDate:getRelativeDate(4,23,59),duration:"3h",sortOrder:1},{id:"4",text:"Research team members on LinkedIn",status:"todo",priority:"low",createdAt:getRelativeDate(-3),completedAt:null,dueDate:getRelativeDate(8),duration:null,sortOrder:2}],contacts:[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@techcorp.com",phone:"+1 (555) 123-4567",company:"TechCorp Inc",role:"Technical Recruiter",createdAt:getRelativeDate(-9),archived:!1},{id:"2",name:"Mike Chen",email:"mike.chen@techcorp.com",phone:"+1 (555) 234-5678",company:"TechCorp Inc",role:"Engineering Manager",createdAt:getRelativeDate(-8,14),archived:!1}]},{id:2,priority:"medium",company:"StartupXYZ",position:"Full Stack Developer",appliedDate:"2025-06-12T09:00:00.000Z",currentPhase:"applied",currentSubstep:"hr_phone_screen",completedSubsteps:["application_review"],selectedSubsteps:{applied:["application_review","hr_phone_screen","recruiter_call"],interview:["take_home_assignment","technical_interview","behavioral_interview"],offer:["reference_check","offer_discussion"]},salaryRange:"$90k - $110k + equity",location:"Remote",notes:"demo.notes2",sortOrder:0,tasks:[{id:"5",text:"Follow up on application",status:"in-progress",priority:"medium",createdAt:"2025-06-12T15:00:00.000Z",completedAt:null,dueDate:"2025-06-26T17:00:00.000Z",duration:"30min",sortOrder:0},{id:"6",text:"Prepare portfolio projects showcase",status:"todo",priority:"high",createdAt:"2025-06-18T10:00:00.000Z",completedAt:null,dueDate:"2025-06-30T17:00:00.000Z",duration:"1h30",sortOrder:0},{id:"7",text:"Write thank you note after interview",status:"todo",priority:"medium",createdAt:"2025-06-22T10:00:00.000Z",completedAt:null,dueDate:null,duration:"15min",sortOrder:1},{id:"8",text:"Review equity compensation guide",status:"todo",priority:"low",createdAt:"2025-06-23T10:00:00.000Z",completedAt:null,dueDate:"2025-07-10T10:00:00.000Z",duration:null,sortOrder:2}],contacts:[{id:"3",name:"Alex Rivera",email:"alex@startupxyz.com",phone:null,company:"StartupXYZ",role:"CTO",createdAt:"2025-06-12T09:00:00.000Z",archived:!1}]}],getDemoData=()=>DEMO_DATA.map(e=>({...e,notes:e.notes.startsWith("demo.")?[{id:Date.now()+Math.random(),date:e.appliedDate||(new Date).toISOString(),phase:e.currentPhase||"applied",text:I18n.t(e.notes)}]:Array.isArray(e.notes)?e.notes:[]})),formatDate=e=>{const t=new Date(e);switch(CONFIG.dateFormat){case"DD/MM/YY":default:return t.toLocaleDateString("en-GB",{year:"2-digit",month:"2-digit",day:"2-digit"});case"MM/DD/YY":return t.toLocaleDateString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit"});case"YYYY-MM-DD":return t.toISOString().split("T")[0];case"DD/MM/YY HH:MM":return`${t.toLocaleDateString("en-GB",{year:"2-digit",month:"2-digit",day:"2-digit"})} ${t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})}`}};function getPhaseClass(e){return e.toLowerCase().replace(/\s+/g,"_")}function getUniqueValues(e,t){return[...new Set(e.map(e=>e[t]))]}function createElement(e,t,a){return $.create(e,t,a)}function createOption(e,t,a=!1){const o=createElement("option");return o.value=e,o.textContent=t,a&&(o.selected=!0),o}const getTaskStatusText=e=>({todo:I18n.t("modals.tasks.statusTodo"),"in-progress":I18n.t("modals.tasks.statusInProgress"),done:I18n.t("modals.tasks.statusDone")}[e]||e);function updateStaticTexts(){$("#appTitle").text(I18n.t("app.title")),$("#jobsTitle").text(I18n.t("headers.jobs")),$("#addAppBtn").text(I18n.t("buttons.addApplication")),$("#priorityHeader").text(I18n.t("table.headers.priority")),$("#companyHeader").text(I18n.t("table.headers.company")),$("#positionHeader").text(I18n.t("table.headers.position")),$("#currentPhaseHeader").text(I18n.t("table.headers.currentPhase")),$("#salaryRangeHeader").text(I18n.t("table.headers.salaryRange")),$("#locationHeader").text(I18n.t("table.headers.location")),$("#actionsHeader").text(I18n.t("table.headers.actions")),$("#totalAppsLabel").text(I18n.t("stats.totalApplications")),$("#activeAppsLabel").text(I18n.t("stats.active")),$("#interviewsLabel").text(I18n.t("stats.interviews")),$("#offersLabel").text(I18n.t("stats.offers")),$("#rejectionsLabel").text(I18n.t("stats.rejections")),$("#footerMadeWith").text(I18n.t("footer.madeWith")),$("#footerBy").text(I18n.t("footer.by")),$("#footerFoundBug").text(I18n.t("footer.foundBug"))}function initializeLanguageSwitcher(){const e=$("#languageSwitcher");if(e){const t=LanguageSwitcher.create();e.get().innerHTML="",e.get().appendChild(t),LanguageSwitcher.init()}}function initializeTabNavigation(){const e=$("#tabNavigation");if(e){const t=TabNavigation.create();e.get().innerHTML="",e.get().appendChild(t),TabNavigation.init()}}function updateMetaTags(){const e=I18n.currentLanguage,t=I18n.translations[e];if(!t||!t.seo)return;const a=t.seo,o="pt"===e?"pt_BR":"en_US",n="http://jobtracker.cv/",i="en"===e?n:`${n}?lang=${e}`;document.title=a.title,updateMetaTag("name","description",a.description),updateMetaTag("name","keywords",a.keywords),updateMetaTag("name","author",a.author),updateMetaTag("name","language",e),updateMetaTag("property","og:title",a.ogTitle),updateMetaTag("property","og:description",a.ogDescription),updateMetaTag("property","og:url",i),updateMetaTag("property","og:locale",o),updateMetaTag("name","twitter:title",a.twitterTitle),updateMetaTag("name","twitter:description",a.twitterDescription),updateCanonicalUrl(i),updateHreflangLinks(n)}function updateMetaTag(e,t,a){let o=document.querySelector(`meta[${e}="${t}"]`);o||(o=document.createElement("meta"),o.setAttribute(e,t),document.head.appendChild(o)),o.setAttribute("content",a)}function updateCanonicalUrl(e){let t=document.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e)}function updateHreflangLinks(e){document.querySelectorAll("link[hreflang]").forEach(e=>e.remove()),CONFIG.languages.forEach(t=>{const a=document.createElement("link");a.setAttribute("rel","alternate"),a.setAttribute("hreflang",t.code),"en"===t.code?a.setAttribute("href",e):a.setAttribute("href",`${e}?lang=${t.code}`),document.head.appendChild(a)});const t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("hreflang","x-default"),t.setAttribute("href",e),document.head.appendChild(t)}function updateUILanguage(){updateStaticTexts(),updateMetaTags(),void 0!==LanguageSwitcher&&LanguageSwitcher.updateUI(),void 0!==TabNavigation&&TabNavigation.updateLanguage(),"function"==typeof setupFilters&&setupFilters(),void 0!==Dashboard&&"dashboard"===TabNavigation.activeTab&&Dashboard.refresh(),"function"==typeof refreshInterface&&refreshInterface()}const saveToLocalStorage=()=>{DataStore.save({jobs:originalData||jobsData,language:I18n.currentLanguage})},loadFromLocalStorage=()=>{const e=DataStore.load();return e&&(e.language&&I18n.setLanguage(e.language),e.jobs&&Array.isArray(e.jobs))?e.jobs:null},CustomDialogs={activeDialog:null,alert:(e,t=null)=>new Promise(a=>{const o=CustomDialogs.createModal({title:t||I18n.t("modals.dialogs.alert")||"Alert",message:e,buttons:[{text:I18n.t("modals.common.ok")||"OK",className:"btn-primary",onClick:()=>{CustomDialogs.closeDialog(),a(!0)}}],type:"alert"});CustomDialogs.showDialog(o)}),confirm:(e,t={})=>new Promise(a=>{const{title:o=null,confirmText:n=I18n.t("modals.common.ok")||"OK",cancelText:i=I18n.t("modals.common.cancel")||"Cancel",focusConfirm:r=!1}=t,s=CustomDialogs.createModal({title:o||I18n.t("modals.dialogs.confirm")||"Confirm",message:e,buttons:[{text:i,className:r?"btn-secondary":"btn-primary",onClick:()=>{CustomDialogs.closeDialog(),a(!1)}},{text:n,className:r?"btn-primary":"btn-secondary",onClick:()=>{CustomDialogs.closeDialog(),a(!0)}}],type:"confirm",focusConfirm:r});CustomDialogs.showDialog(s,r)}),prompt:(e,t="",a=null)=>new Promise(o=>{let n=t;const i=CustomDialogs.createModal({title:a||I18n.t("modals.dialogs.prompt")||"Input Required",message:e,input:{type:"text",value:t,placeholder:e,onChange:e=>{n=e}},buttons:[{text:I18n.t("modals.common.cancel")||"Cancel",className:"btn-secondary",onClick:()=>{CustomDialogs.closeDialog(),o(null)}},{text:I18n.t("modals.common.ok")||"OK",className:"btn-primary",onClick:()=>{CustomDialogs.closeDialog(),o(n)}}],type:"prompt"});CustomDialogs.showDialog(i)}),createModal:({title:e,message:t,buttons:a,input:o,type:n,focusConfirm:i=!1})=>{const r=h("div.modal-overlay.custom-dialog",{onclick:e=>{e.target.className.includes("modal-overlay")}},h("div",{className:`modal custom-dialog-modal dialog-${n}`,onclick:e=>e.stopPropagation()},h("div.modal-header",h("h3.modal-title",e)),h("div.modal-body.custom-dialog-body",h("div.dialog-message",t),o?h("div.dialog-input-container",h("input.dialog-input",{type:o.type,value:o.value,placeholder:o.placeholder,oninput:e=>o.onChange(e.target.value),onkeydown:e=>{if("Enter"===e.key){const e=r.querySelector(".btn-primary");e&&e.click()}if("Escape"===e.key){const e=r.querySelector(".btn-secondary");e&&e.click()}}})):null),h("div.modal-footer.dialog-footer",...a.map(e=>h("button",{className:`btn-subtle ${e.className}`,onclick:e.onClick},e.text)))));return r},showDialog:(e,t=!1)=>{CustomDialogs.closeDialog(),e.style.opacity="0",e.style.transform="translate(-50%, -60%) scale(0.95)",CustomDialogs.activeDialog=e,document.body.appendChild(e),e.offsetHeight,requestAnimationFrame(()=>{e.style.opacity="",e.style.transform="",setTimeout(()=>{const a=e.querySelector(".dialog-input");if(a)a.focus();else if(t){const t=e.querySelector(".btn-primary");t&&t.focus()}else{const t=e.querySelector(".action-btn");t&&t.focus()}},50)}),document.addEventListener("keydown",t=>{if("Escape"===t.key){const t=e.querySelector(".btn-secondary");if(t)t.click();else{const t=e.querySelector(".btn-primary");t&&t.click()}}}),e.dataset.keydownHandler="true"},closeDialog:()=>{CustomDialogs.activeDialog&&(CustomDialogs.activeDialog.dataset.keydownHandler&&document.removeEventListener("keydown",CustomDialogs.handleKeydown),CustomDialogs.activeDialog.parentNode&&CustomDialogs.activeDialog.parentNode.removeChild(CustomDialogs.activeDialog),CustomDialogs.activeDialog=null)},confirmCustom:(e,t,a,o=!1,n=null)=>CustomDialogs.confirm(e,{title:n,confirmText:t,cancelText:a,focusConfirm:o})};window.customAlert=CustomDialogs.alert,window.customConfirm=CustomDialogs.confirm,window.customConfirmCustom=CustomDialogs.confirmCustom,window.customPrompt=CustomDialogs.prompt,window.nativeAlert=window.alert,window.nativeConfirm=window.confirm,window.nativePrompt=window.prompt,window.alert=CustomDialogs.alert,window.confirm=CustomDialogs.confirm,window.prompt=CustomDialogs.prompt;const NotesCount=({notes:e=[],onClick:t})=>{const a=e.filter(e=>!e.archived).length;return h("span",{className:0===a?"notes-count zero":"notes-count",onclick:t,textContent:a.toString(),title:`${a} active note${1!==a?"s":""}${e.length!==a?` (${e.length-a} archived)`:""}`})},NoteItem=({note:e,job:t})=>{const a=e.archived||!1;return h("div",{className:"note-item "+(a?"archived":""),"data-note-id":e.id},h("div.note-header",h("div.modal-header-content",h("span.note-phase",getPhaseText(e.phase)),h("span.note-date",formatDate(e.date))),h("div.note-actions modal-actions-row",h("button.action-btn.edit-note-btn",{title:I18n.t("modals.notes.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>{const a=document.querySelector(`[data-note-id="${e.id}"] .note-text`);if(!a)return;const o=e.text,n=h("textarea.note-edit-textarea",{textContent:o}),i=h("button.action-btn.edit-btn.edit-save-btn",{textContent:I18n.t("modals.common.save"),onclick:()=>{const o=n.value.trim();if(!o)return;const i=jobsData.findIndex(e=>e.id===t.id);if(-1===i)return;const r=jobsData[i].notes.findIndex(t=>t.id===e.id);-1!==r&&(jobsData[i].notes[r].text=o,saveToLocalStorage(),a.innerHTML="",a.textContent=o,refreshInterface())}}),r=h("button.action-btn.cancel-btn.edit-cancel-btn",{textContent:I18n.t("modals.common.cancel"),onclick:()=>{a.innerHTML="",a.textContent=e.text}});a.innerHTML="",a.appendChild(n),a.appendChild(h("div",i,r)),n.focus()}}),h("button.action-btn.archive-btn",{title:a?I18n.t("modals.notes.unarchiveTitle"):I18n.t("modals.notes.archiveTitle"),innerHTML:`<span class="material-symbols-outlined icon-14">${a?"unarchive":"archive"}</span>`,onclick:()=>{const o=jobsData.findIndex(e=>e.id===t.id);if(-1===o)return;const n=jobsData[o].notes.findIndex(t=>t.id===e.id);if(-1===n)return;jobsData[o].notes[n].archived=!a,saveToLocalStorage();const i=document.querySelector(`[data-note-id="${e.id}"]`);if(i){const e=!a;i.style.opacity=e?"0.6":"1",i.style.filter=e?"grayscale(0.5)":"none",i.className="note-item "+(e?"archived":"");const t=i.querySelector(".archive-btn");t&&(t.innerHTML=`<span class="material-symbols-outlined icon-14">${e?"unarchive":"archive"}</span>`)}refreshInterface()}}))),h("div.note-text",e.text))},NotesModal=({job:e,onClose:t})=>{const a=e.notes||[],o=a.filter(e=>!e.archived),n=a.filter(e=>e.archived),i=[...o].sort((e,t)=>new Date(e.date)-new Date(t.date)),r=[...n].sort((e,t)=>new Date(e.date)-new Date(t.date));return h("div.modal-overlay",{"data-job-id":e.id,onclick:e=>e.target===e.currentTarget&&t()},h("div.modal",h("div.modal-header",h("h3.modal-title",I18n.t("modals.notes.title",{position:e.position,company:e.company})),h("button.modal-close",{onclick:t},"×")),h("div.modal-body",createNotesContent(e,i,r))))},showValidationError=(e,t)=>{const a=e.parentNode.querySelector(".validation-error");a&&a.remove();const o=h("div.validation-error",t);e.parentNode.appendChild(o),e.focus(),setTimeout(()=>{o.parentNode&&o.remove()},3e3)},enableNoteEditing=(e,t)=>{const a=document.querySelector(`[data-note-id="${e.id}"]`);if(!a)return;a.innerHTML=`\n\t\t<td class="note-date-cell">${formatDate(e.date)}</td>\n\t\t<td class="note-phase-cell">${e.phase?I18n.t(`phases.${e.phase}`):""}</td>\n\t\t<td class="note-text-cell">\n\t\t\t<textarea class="note-edit-textarea" rows="2" placeholder="${I18n.t("modals.notes.placeholder")}">${e.text||""}</textarea>\n\t\t</td>\n\t\t<td class="notes-table-actions">\n\t\t\t<button class="action-btn save-note-btn " title="${I18n.t("modals.common.save")}">\n\t\t\t\t<span class="material-symbols-outlined icon-14">check</span>\n\t\t\t</button>\n\t\t\t<button class="action-btn cancel-note-btn " title="${I18n.t("modals.common.cancel")}">\n\t\t\t\t<span class="material-symbols-outlined icon-14">close</span>\n\t\t\t</button>\n\t\t</td>\n\t`;const o=a.querySelector(".save-note-btn"),n=a.querySelector(".cancel-note-btn"),i=a.querySelector(".note-edit-textarea");o.onclick=()=>saveNoteEdits(e,t),n.onclick=()=>cancelNoteEdits(e,t),i.onkeydown=a=>{"Enter"===a.key&&a.shiftKey&&(a.preventDefault(),saveNoteEdits(e,t))},i.focus(),i.select()},saveNoteEdits=(e,t)=>{const a=document.querySelector(`[data-note-id="${e.id}"]`);if(!a)return;const o=a.querySelector(".note-edit-textarea").value.trim();if(!o)return void alert("Note text is required");const n=jobsData.findIndex(e=>e.id===t.id),i=jobsData[n].notes.findIndex(t=>t.id===e.id);jobsData[n].notes[i].text=o,saveToLocalStorage(),refreshNotesModal(t),refreshInterface()},cancelNoteEdits=(e,t)=>{refreshNotesModal(t)},refreshNotesModal=e=>{const t=document.querySelector(".modal-body");if(!t)return;const a=jobsData.findIndex(t=>t.id===e.id);if(-1===a)return;e.notes=jobsData[a].notes||[];const o=e.notes,n=o.filter(e=>!e.archived),i=o.filter(e=>e.archived),r=[...n].sort((e,t)=>new Date(e.date)-new Date(t.date)),s=[...i].sort((e,t)=>new Date(e.date)-new Date(t.date));t.innerHTML="",t.appendChild(createNotesContent(e,r,s))},openNotesModal=e=>{const t=NotesModal({job:e,onClose:closeModal});document.body.appendChild(t),setTimeout(()=>{const e=t.querySelector(".modal-body");e&&(e.scrollTop=e.scrollHeight)},50)},openAddNoteModal=openNotesModal,handleAddNote=()=>{const e=document.querySelector(".add-note-textarea"),t=e.value.trim();if(!t)return void showValidationError(e,"Note text is required");const a=document.querySelector(".modal-title");if(!a)return;const o=a.closest(".modal-overlay").dataset.jobId,n=jobsData.find(e=>e.id==o);if(!n)return;const i={id:Date.now(),date:(new Date).toISOString(),phase:n.currentPhase,text:t},r=jobsData.findIndex(e=>e.id===n.id);-1!==r&&(jobsData[r].notes||(jobsData[r].notes=[]),jobsData[r].notes.push(i),saveToLocalStorage(),refreshNotesModal(n),e.value="",setTimeout(()=>{const e=document.querySelector(".add-note-textarea");e&&e.focus()},100),refreshInterface())},archiveNote=(e,t)=>{const a=jobsData.findIndex(e=>e.id===t.id);if(-1===a)return;const o=jobsData[a].notes.findIndex(t=>t.id===e.id);if(-1===o)return;const n=document.getElementById("archived-notes-table"),i=n&&"table"===n.style.display;jobsData[a].notes[o].archived=!e.archived,saveToLocalStorage(),refreshNotesModal(t),i&&setTimeout(()=>{const e=document.getElementById("archived-notes-table"),t=document.getElementById("archived-notes-icon");e&&(e.style.display="table",t&&(t.textContent="expand_less"))},0),refreshInterface()},createNotesContent=(e,t,a)=>h("div",t.length>0?h("div.notes-table-container",h("table.notes-table",h("thead",h("tr",h("th","Phase"),h("th","Date"),h("th","Note"),h("th","Actions"))),h("tbody",...t.map(t=>h("tr",{key:t.id,"data-note-id":t.id},h("td.note-phase-cell",getPhaseText(t.phase)),h("td.note-date-cell",formatDate(t.date)),h("td.note-text-cell",t.text),h("td.notes-table-actions",h("button.action-btn.edit-note-btn",{title:I18n.t("modals.notes.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>enableNoteEditing(t,e)}),h("button.action-btn.archive-btn",{title:I18n.t("modals.notes.archiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">archive</span>',onclick:()=>archiveNote(t,e)}))))))):h("p.modal-empty-message",I18n.t("modals.notes.emptyState")),a.length>0?h("div.archived-notes-section",h("h4.notes-archived-header",{onclick:()=>{const e=document.getElementById("archived-notes-table"),t=document.getElementById("archived-notes-icon");"none"===e.style.display?(e.style.display="table",t.textContent="expand_less"):(e.style.display="none",t.textContent="expand_more")}},h("span.material-symbols-outlined.expand-icon",{id:"archived-notes-icon"},"expand_more"),I18n.t("modals.notes.archivedSection",{count:a.length})),h("table.notes-table.archived",{id:"archived-notes-table",style:"display: none"},h("thead",h("tr",h("th","Phase"),h("th","Date"),h("th","Note"),h("th","Actions"))),h("tbody",...a.map(t=>h("tr",{key:t.id},h("td",getPhaseText(t.phase)),h("td",formatDate(t.date)),h("td.note-text-cell",t.text),h("td.notes-table-actions",h("button.action-btn.archive-btn",{title:I18n.t("modals.notes.unarchiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">unarchive</span>',onclick:()=>archiveNote(t,e)}))))))):null,h("div.add-note-section",h("h4.add-note-title",I18n.t("modals.notes.addSection")),h("form.add-note-form",{onsubmit:e=>{e.preventDefault(),handleAddNote()}},h("textarea.add-note-textarea",{placeholder:I18n.t("modals.notes.placeholder"),rows:2,onkeydown:e=>{"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),handleAddNote())}}),h("div.add-note-form-actions",h("button.action-btn.primary-btn",{type:"submit"},I18n.t("modals.notes.addButton"))))));window.NotesCount=NotesCount,window.NoteItem=NoteItem,window.NotesModal=NotesModal,window.openNotesModal=openNotesModal,window.openAddNoteModal=openAddNoteModal,window.enableNoteEditing=enableNoteEditing,window.saveNoteEdits=saveNoteEdits,window.cancelNoteEdits=cancelNoteEdits,window.handleAddNote=handleAddNote,window.archiveNote=archiveNote,window.createNotesContent=createNotesContent,window.refreshNotesModal=refreshNotesModal;const TasksCount=({tasks:e=[],onClick:t})=>{const a=e.filter(e=>!e.archived),o=a.filter(e=>"todo"===e.status).length,n=a.filter(e=>"in-progress"===e.status).length,i=a.filter(e=>"done"===e.status).length,r=a.length,s=e.length-r;return h("span."+(0===r?"tasks-count zero":"tasks-count"),{onclick:t,title:`${r} active task${1!==r?"s":""} (${o} todo, ${n} in progress, ${i} done)${s>0?` + ${s} archived`:""}`},h("span.task-count-todo",o.toString()),h("span.task-count-separator","/"),h("span.task-count-in-progress",n.toString()),h("span.task-count-separator","/"),h("span.task-count-done",i.toString()))};window.TasksCount=TasksCount;const TaskItem=({task:e,job:t})=>{const a=e.archived||!1;return h("div",{className:"task-item "+(a?"archived":""),"data-task-id":e.id},h("div.task-header.task-header-layout",h("div.task-controls-row",h("select.task-status.inline-select",{value:e.status,onchange:a=>(a=>{const o=jobsData.findIndex(e=>e.id===t.id);if(-1===o)return;const n=jobsData[o].tasks.findIndex(t=>t.id===e.id);if(-1===n)return;jobsData[o].tasks[n].status=a,saveToLocalStorage();const i=document.querySelector(`[data-task-id="${e.id}"] .task-status`);i&&(i.className=`task-status status-${a}`,i.textContent=getTaskStatusText(a)),refreshInterface()})(a.target.value)},h("option",{value:"todo"},I18n.t("modals.tasks.statusTodo")),h("option",{value:"in-progress"},I18n.t("modals.tasks.statusInProgress")),h("option",{value:"done"},I18n.t("modals.tasks.statusDone"))),h("select.task-priority.inline-select",{value:e.priority,onchange:a=>(a=>{const o=jobsData.findIndex(e=>e.id===t.id);if(-1===o)return;const n=jobsData[o].tasks.findIndex(t=>t.id===e.id);if(-1===n)return;jobsData[o].tasks[n].priority=a,saveToLocalStorage();const i=document.querySelector(`[data-task-id="${e.id}"] .task-priority`);i&&(i.className=`task-priority priority-${a}`,i.textContent=getPriorityText(a)),refreshInterface()})(a.target.value)},h("option",{value:"low"},I18n.t("modals.tasks.priorityLow")),h("option",{value:"medium"},I18n.t("modals.tasks.priorityMedium")),h("option",{value:"high"},I18n.t("modals.tasks.priorityHigh"))),h("input.task-due-date.inline-input",{type:"date",value:e.dueDate?e.dueDate.split("T")[0]:"",onchange:a=>(a=>{const o=jobsData.findIndex(e=>e.id===t.id);if(-1===o)return;const n=jobsData[o].tasks.findIndex(t=>t.id===e.id);if(-1===n)return;jobsData[o].tasks[n].dueDate=a,saveToLocalStorage();const i=document.querySelector(`[data-task-id="${e.id}"] .task-due-date`);i&&(i.textContent=a?formatDate(a):"No due date"),refreshInterface()})(a.target.value?`${a.target.value}T00:00:00.000Z`:null)})),h("div.task-actions modal-actions-row",h("button.action-btn.edit-task-btn",{title:I18n.t("modals.tasks.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>{void 0!==TasksBoard&&TasksBoard.openTaskEditModal&&TasksBoard.openTaskEditModal(e)}}),h("button.action-btn.archive-btn",{title:a?I18n.t("modals.tasks.unarchiveTitle"):I18n.t("modals.tasks.archiveTitle"),innerHTML:`<span class="material-symbols-outlined icon-14">${a?"unarchive":"archive"}</span>`,onclick:()=>{const o=jobsData.findIndex(e=>e.id===t.id);if(-1===o)return;const n=jobsData[o].tasks.findIndex(t=>t.id===e.id);if(-1===n)return;jobsData[o].tasks[n].archived=!a,saveToLocalStorage();const i=document.querySelector(`[data-task-id="${e.id}"]`);if(i){const e=!a;i.style.opacity=e?"0.6":"1",i.style.filter=e?"grayscale(0.5)":"none",i.className="task-item "+(e?"archived":"");const t=i.querySelector(".archive-btn");t&&(t.innerHTML=`<span class="material-symbols-outlined icon-14">${e?"unarchive":"archive"}</span>`)}refreshInterface()}}))),h("div.task-text",e.text))};window.TaskItem=TaskItem;const TasksModal=({job:e,onClose:t})=>{const a=e.tasks||[],o=a.filter(e=>!e.archived),n=a.filter(e=>e.archived),i=[...o].sort((e,t)=>new Date(e.createdDate||e.date)-new Date(t.createdDate||t.date)),r=[...n].sort((e,t)=>new Date(e.createdDate||e.date)-new Date(t.createdDate||t.date)),s=()=>{const t=document.querySelector(".add-task-textarea"),a=document.querySelector(".add-task-status"),o=document.querySelector(".add-task-priority"),n=document.querySelector(".add-task-due-date"),i=document.querySelector(".add-task-duration"),r=t.value.trim();if(!r)return void m(t,"Task text is required");let s=null;n.value&&(s=new Date(n.value).toISOString());const l={id:Date.now(),createdDate:(new Date).toISOString(),text:r,status:a.value||"todo",priority:o.value||"medium",dueDate:s,duration:i.value||null},d=jobsData.findIndex(t=>t.id===e.id);-1!==d&&(jobsData[d].tasks||(jobsData[d].tasks=[]),jobsData[d].tasks.push(l),saveToLocalStorage(),e.tasks=jobsData[d].tasks,u(e),t.value="",a.value="todo",o.value="medium",n.value="",i.value="",a.focus(),refreshInterface())},l=(e,t)=>{const a=document.querySelector(`[data-task-id="${e.id}"]`);if(!a)return;const o=a.closest("tr"),n=o?.nextElementSibling,i=o?.querySelector(".task-status-edit"),r=o?.querySelector(".task-priority-edit"),s=o?.querySelector(".task-due-date-edit"),l=o?.querySelector(".task-duration-edit"),d=n?.querySelector(".task-text-edit");if(d&&!d.value.trim())return void m(d,"Task description is required");const c=jobsData.findIndex(e=>e.id===t.id);if(-1===c)return;const h=jobsData[c].tasks.findIndex(t=>t.id===e.id);-1!==h&&(i&&(jobsData[c].tasks[h].status=i.value),r&&(jobsData[c].tasks[h].priority=r.value),s&&(jobsData[c].tasks[h].dueDate=s.value||null),l&&(jobsData[c].tasks[h].duration=l.value||null),d&&(jobsData[c].tasks[h].text=d.value.trim()),saveToLocalStorage(),u(t),refreshInterface())},d=(e,t)=>{u(t)},c=(e,t)=>{const a=jobsData.findIndex(e=>e.id===t.id);if(-1===a)return;const o=jobsData[a].tasks.findIndex(t=>t.id===e.id);if(-1===o)return;const n=document.getElementById("archived-tasks-table"),i=n&&"table"===n.style.display;jobsData[a].tasks[o].archived=!e.archived,saveToLocalStorage(),u(t),i&&setTimeout(()=>{const e=document.getElementById("archived-tasks-table"),t=document.getElementById("archived-tasks-icon");e&&(e.style.display="table",t&&(t.textContent="expand_less"))},0),refreshInterface()},u=e=>{const t=document.querySelector(".modal-body");if(!t)return;const a=jobsData.findIndex(t=>t.id===e.id);if(-1===a)return;e.tasks=jobsData[a].tasks||[];const o=e.tasks,n=o.filter(e=>!e.archived),i=o.filter(e=>e.archived),r=[...n].sort((e,t)=>new Date(e.createdDate||e.date)-new Date(t.createdDate||t.date)),s=[...i].sort((e,t)=>new Date(e.createdDate||e.date)-new Date(t.createdDate||t.date));t.innerHTML="",t.appendChild(p(e,r,s))},p=(e,t,a)=>h("div",t.length>0?h("div.tasks-table-container",h("table.tasks-table",h("thead",h("tr",h("th","Status"),h("th","Priority"),h("th","Due Date"),h("th","Duration"),h("th","Actions"))),h("tbody",...t.flatMap(t=>{return[h("tr.task-info-row",{key:t.id},h("td.task-status-cell",h("span.task-status-display",{"data-task-id":t.id,"data-field":"status"},getTaskStatusText(t.status))),h("td.task-priority-cell",h("span.task-priority-display",{"data-task-id":t.id,"data-field":"priority"},getPriorityText(t.priority))),h("td.task-due-date-cell",h("span.task-due-date-display",{"data-task-id":t.id,"data-field":"dueDate"},t.dueDate?formatDate(t.dueDate):"—")),h("td.task-duration-cell",h("span.task-duration-display",{"data-task-id":t.id,"data-field":"duration"},(a=t.duration,a?{"15min":"15 min","30min":"30 min","1h":"1h","1h30":"1:30","2h":"2h","3h":"3h"}[a]||a:"—"))),h("td.tasks-table-actions",h("button.action-btn.edit-task-btn",{title:I18n.t("modals.tasks.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>((e,t)=>{const a=document.querySelector(`[data-task-id="${e.id}"]`);if(!a)return;const o=a.closest("tr");if(!o)return;o.dataset.editing="true";const n=o.querySelector(".task-status-display"),i=h("select.task-status-edit",{value:e.status},h("option",{value:"todo"},I18n.t("modals.tasks.statusTodo")),h("option",{value:"in-progress"},I18n.t("modals.tasks.statusInProgress")),h("option",{value:"done"},I18n.t("modals.tasks.statusDone")));n.parentNode.replaceChild(i,n);const r=o.querySelector(".task-priority-display"),s=h("select.task-priority-edit",{value:e.priority},h("option",{value:"low"},I18n.t("modals.tasks.priorityLow")),h("option",{value:"medium"},I18n.t("modals.tasks.priorityMedium")),h("option",{value:"high"},I18n.t("modals.tasks.priorityHigh")));r.parentNode.replaceChild(s,r);const c=o.querySelector(".task-due-date-display"),u=e.dueDate?e.dueDate.split("T")[0]:"",p=h("input.task-due-date-edit",{type:"date",value:u});c.parentNode.replaceChild(p,c);const m=o.querySelector(".task-duration-display"),v=h("select.task-duration-edit",h("option",{value:"",selected:!e.duration},"—"),h("option",{value:"15min",selected:"15min"===e.duration},"15 min"),h("option",{value:"30min",selected:"30min"===e.duration},"30 min"),h("option",{value:"1h",selected:"1h"===e.duration},"1h"),h("option",{value:"1h30",selected:"1h30"===e.duration},"1:30"),h("option",{value:"2h",selected:"2h"===e.duration},"2h"),h("option",{value:"3h",selected:"3h"===e.duration},"3h"));m.parentNode.replaceChild(v,m);const g=o.querySelector(".edit-task-btn");g.innerHTML='<span class="material-symbols-outlined icon-14">check</span>',g.title=I18n.t("modals.common.save"),g.onclick=()=>l(e,t);const b=o.querySelector(".tasks-table-actions"),y=h("button.action-btn.cancel-btn",{title:I18n.t("modals.common.cancel"),innerHTML:'<span class="material-symbols-outlined icon-14">close</span>',onclick:()=>d(0,t)});b.appendChild(y);const f=o.querySelector(".archive-btn");f&&(f.style.display="none");const k=o.nextElementSibling,w=k?.querySelector(".task-text-cell");if(w){const a=e.text||"",n=document.createElement("textarea");n.value=a,n.className="task-text-edit",n.rows=2,n.style.width="100%",n.style.resize="vertical",n.addEventListener("input",e=>{n.dataset.currentValue=e.target.value}),n.addEventListener("keydown",a=>{"Enter"===a.key&&a.ctrlKey?(a.preventDefault(),l(e,t)):"Escape"===a.key&&(a.preventDefault(),d(0,t))}),w.innerHTML="",w.appendChild(n),n.focus(),n.select(),o.dataset.textarea="true",k.dataset.textEditing="true"}})(t,e)}),h("button.action-btn.archive-btn",{title:I18n.t("modals.tasks.archiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">archive</span>',onclick:()=>c(t,e)}))),h("tr",{key:`${t.id}-text`,className:"task-text-row"},h("td.task-text-cell",{colspan:5},t.text))];var a})))):h("p.modal-empty-message",I18n.t("modals.tasks.emptyState")),a.length>0?h("div.archived-tasks-section",h("h4.tasks-archived-header",{onclick:()=>{const e=document.getElementById("archived-tasks-table"),t=document.getElementById("archived-tasks-icon");"none"===e.style.display?(e.style.display="table",t.textContent="expand_less"):(e.style.display="none",t.textContent="expand_more")}},h("span.material-symbols-outlined.expand-icon",{id:"archived-tasks-icon"},"expand_more"),I18n.t("modals.tasks.archivedSection",{count:a.length})),h("table.tasks-table.archived",{id:"archived-tasks-table",style:"display: none"},h("thead",h("tr",h("th","Status"),h("th","Priority"),h("th","Task"),h("th","Due Date"),h("th","Actions"))),h("tbody",...a.map(t=>h("tr",{key:t.id},h("td",getTaskStatusText(t.status)),h("td",getPriorityText(t.priority)),h("td.archived-task-text-cell",t.text),h("td",t.dueDate?formatDate(t.dueDate):"—"),h("td.tasks-table-actions",h("button.action-btn.archive-btn",{title:I18n.t("modals.tasks.unarchiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">unarchive</span>',onclick:()=>c(t,e)}))))))):null,h("div.add-task-section",h("h4.add-task-title",I18n.t("modals.tasks.addSection")),h("form.add-task-form",{onsubmit:e=>{e.preventDefault(),s()}},h("div.add-task-form-row",h("div.add-task-field",h("label",I18n.t("modals.tasks.status")),h("select.add-task-status",{value:"todo"},h("option",{value:"todo"},I18n.t("modals.tasks.statusTodo")),h("option",{value:"in-progress"},I18n.t("modals.tasks.statusInProgress")),h("option",{value:"done"},I18n.t("modals.tasks.statusDone")))),h("div.add-task-field",h("label",I18n.t("modals.tasks.priority")),h("select.add-task-priority",{value:"medium"},h("option",{value:"low"},I18n.t("modals.tasks.priorityLow")),h("option",{value:"medium"},I18n.t("modals.tasks.priorityMedium")),h("option",{value:"high"},I18n.t("modals.tasks.priorityHigh")))),h("div.add-task-field",h("label",I18n.t("modals.tasks.dueDate")),h("input.add-task-due-date",{type:"datetime-local",placeholder:"Due date & time (optional)"})),h("div.add-task-field",h("label",I18n.t("modals.tasks.duration")),h("select.add-task-duration",h("option",{value:""},"—"),h("option",{value:"15min"},"15 min"),h("option",{value:"30min"},"30 min"),h("option",{value:"1h"},"1h"),h("option",{value:"1h30"},"1:30"),h("option",{value:"2h"},"2h"),h("option",{value:"3h"},"3h")))),h("textarea.add-task-textarea",{placeholder:I18n.t("modals.tasks.placeholder"),rows:2,onkeydown:e=>{"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),s())}}),h("div.add-task-form-actions",h("button.action-btn.primary-btn",{type:"submit"},I18n.t("modals.tasks.addButton")))))),m=(e,t)=>{const a=e.parentNode.querySelector(".validation-error");a&&a.remove();const o=h("div.validation-error",t);e.parentNode.appendChild(o),e.focus(),setTimeout(()=>{o.parentNode&&o.remove()},3e3)};return h("div.modal-overlay",{"data-job-id":e.id,onclick:e=>e.target===e.currentTarget&&t()},h("div.modal",h("div.modal-header",h("h3.modal-title",I18n.t("modals.tasks.title",{position:e.position,company:e.company})),h("button.modal-close",{onclick:t},"×")),h("div.modal-body",p(e,i,r))))},handleAddTask=()=>{const e=document.querySelector(".add-task-textarea"),t=document.querySelector(".add-task-status"),a=document.querySelector(".add-task-priority"),o=document.querySelector(".add-task-due-date"),n=document.querySelector(".add-task-duration"),i=e.value.trim();if(!i)return void showValidationError(e,"Task text is required");const r=document.querySelector(".modal-title");if(!r)return;const s=r.closest(".modal-overlay").dataset.jobId,l=jobsData.find(e=>e.id==s);if(!l)return;let d=null;o.value&&(d=new Date(o.value).toISOString());const c={id:Date.now(),createdDate:(new Date).toISOString(),text:i,status:t.value||"todo",priority:a.value||"medium",dueDate:d,duration:n.value||null},u=jobsData.findIndex(e=>e.id===l.id);-1!==u&&(jobsData[u].tasks||(jobsData[u].tasks=[]),jobsData[u].tasks.push(c),saveToLocalStorage(),refreshTasksModal(l),e.value="",t.value="todo",a.value="medium",o.value="",n.value="",setTimeout(()=>{const e=document.querySelector(".add-task-textarea");e&&e.focus()},100),refreshInterface())};window.TasksModal=TasksModal,window.handleAddTask=handleAddTask,window.enableTaskModalEditing=enableTaskModalEditing,window.saveTaskChanges=saveTaskChanges,window.createTasksContent=createTasksContent;const enableTaskEditing=(e,t)=>{const a=document.querySelector(`[data-task-id="${e.id}"]`);if(!a)return;a.innerHTML=`\n\t\t<td class="task-status-cell">\n\t\t\t<select class="task-edit-input" data-field="status">\n\t\t\t\t<option value="todo" ${"todo"===e.status?"selected":""}>${I18n.t("modals.tasks.statusTodo")}</option>\n\t\t\t\t<option value="in-progress" ${"in-progress"===e.status?"selected":""}>${I18n.t("modals.tasks.statusInProgress")}</option>\n\t\t\t\t<option value="done" ${"done"===e.status?"selected":""}>${I18n.t("modals.tasks.statusDone")}</option>\n\t\t\t</select>\n\t\t</td>\n\t\t<td class="task-priority-cell">\n\t\t\t<select class="task-edit-input" data-field="priority">\n\t\t\t\t<option value="low" ${"low"===e.priority?"selected":""}>${I18n.t("modals.tasks.priorityLow")}</option>\n\t\t\t\t<option value="medium" ${"medium"===e.priority?"selected":""}>${I18n.t("modals.tasks.priorityMedium")}</option>\n\t\t\t\t<option value="high" ${"high"===e.priority?"selected":""}>${I18n.t("modals.tasks.priorityHigh")}</option>\n\t\t\t</select>\n\t\t</td>\n\t\t<td class="task-due-date-cell">\n\t\t\t<input type="date" class="task-edit-input" data-field="dueDate" value="${e.dueDate?e.dueDate.split("T")[0]:""}" />\n\t\t</td>\n\t\t<td class="task-duration-cell">\n\t\t\t<select class="task-edit-input" data-field="duration">\n\t\t\t\t<option value="" ${e.duration?"":"selected"}>—</option>\n\t\t\t\t<option value="15min" ${"15min"===e.duration?"selected":""}>15 min</option>\n\t\t\t\t<option value="30min" ${"30min"===e.duration?"selected":""}>30 min</option>\n\t\t\t\t<option value="1h" ${"1h"===e.duration?"selected":""}>1h</option>\n\t\t\t\t<option value="1h30" ${"1h30"===e.duration?"selected":""}>1:30</option>\n\t\t\t\t<option value="2h" ${"2h"===e.duration?"selected":""}>2h</option>\n\t\t\t\t<option value="3h" ${"3h"===e.duration?"selected":""}>3h</option>\n\t\t\t</select>\n\t\t</td>\n\t\t<td class="tasks-table-actions">\n\t\t\t<button class="action-btn save-task-btn" title="${I18n.t("modals.common.save")}">\n\t\t\t\t<span class="material-symbols-outlined icon-14">check</span>\n\t\t\t</button>\n\t\t\t<button class="action-btn cancel-task-btn" title="${I18n.t("modals.common.cancel")}">\n\t\t\t\t<span class="material-symbols-outlined icon-14">close</span>\n\t\t\t</button>\n\t\t</td>\n\t`;const o=a.nextElementSibling;o?.classList.contains("task-text-row")&&(o.innerHTML=`\n\t\t\t<td colspan="5" class="task-text-cell">\n\t\t\t\t<textarea class="task-text-edit" rows="2" placeholder="${I18n.t("modals.tasks.placeholder")}">${e.text||""}</textarea>\n\t\t\t</td>\n\t\t`,o.querySelector(".task-text-edit").onkeydown=a=>{"Enter"===a.key&&a.shiftKey&&(a.preventDefault(),saveTaskEdits(e,t))});const n=a.querySelector(".save-task-btn"),i=a.querySelector(".cancel-task-btn");n.onclick=()=>saveTaskEdits(e,t),i.onclick=()=>cancelTaskEdits(e,t);const r=a.querySelector(".task-edit-input");r&&r.focus()},saveTaskEdits=(e,t)=>{const a=document.querySelector(`[data-task-id="${e.id}"]`);if(!a)return;const o=a.querySelectorAll(".task-edit-input"),n={};o.forEach(e=>{n[e.dataset.field]=e.value.trim()});const i=a.nextElementSibling,r=i?.querySelector(".task-text-edit");if(r&&(n.text=r.value.trim()),!n.text)return void alert("Task text is required");const s=jobsData.findIndex(e=>e.id===t.id),l=jobsData[s].tasks.findIndex(t=>t.id===e.id);jobsData[s].tasks[l].status=n.status,jobsData[s].tasks[l].priority=n.priority,jobsData[s].tasks[l].dueDate=n.dueDate?`${n.dueDate}T23:59:59.999Z`:null,jobsData[s].tasks[l].duration=n.duration||null,jobsData[s].tasks[l].text=n.text,saveToLocalStorage(),refreshTasksModal(t),refreshInterface()},cancelTaskEdits=(e,t)=>{refreshTasksModal(t)},refreshTasksModal=e=>{const t=document.querySelector(".modal-body");if(!t)return;const a=jobsData.findIndex(t=>t.id===e.id);if(-1===a)return;e.tasks=jobsData[a].tasks||[];const o=e.tasks,n=o.filter(e=>!e.archived),i=o.filter(e=>e.archived),r=[...n].sort((e,t)=>new Date(e.createdDate||e.date)-new Date(t.createdDate||t.date)),s=[...i].sort((e,t)=>new Date(e.createdDate||e.date)-new Date(t.createdDate||t.date));t.innerHTML="",t.appendChild(createTasksContent(e,r,s))},createTasksContent=(e,t,a)=>h("div",t.length>0?h("div.tasks-table-container",h("table.tasks-table",h("thead",h("tr",h("th.status-col",I18n.t("modals.tasks.statusHeader")),h("th.priority-col",I18n.t("modals.tasks.priorityHeader")),h("th.due-date-col",I18n.t("modals.tasks.dueDateHeader")),h("th.duration-col",I18n.t("modals.tasks.durationHeader")),h("th.actions-col",I18n.t("modals.tasks.actionsHeader")))),h("tbody",...t.flatMap(t=>[h("tr",{key:`${t.id}-header`,"data-task-id":t.id},h("td.task-status-cell",h("span.task-status-display",getTaskStatusText(t.status))),h("td.task-priority-cell",h("span.task-priority-display",I18n.t(`modals.tasks.priority${t.priority.charAt(0).toUpperCase()+t.priority.slice(1)}`))),h("td.task-due-date-cell",h("span.task-due-date-display",t.dueDate?formatDate(t.dueDate):"—")),h("td.task-duration-cell",h("span.task-duration-display",t.duration||"—")),h("td.tasks-table-actions",h("button.action-btn.edit-task-btn",{title:I18n.t("modals.tasks.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>enableTaskEditing(t,e)}),h("button.action-btn.archive-btn",{title:I18n.t("modals.tasks.archiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">archive</span>',onclick:()=>archiveTask(t,e)}))),h("tr",{key:`${t.id}-text`,className:"task-text-row"},h("td.task-text-cell",{colspan:5},t.text))])))):h("p.modal-empty-message",I18n.t("modals.tasks.emptyState")),a.length>0?h("div.archived-tasks-section",h("h4.tasks-archived-header",{onclick:()=>{const e=document.getElementById("archived-tasks-table"),t=document.getElementById("archived-tasks-icon");"none"===e.style.display?(e.style.display="table",t.textContent="expand_less"):(e.style.display="none",t.textContent="expand_more")}},h("span.material-symbols-outlined.expand-icon",{id:"archived-tasks-icon"},"expand_more"),I18n.t("modals.tasks.archivedSection",{count:a.length})),h("table.tasks-table.archived",{id:"archived-tasks-table",style:"display: none"},h("thead",h("tr",h("th.status-col",I18n.t("modals.tasks.statusHeader")),h("th.priority-col",I18n.t("modals.tasks.priorityHeader")),h("th.due-date-col",I18n.t("modals.tasks.dueDateHeader")),h("th.duration-col",I18n.t("modals.tasks.durationHeader")),h("th.actions-col",I18n.t("modals.tasks.actionsHeader")))),h("tbody",...a.flatMap(t=>[h("tr",{key:`${t.id}-header`},h("td",getTaskStatusText(t.status)),h("td",I18n.t(`modals.tasks.priority${t.priority.charAt(0).toUpperCase()+t.priority.slice(1)}`)),h("td",t.dueDate?formatDate(t.dueDate):"—"),h("td",t.duration||"—"),h("td.tasks-table-actions",h("button.action-btn.archive-btn",{title:I18n.t("modals.tasks.unarchiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">unarchive</span>',onclick:()=>archiveTask(t,e)}))),h("tr",{key:`${t.id}-text`,className:"task-text-row"},h("td",{colspan:5},t.text))])))):null,h("div.add-task-row",h("h4.add-task-title",I18n.t("modals.tasks.addSection")),h("form.add-task-form",{onsubmit:e=>{e.preventDefault(),handleAddTask()}},h("div.task-form-grid",h("select.add-task-status",{title:I18n.t("modals.tasks.statusHeader")},h("option",{value:"todo"},I18n.t("modals.tasks.statusTodo")),h("option",{value:"in-progress"},I18n.t("modals.tasks.statusInProgress")),h("option",{value:"done"},I18n.t("modals.tasks.statusDone"))),h("select.add-task-priority",{title:I18n.t("modals.tasks.priorityHeader")},h("option",{value:"low"},I18n.t("modals.tasks.priorityLow")),h("option",{value:"medium",selected:!0},I18n.t("modals.tasks.priorityMedium")),h("option",{value:"high"},I18n.t("modals.tasks.priorityHigh"))),h("input.add-task-due-date",{type:"date",title:I18n.t("modals.tasks.dueDateHeader")}),h("select.add-task-duration",{title:I18n.t("modals.tasks.durationHeader")},h("option",{value:""},"—"),h("option",{value:"15min"},"15 min"),h("option",{value:"30min"},"30 min"),h("option",{value:"1h"},"1h"),h("option",{value:"1h30"},"1:30"),h("option",{value:"2h"},"2h"),h("option",{value:"3h"},"3h"))),h("textarea.add-task-textarea",{placeholder:I18n.t("modals.tasks.placeholder"),rows:2,onkeydown:e=>{"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),handleAddTask())}}),h("div.add-task-form-actions",h("button.action-btn.primary-btn",{type:"submit"},I18n.t("modals.tasks.addButton")))))),openTasksModal=e=>{const t=TasksModal({job:e,onClose:closeModal});document.body.appendChild(t)},openAddTaskModal=openTasksModal,openTaskEditModal=(e,t)=>{void 0!==TasksBoard&&TasksBoard.openTaskEditModal&&TasksBoard.openTaskEditModal(e)};window.refreshTasksModal=refreshTasksModal,window.openTasksModal=openTasksModal,window.openAddTaskModal=openAddTaskModal,window.openTaskEditModal=openTaskEditModal;const ContactsCount=({contacts:e=[],onClick:t})=>{const a=e.filter(e=>!e.archived).length;return h("span",{className:0===a?"contacts-count zero":"contacts-count",onclick:t,textContent:a.toString(),title:`${a} contact${1!==a?"s":""}${e.length!==a?` (${e.length-a} archived)`:""}`})},ContactItem=({contact:e,job:t})=>{const a=e.archived||!1,o=e=>h("div.contact-display",e.name?h("div.contact-name",e.name):null,e.email?h("div.contact-email",h("a.contact-link",{href:`mailto:${e.email}`},e.email)):null,e.phone?h("div.contact-phone",h("a.contact-link",{href:`tel:${e.phone}`},e.phone)):null,e.company?h("div.contact-company",e.company):null);return h("div",{className:"contact-item "+(a?"archived":""),"data-contact-id":e.id},h("div.contact-header",h("div.modal-header-content",h("span.contact-date",formatDate(e.date))),h("div.contact-actions.modal-actions-row",h("button.action-btn.edit-contact-btn",{title:I18n.t("modals.contacts.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>{const a=document.querySelector(`[data-contact-id="${e.id}"] .contact-info`);if(!a)return;const n=h("input.contact-edit-input",{type:"text",value:e.name||"",placeholder:"Name"}),i=h("input.contact-edit-input",{type:"email",value:e.email||"",placeholder:"Email"}),r=h("input.contact-edit-input",{type:"tel",value:e.phone||"",placeholder:"Phone"}),s=h("input.contact-edit-input",{type:"text",value:e.company||"",placeholder:"Company"}),l=h("button.action-btn.edit-btn.edit-save-btn",{textContent:I18n.t("modals.common.save"),onclick:()=>{const l=n.value.trim(),d=i.value.trim(),c=r.value.trim(),u=s.value.trim();if(!l&&!d&&!c)return;const h=jobsData.findIndex(e=>e.id===t.id);if(-1===h)return;const p=jobsData[h].contacts.findIndex(t=>t.id===e.id);-1!==p&&(jobsData[h].contacts[p].name=l,jobsData[h].contacts[p].email=d,jobsData[h].contacts[p].phone=c,jobsData[h].contacts[p].company=u,saveToLocalStorage(),a.innerHTML="",a.appendChild(o(jobsData[h].contacts[p])),refreshInterface())}}),d=h("button.action-btn.cancel-btn.edit-cancel-btn",{textContent:I18n.t("modals.common.cancel"),onclick:()=>{a.innerHTML="",a.appendChild(o(e))}}),c=h("div.contact-edit-form",h("div.contact-form-row",n,i),h("div.contact-form-row",r,s),h("div.contact-form-actions",l,d));a.innerHTML="",a.appendChild(c),n.focus()}}),h("button.action-btn.archive-btn",{title:a?I18n.t("modals.contacts.unarchiveTitle"):I18n.t("modals.contacts.archiveTitle"),innerHTML:`<span class="material-symbols-outlined icon-14">${a?"unarchive":"archive"}</span>`,onclick:()=>{const o=jobsData.findIndex(e=>e.id===t.id);if(-1===o)return;const n=jobsData[o].contacts.findIndex(t=>t.id===e.id);if(-1===n)return;jobsData[o].contacts[n].archived=!a,saveToLocalStorage();const i=document.querySelector(`[data-contact-id="${e.id}"]`);if(i){const e=!a;i.style.opacity=e?"0.6":"1",i.style.filter=e?"grayscale(0.5)":"none",i.className="contact-item "+(e?"archived":"");const t=i.querySelector(".archive-btn");t&&(t.innerHTML=`<span class="material-symbols-outlined icon-14">${e?"unarchive":"archive"}</span>`)}refreshInterface()}}))),h("div.contact-info",o(e)))},ContactsModal=({job:e,onClose:t})=>{const a=e.contacts||[],o=a.filter(e=>!e.archived),n=a.filter(e=>e.archived),i=[...o].sort((e,t)=>new Date(e.date)-new Date(t.date)),r=[...n].sort((e,t)=>new Date(e.date)-new Date(t.date)),s=t=>{const a=jobsData.findIndex(t=>t.id===e.id);if(-1===a)return;const o=jobsData[a].contacts.findIndex(e=>e.id===t.id);-1!==o&&(jobsData[a].contacts[o].archived=!t.archived,saveToLocalStorage(),l(e),refreshInterface())},l=e=>{const t=document.querySelector(".modal-body");if(!t)return;const a=jobsData.findIndex(t=>t.id===e.id);if(-1===a)return;e.contacts=jobsData[a].contacts||[];const o=e.contacts,n=o.filter(e=>!e.archived),i=o.filter(e=>e.archived),r=[...n].sort((e,t)=>new Date(e.date)-new Date(t.date)),s=[...i].sort((e,t)=>new Date(e.date)-new Date(t.date));t.innerHTML="",t.appendChild(d(e,r,s))},d=(e,t,a)=>h("div.contacts-table-container",t.length>0?h("table.contacts-table",h("thead",h("tr",h("th",I18n.t("modals.contacts.placeholderName")),h("th",I18n.t("modals.contacts.placeholderEmail")),h("th",I18n.t("modals.contacts.placeholderPhone")),h("th",I18n.t("modals.contacts.placeholderCompany")),h("th","Actions"))),h("tbody",...t.map(t=>h("tr",{key:t.id,"data-contact-id":t.id},h("td.contact-name-cell",t.name||"—"),h("td.contact-email-cell",t.email?h("a.contact-link",{href:`mailto:${t.email}`},t.email):"—"),h("td.contact-phone-cell",t.phone?h("a.contact-link",{href:`tel:${t.phone}`},t.phone):"—"),h("td.contact-company-cell",t.company||"—"),h("td.contacts-table-actions",h("button.action-btn.edit-contact-btn",{title:I18n.t("modals.contacts.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>enableContactEditing(t,e)}),h("button.action-btn.archive-btn",{title:I18n.t("modals.contacts.archiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">archive</span>',onclick:()=>s(t)})))))):h("p.modal-empty-message",I18n.t("modals.contacts.emptyState")),a.length>0?h("div.archived-contacts-section",h("h4.contacts-archived-header",{onclick:()=>{const e=document.getElementById("archived-contacts-table"),t=document.getElementById("archived-contacts-icon");"none"===e.style.display?(e.style.display="table",t.textContent="expand_less"):(e.style.display="none",t.textContent="expand_more")}},h("span.material-symbols-outlined.expand-icon",{id:"archived-contacts-icon"},"expand_more"),I18n.t("modals.contacts.archivedSection",{count:a.length})),h("table.contacts-table.archived",{id:"archived-contacts-table",style:"display: none"},h("thead",h("tr",h("th",I18n.t("modals.contacts.placeholderName")),h("th",I18n.t("modals.contacts.placeholderEmail")),h("th",I18n.t("modals.contacts.placeholderPhone")),h("th",I18n.t("modals.contacts.placeholderCompany")),h("th","Actions"))),h("tbody",...a.map(e=>h("tr",{key:e.id},h("td",e.name||"—"),h("td",e.email?h("a.contact-link",{href:`mailto:${e.email}`},e.email):"—"),h("td",e.phone?h("a.contact-link",{href:`tel:${e.phone}`},e.phone):"—"),h("td",e.company||"—"),h("td.contacts-table-actions",h("button.action-btn.archive-btn",{title:I18n.t("modals.contacts.unarchiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">unarchive</span>',onclick:()=>s(e)}))))))):null,h("div.add-contact-row",h("h4.add-contact-title",I18n.t("modals.contacts.addSection")),h("form.add-contact-form",{onsubmit:t=>{t.preventDefault();const a=t.target.closest(".modal");if(!a)return;const o=a.querySelector(".add-contact-name"),n=a.querySelector(".add-contact-email"),i=a.querySelector(".add-contact-phone"),r=a.querySelector(".add-contact-company"),s=o.value.trim(),d=n.value.trim(),u=i.value.trim(),h=r.value.trim();if(!s)return void c(o,I18n.t("modals.contacts.validation.nameRequired"));const p={id:Date.now(),date:(new Date).toISOString(),name:s,email:d,phone:u,company:h,isActive:!0,lastContactDate:null,notes:""};e.contacts||(e.contacts=[]),e.contacts.push(p),o.value="",n.value="",i.value="",r.value="",setTimeout(()=>{const e=a.querySelector(".add-contact-name");e&&e.focus()},100),saveToLocalStorage(),l(e),refreshInterface()}},h("div.contact-form-row",h("input.add-contact-name",{type:"text",placeholder:I18n.t("modals.contacts.placeholderName"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}}),h("input.add-contact-email",{type:"email",placeholder:I18n.t("modals.contacts.placeholderEmail"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}}),h("input.add-contact-phone",{type:"tel",placeholder:I18n.t("modals.contacts.placeholderPhone"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}}),h("input.add-contact-company",{type:"text",placeholder:I18n.t("modals.contacts.placeholderCompany"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}})),h("div.add-contact-form-actions",h("button.action-btn.primary-btn",{type:"submit"},I18n.t("modals.contacts.addButton")))))),c=(e,t)=>{const a=e.parentNode.querySelector(".validation-error");a&&a.remove();const o=h("div.validation-error",t);e.parentNode.appendChild(o),e.focus(),setTimeout(()=>{o.parentNode&&o.remove()},3e3)};return h("div.modal-overlay",{onclick:e=>e.target===e.currentTarget&&t()},h("div.modal.contacts-modal",h("div.modal-header",h("h3.modal-title",I18n.t("modals.contacts.title",{position:e.position,company:e.company})),h("button.modal-close",{onclick:t},"×")),h("div.modal-body",d(e,i,r))))},enableContactEditing=(e,t)=>{const a=document.querySelector(`[data-contact-id="${e.id}"]`);if(!a)return;a._originalContact={...e},a.innerHTML=`\n\t\t<td class="contact-name-cell">\n\t\t\t<input type="text" value="${e.name||""}" class="contact-edit-input" data-field="name" placeholder="${I18n.t("modals.contacts.placeholderName")}">\n\t\t</td>\n\t\t<td class="contact-email-cell">\n\t\t\t<input type="email" value="${e.email||""}" class="contact-edit-input" data-field="email" placeholder="${I18n.t("modals.contacts.placeholderEmail")}">\n\t\t</td>\n\t\t<td class="contact-phone-cell">\n\t\t\t<input type="tel" value="${e.phone||""}" class="contact-edit-input" data-field="phone" placeholder="${I18n.t("modals.contacts.placeholderPhone")}">\n\t\t</td>\n\t\t<td class="contact-company-cell">\n\t\t\t<input type="text" value="${e.company||""}" class="contact-edit-input" data-field="company" placeholder="${I18n.t("modals.contacts.placeholderCompany")}">\n\t\t</td>\n\t\t<td class="contacts-table-actions">\n\t\t\t<button class="action-btn save-contact-btn " title="${I18n.t("modals.common.save")}">\n\t\t\t\t<span class="material-symbols-outlined icon-14">check</span>\n\t\t\t</button>\n\t\t\t<button class="action-btn cancel-contact-btn " title="${I18n.t("modals.common.cancel")}">\n\t\t\t\t<span class="material-symbols-outlined icon-14">close</span>\n\t\t\t</button>\n\t\t</td>\n\t`;const o=a.querySelector(".save-contact-btn"),n=a.querySelector(".cancel-contact-btn");o.onclick=()=>saveContactEdits(e,t),n.onclick=()=>cancelContactEdits(e,t);const i=a.querySelector('input[data-field="name"]');i&&(i.focus(),i.select())},saveContactEdits=(e,t)=>{const a=document.querySelector(`[data-contact-id="${e.id}"]`);if(!a)return;const o=a.querySelectorAll(".contact-edit-input"),n={};if(o.forEach(e=>{n[e.dataset.field]=e.value.trim()}),console.log("Saving contact with data:",n),!n.name)return void alert("Name is required");if(n.email&&!n.email.includes("@"))return void alert("Please enter a valid email");const i=jobsData.findIndex(e=>e.id===t.id),r=jobsData[i].contacts.findIndex(t=>t.id===e.id);jobsData[i].contacts[r].name=n.name,jobsData[i].contacts[r].email=n.email,jobsData[i].contacts[r].phone=n.phone,jobsData[i].contacts[r].company=n.company,saveToLocalStorage(),refreshContactsModal(t),refreshInterface()},cancelContactEdits=(e,t)=>{refreshContactsModal(t)},refreshContactsModal=e=>{const t=document.querySelector(".modal-body");if(!t)return;const a=jobsData.findIndex(t=>t.id===e.id);if(-1===a)return;e.contacts=jobsData[a].contacts||[];const o=e.contacts,n=o.filter(e=>!e.archived),i=o.filter(e=>e.archived),r=[...n].sort((e,t)=>new Date(e.date)-new Date(t.date)),s=[...i].sort((e,t)=>new Date(e.date)-new Date(t.date));t.innerHTML="",t.appendChild(createContactsContent(e,r,s))},createContactsContent=(e,t,a)=>h("div.contacts-table-container",t.length>0?h("table.contacts-table",h("thead",h("tr",h("th",I18n.t("modals.contacts.placeholderName")),h("th",I18n.t("modals.contacts.placeholderEmail")),h("th",I18n.t("modals.contacts.placeholderPhone")),h("th",I18n.t("modals.contacts.placeholderCompany")),h("th","Actions"))),h("tbody",...t.map(t=>h("tr",{key:t.id,"data-contact-id":t.id},h("td.contact-name-cell",t.name||"—"),h("td.contact-email-cell",t.email?h("a.contact-link",{href:`mailto:${t.email}`},t.email):"—"),h("td.contact-phone-cell",t.phone?h("a.contact-link",{href:`tel:${t.phone}`},t.phone):"—"),h("td.contact-company-cell",t.company||"—"),h("td.contacts-table-actions",h("button.action-btn.edit-contact-btn",{title:I18n.t("modals.contacts.editTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">edit</span>',onclick:()=>enableContactEditing(t,e)}),h("button.action-btn.archive-btn",{title:I18n.t("modals.contacts.archiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">archive</span>',onclick:()=>handleArchiveContact(t)})))))):h("p.modal-empty-message",I18n.t("modals.contacts.emptyState")),a.length>0?h("div.archived-contacts-section",h("h4.contacts-archived-header",{onclick:()=>{const e=document.getElementById("archived-contacts-table"),t=document.getElementById("archived-contacts-icon");"none"===e.style.display?(e.style.display="table",t.textContent="expand_less"):(e.style.display="none",t.textContent="expand_more")}},h("span.material-symbols-outlined.expand-icon",{id:"archived-contacts-icon"},"expand_more"),I18n.t("modals.contacts.archivedSection",{count:a.length})),h("table.contacts-table.archived",{id:"archived-contacts-table",style:"display: none"},h("thead",h("tr",h("th",I18n.t("modals.contacts.placeholderName")),h("th",I18n.t("modals.contacts.placeholderEmail")),h("th",I18n.t("modals.contacts.placeholderPhone")),h("th",I18n.t("modals.contacts.placeholderCompany")),h("th","Actions"))),h("tbody",...a.map(e=>h("tr",{key:e.id},h("td",e.name||"—"),h("td",e.email?h("a.contact-link",{href:`mailto:${e.email}`},e.email):"—"),h("td",e.phone?h("a.contact-link",{href:`tel:${e.phone}`},e.phone):"—"),h("td",e.company||"—"),h("td.contacts-table-actions",h("button.action-btn.archive-btn",{title:I18n.t("modals.contacts.unarchiveTitle"),innerHTML:'<span class="material-symbols-outlined icon-14">unarchive</span>',onclick:()=>handleArchiveContact(e)}))))))):null,h("div.add-contact-row",h("h4.add-contact-title",I18n.t("modals.contacts.addSection")),h("form.add-contact-form",{onsubmit:t=>{t.preventDefault();const a=t.target.closest(".modal");if(!a)return;const o=a.querySelector(".add-contact-name"),n=a.querySelector(".add-contact-email"),i=a.querySelector(".add-contact-phone"),r=a.querySelector(".add-contact-company"),s=o.value.trim(),l=n.value.trim(),d=i.value.trim(),c=r.value.trim();if(!s)return void showValidationError(o,I18n.t("modals.contacts.validation.nameRequired"));const u={id:Date.now(),date:(new Date).toISOString(),name:s,email:l,phone:d,company:c,isActive:!0,lastContactDate:null,notes:""};e.contacts||(e.contacts=[]),e.contacts.push(u),o.value="",n.value="",i.value="",r.value="",setTimeout(()=>{const e=a.querySelector(".add-contact-name");e&&e.focus()},100),saveToLocalStorage(),refreshContactsModal(e),refreshInterface()}},h("div.contact-form-row",h("input.add-contact-name",{type:"text",placeholder:I18n.t("modals.contacts.placeholderName"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}}),h("input.add-contact-email",{type:"email",placeholder:I18n.t("modals.contacts.placeholderEmail"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}}),h("input.add-contact-phone",{type:"tel",placeholder:I18n.t("modals.contacts.placeholderPhone"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}}),h("input.add-contact-company",{type:"text",placeholder:I18n.t("modals.contacts.placeholderCompany"),onkeydown:e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),e.target.closest("form").dispatchEvent(new Event("submit")))}})),h("div.add-contact-form-actions",h("button.action-btn.primary-btn",{type:"submit"},I18n.t("modals.contacts.addButton")))))),updateContactRowDisplay=(e,t,a)=>{e.dataset.editing="false";const o=e.querySelector(".contact-name-cell");o.innerHTML="",o.textContent=t.name||"—";const n=e.querySelector(".contact-email-cell");if(n.innerHTML="",t.email){const e=document.createElement("a");e.href=`mailto:${t.email}`,e.className="contact-link",e.textContent=t.email,n.appendChild(e)}else n.textContent="—";const i=e.querySelector(".contact-phone-cell");if(i.innerHTML="",t.phone){const e=document.createElement("a");e.href=`tel:${t.phone}`,e.className="contact-link",e.textContent=t.phone,i.appendChild(e)}else i.textContent="—";const r=e.querySelector(".contact-company-cell");r.innerHTML="",r.textContent=t.company||"—";const s=e.querySelector(".contacts-table-actions");s.innerHTML="";const l=document.createElement("button");l.className="action-btn edit-contact-btn ",l.title=I18n.t("modals.contacts.editTitle"),l.innerHTML='<span class="material-symbols-outlined icon-14">edit</span>',l.onclick=()=>enableContactEditing(t,a),s.appendChild(l);const d=document.createElement("button");d.className="action-btn archive-btn ",d.title=I18n.t("modals.contacts.archiveTitle"),d.innerHTML='<span class="material-symbols-outlined icon-14">archive</span>',d.onclick=()=>handleArchiveContact(t),s.appendChild(d)},openContactsModal=e=>{const t=ContactsModal({job:e,onClose:closeModal});document.body.appendChild(t),setTimeout(()=>{const e=t.querySelector(".modal-body");e&&(e.scrollTop=e.scrollHeight)},50)},getLatestContact=(e=[])=>{const t=e.filter(e=>!e.archived);return 0===t.length?null:[...t].sort((e,t)=>new Date(t.date||t.id)-new Date(e.date||e.id))[0]},formatContactForTable=e=>{if(!e)return I18n.t("modals.contacts.noContacts");const t=[];return e.name&&t.push(e.name),e.email&&t.push(e.email),t.join("<br>")||I18n.t("modals.contacts.defaultContact")},archiveContact=(e,t)=>{const a=jobsData.findIndex(e=>e.id===t.id);if(-1===a)return;const o=jobsData[a].contacts.findIndex(t=>t.id===e.id);if(-1===o)return;const n=document.getElementById("archived-contacts-table"),i=n&&"table"===n.style.display;jobsData[a].contacts[o].archived=!e.archived,saveToLocalStorage(),refreshContactsModal(t),i&&setTimeout(()=>{const e=document.getElementById("archived-contacts-table"),t=document.getElementById("archived-contacts-icon");e&&(e.style.display="table",t&&(t.textContent="expand_less"))},0),refreshInterface()},handleArchiveContact=(e,t)=>archiveContact(e,t);window.ContactsCount=ContactsCount,window.ContactItem=ContactItem,window.ContactsModal=ContactsModal,window.openContactsModal=openContactsModal,window.enableContactEditing=enableContactEditing,window.saveContactEdits=saveContactEdits,window.cancelContactEdits=cancelContactEdits,window.refreshContactsModal=refreshContactsModal,window.createContactsContent=createContactsContent,window.updateContactRowDisplay=updateContactRowDisplay,window.getLatestContact=getLatestContact,window.formatContactForTable=formatContactForTable,window.archiveContact=archiveContact,window.handleArchiveContact=handleArchiveContact;const InputField=({value:e="",type:t="text",className:a="editable",placeholder:o="",list:n=null})=>{const i={className:a,type:t,value:e,placeholder:o};return n&&(i.list=n),h("input",i)},TextareaField=({value:e="",className:t="editable",placeholder:a="",rows:o=null})=>{const n={className:t,placeholder:a,textContent:e};return o&&(n.rows=o),h("textarea",n)},createPrioritySelect=(e="medium",t=!1,a="")=>{const o={className:a};return!0===t&&(o.disabled=!0),h("select",o,h("option",{value:"high",selected:"high"===e},I18n.t("priorities.high")),h("option",{value:"medium",selected:"medium"===e},I18n.t("priorities.medium")),h("option",{value:"low",selected:"low"===e},I18n.t("priorities.low")))},createPhaseSelect=(e="wishlist",t=!1,a="")=>{const o={className:a};return!0===t&&(o.disabled=!0),h("select",o,h("option",{value:"wishlist",selected:"wishlist"===e},I18n.t("phases.wishlist")),h("option",{value:"applied",selected:"applied"===e},I18n.t("phases.applied")),h("option",{value:"interview",selected:"interview"===e},I18n.t("phases.interview")),h("option",{value:"offer",selected:"offer"===e},I18n.t("phases.offer")),h("option",{value:"rejected_withdrawn",selected:"rejected_withdrawn"===e},I18n.t("phases.rejected_withdrawn")))},EditActionsCell=({jobId:e,onSave:t,onCancel:a})=>h("div.edit-actions",h("button.action-btn.edit-btn",{onclick:e=>t(e.target.closest("button")),title:I18n.t("forms.saveChangesTitle")},h("span.material-symbols-outlined","save")),h("button.action-btn.cancel-btn",{onclick:e=>a(e.target.closest("button")),title:I18n.t("forms.cancelEditingTitle")},h("span.material-symbols-outlined","close")));window.InputField=InputField,window.TextareaField=TextareaField,window.createPrioritySelect=createPrioritySelect,window.createPhaseSelect=createPhaseSelect,window.EditActionsCell=EditActionsCell;const LanguageSwitcher={create:()=>{const e=CONFIG.languages.find(e=>e.code===I18n.currentLanguage)||CONFIG.languages[0],t=document.createElement("button");t.className="language-button",t.id="languageButton";const a=document.createElement("span");a.className="language-flag",a.id="currentLanguageFlag",a.textContent=e.flag;const o=document.createElement("span");o.className="language-name",o.id="currentLanguageName",o.textContent=e.name;const n=document.createElement("span");n.className="language-arrow material-symbols-outlined",n.textContent="expand_more",t.appendChild(a),t.appendChild(o),t.appendChild(n);const i=document.createElement("div");i.className="language-dropdown",i.id="languageDropdown",i.style.display="none",CONFIG.languages.forEach(e=>{const t=document.createElement("div");t.className="language-option";const a=document.createElement("span");a.className="language-flag",a.textContent=e.flag;const o=document.createElement("span");o.className="language-name",o.textContent=e.name,t.appendChild(a),t.appendChild(o),t.addEventListener("click",()=>LanguageSwitcher.selectLanguage(e.code)),i.appendChild(t)});const r=document.createElement("div");r.className="language-selector",r.appendChild(t),r.appendChild(i);const s=document.createElement("div");return s.className="language-switcher",s.appendChild(r),t.addEventListener("click",()=>LanguageSwitcher.toggle()),s},toggle:()=>{const e=document.getElementById("languageDropdown");if(!e)return;const t="none"!==e.style.display;e.style.display=t?"none":"block",t||document.addEventListener("click",LanguageSwitcher.handleClickOutside)},handleClickOutside:e=>{const t=document.querySelector(".language-switcher");if(t&&!t.contains(e.target)){const e=document.getElementById("languageDropdown");e&&(e.style.display="none"),document.removeEventListener("click",LanguageSwitcher.handleClickOutside)}},selectLanguage:e=>{I18n.setLanguage(e)&&(LanguageSwitcher.updateUI(),LanguageSwitcher.toggle(),"function"==typeof updateUILanguage&&updateUILanguage())},updateUI:()=>{const e=CONFIG.languages.find(e=>e.code===I18n.currentLanguage);if(e){const t=document.getElementById("currentLanguageFlag"),a=document.getElementById("currentLanguageName");t&&(t.textContent=e.flag),a&&(a.textContent=e.name)}},init:()=>{LanguageSwitcher.updateUI()}},TabNavigation={activeTab:CONFIG.defaultTab,tabs:[{id:"dashboard",key:"tabs.dashboard",icon:"home"},{id:"jobs",key:"tabs.jobs",icon:"work"},{id:"applications",key:"tabs.applications",icon:"dashboard"},{id:"tasks",key:"tabs.tasks",icon:"task_alt"},{id:"calendar",key:"tabs.calendar",icon:"calendar_month"},{id:"contacts",key:"tabs.contacts",icon:"contacts"},{id:"resume",key:"tabs.resume",icon:"description"}],getTabFromURL:()=>{const e=new URLSearchParams(window.location.search).get("tab");return e&&TabNavigation.tabs.some(t=>t.id===e)?e:null},setTabInURL:e=>{const t=new URL(window.location);e?t.searchParams.set("tab",e):t.searchParams.delete("tab"),"calendar"!==e&&(t.searchParams.delete("view"),t.searchParams.delete("date")),window.history.replaceState({},"",t)},create:()=>{const e=TabNavigation.getTabFromURL();e&&(TabNavigation.activeTab=e);const t=document.createElement("div");return t.className="tab-navigation",TabNavigation.tabs.forEach(e=>{const a=document.createElement("button");a.className="tab-button "+(e.id===TabNavigation.activeTab?"active":""),a.dataset.tab=e.id;const o=document.createElement("span");o.className="material-symbols-outlined tab-icon",o.textContent=e.icon;const n=document.createElement("span");n.className="tab-text",n.textContent=I18n.t(e.key),a.appendChild(o),a.appendChild(n),a.addEventListener("click",()=>TabNavigation.switchTo(e.id)),t.appendChild(a)}),t},switchTo:(e,t=!1)=>{(t||TabNavigation.activeTab!==e)&&(TabNavigation.activeTab=e,TabNavigation.setTabInURL(e),document.querySelectorAll(".tab-button").forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)}),document.querySelectorAll(".tab-content").forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)}),TabNavigation.handleTabSwitch(e))},handleTabSwitch:e=>{switch(e){case"dashboard":TabNavigation.initializeDashboard();break;case"jobs":"function"==typeof refreshInterface&&refreshInterface();break;case"applications":TabNavigation.initializeApplicationsBoard();break;case"tasks":TabNavigation.initializeTasksBoard();break;case"calendar":TabNavigation.initializeCalendarView();break;case"contacts":TabNavigation.initializeContactsView();break;case"resume":TabNavigation.initializeResumeBuilder()}},initializeDashboard:()=>{void 0!==Dashboard&&Dashboard.init()},initializeApplicationsBoard:()=>{void 0!==KanbanBoard&&KanbanBoard.init()},initializeTasksBoard:()=>{void 0!==TasksBoard&&TasksBoard.init()},initializeCalendarView:()=>{void 0!==CalendarView&&CalendarView.init()},initializeContactsView:()=>{void 0!==ContactsView&&ContactsView.init()},initializeResumeBuilder:()=>{void 0!==ResumeBuilder&&ResumeBuilder.init()},updateLanguage:()=>{document.querySelectorAll(".tab-button").forEach(e=>{const t=e.dataset.tab,a=TabNavigation.tabs.find(e=>e.id===t);if(a){const t=e.querySelector(".tab-text");t&&(t.textContent=I18n.t(a.key))}})},init:()=>{const e=TabNavigation.getTabFromURL()||CONFIG.defaultTab;TabNavigation.switchTo(e,!0),setTimeout(()=>{const e=document.querySelector(".tab-content-container");e&&e.classList.add("tabs-initialized")},50)}},KanbanBoard={create:()=>{const e=h("div.kanban-board");return PHASES.forEach(t=>{const a=KanbanBoard.createColumn(t);e.appendChild(a)}),e},createColumn:e=>{const t=jobsData.filter(t=>t.currentPhase===e).sort((e,t)=>(e.sortOrder||0)-(t.sortOrder||0)),a=getPhaseText(e),o=h("div.kanban-column",{"data-phase":e}),n=h("div.kanban-column-header",h("div.kanban-column-title",h("span.kanban-column-name",a),h("div.kanban-column-actions","wishlist"===e&&h("button.kanban-add-job-btn",{onclick:()=>KanbanBoard.openAddJobModal()},h("span.material-symbols-outlined","add"),I18n.t("kanban.addJob")||"Add Job"),h("span.kanban-column-count",t.length.toString())))),i=h("div.kanban-column-body");return t.forEach(e=>{const t=KanbanBoard.createJobCard(e);i.appendChild(t)}),i.addEventListener("dragover",KanbanBoard.handleDragOver),i.addEventListener("drop",t=>KanbanBoard.handleDrop(t,e)),o.appendChild(n),o.appendChild(i),o},createJobCard:e=>{const t=h("div.kanban-job-card",{draggable:!0,"data-job-id":e.id});t.addEventListener("dragstart",t=>KanbanBoard.handleDragStart(t,e)),t.addEventListener("dragend",KanbanBoard.handleDragEnd);const a=h("div",{className:`kanban-priority-dot priority-${e.priority}`}),o=h("div.kanban-job-header",h("span.material-symbols-outlined kanban-job-icon","business"),h("div.kanban-job-title",h("div.kanban-job-company",e.company),h("div.kanban-job-position",e.position))),n=KanbanBoard.createPhaseSection(e),i=[];e.salaryRange&&i.push(h("div.kanban-metadata-item",h("span.material-symbols-outlined kanban-metadata-icon","payments"),h("span.kanban-metadata-text",e.salaryRange))),e.location&&i.push(h("div.kanban-metadata-item",h("span.material-symbols-outlined kanban-metadata-icon","location_on"),h("span.kanban-metadata-text",e.location)));const r=i.length>0?h("div.kanban-job-metadata",...i):null,s=e.notes?e.notes.filter(e=>!e.archived).length:0,l=e.tasks?e.tasks.filter(e=>!e.archived).length:0,d=e.contacts?e.contacts.filter(e=>!e.archived).length:0,c=[];e.sourceUrl&&c.push(h("a.kanban-icon-btn.kanban-source-link",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",title:"View job posting",onclick:e=>e.stopPropagation()},h("span.material-symbols-outlined","link")));const u=h("button.kanban-icon-btn",{title:`Notes (${s})`,onclick:t=>{t.stopPropagation(),openNotesModal(e)}},h("span.material-symbols-outlined","note"));s>0&&u.appendChild(h("span.kanban-count-badge",s.toString())),c.push(u);const p=h("button.kanban-icon-btn",{title:`Tasks (${l})`,onclick:t=>{t.stopPropagation(),openTasksModal(e)}},h("span.material-symbols-outlined","task_alt"));l>0&&p.appendChild(h("span.kanban-count-badge",l.toString())),c.push(p);const m=h("button.kanban-icon-btn",{title:`Contacts (${d})`,onclick:t=>{t.stopPropagation(),openContactsModal(e)}},h("span.material-symbols-outlined","person"));d>0&&m.appendChild(h("span.kanban-count-badge",d.toString())),c.push(m);const v=h("div.kanban-action-icons");return c.forEach(e=>v.appendChild(e)),t.addEventListener("click",t=>{t.target.closest(".kanban-icon-btn")||KanbanBoard.openJobEditModal(e)}),t.appendChild(a),t.appendChild(o),n&&t.appendChild(n),r&&t.appendChild(r),t.appendChild(v),t},createPhaseSection:e=>{const t=e.currentPhase;if("wishlist"===t||"rejected_withdrawn"===t)return null;const a=e.currentSubstep||t,o=e.completedSubsteps||[],n=e.selectedSubsteps?.[t]||[],i=n.length>0?n:getSubstepsForPhase(t),r=h("div.kanban-phase-header",h("span.material-symbols-outlined kanban-phase-icon","schedule"),h("span.kanban-phase-text",`${getPhaseText(t)} Stage:`)),s=h("div.kanban-substeps-list");if(i.length>0)i.forEach(e=>{let t="radio_button_unchecked",n="kanban-substep-item pending";o.includes(e)?(t="check_circle",n="kanban-substep-item completed"):e===a&&(t="radio_button_checked",n="kanban-substep-item current");const i=h("div",{className:n},h("span.material-symbols-outlined kanban-substep-icon",t),h("span.kanban-substep-text",getSubstepText(e)));s.appendChild(i)});else{const e=h("div.kanban-substep-item current",h("span.material-symbols-outlined kanban-substep-icon","radio_button_checked"),h("span.kanban-substep-text",getPhaseText(t)));s.appendChild(e)}return h("div.kanban-phase-section",r,s)},handleDragStart:(e,t)=>{e.dataTransfer.setData("text/plain",JSON.stringify({jobId:t.id,sourcePhase:t.currentPhase,sourceSortOrder:t.sortOrder||0})),e.target.classList.add("dragging"),document.querySelectorAll(".kanban-column").forEach(e=>{e.classList.add("drag-active")})},handleDragEnd:e=>{e.target.classList.remove("dragging"),document.querySelectorAll(".kanban-column").forEach(e=>{e.classList.remove("drag-active","drag-over")}),document.querySelectorAll(".drop-indicator, .drop-placeholder").forEach(e=>{e.remove()})},handleDragOver:e=>{e.preventDefault(),e.currentTarget.closest(".kanban-column").classList.add("drag-over"),KanbanBoard.updateDropIndicator(e)},updateDropIndicator:e=>{const t=e.currentTarget,a=Array.from(t.children).filter(e=>e.classList.contains("kanban-job-card")&&!e.classList.contains("dragging"));t.querySelectorAll(".drop-indicator, .drop-placeholder").forEach(e=>{e.remove()});const o=e.clientY;let n=a.length;for(let e=0;e<a.length;e++){const t=a[e].getBoundingClientRect();if(o<t.top+t.height/2){n=e;break}}const i=h("div.drop-placeholder.kanban-job-card",{style:"opacity: 0.3; border: 2px dashed var(--blue-500); background: var(--blue-50); transform: none;"},h("div",{style:"height: 80px; display: flex; align-items: center; justify-content: center; color: var(--blue-600); font-size: 14px; font-weight: 500;"},"Drop here"));n===a.length?t.appendChild(i):t.insertBefore(i,a[n])},handleDrop:(e,t)=>{e.preventDefault();try{const a=JSON.parse(e.dataTransfer.getData("text/plain")),{jobId:o,sourcePhase:n}=a,i=jobsData.find(e=>e.id===o);if(!i)return;const r=e.currentTarget,s=r.querySelector(".drop-placeholder");let l=0;if(s){const e=Array.from(r.children),t=e.indexOf(s);l=0;for(let a=0;a<t;a++)!e[a].classList.contains("kanban-job-card")||e[a].classList.contains("drop-placeholder")||e[a].classList.contains("dragging")||l++}else{const t=Array.from(r.children).filter(e=>e.classList.contains("kanban-job-card")&&!e.classList.contains("dragging")&&!e.classList.contains("drop-placeholder")),a=e.clientY;l=t.length;for(let e=0;e<t.length;e++){const o=t[e].getBoundingClientRect();if(a<o.top+o.height/2){l=e;break}}}n!==t?(i.currentPhase=t,"applied"!==t||i.appliedDate||(i.appliedDate=(new Date).toISOString()),getSubstepsForPhase(t).includes(i.currentSubstep)||(i.currentSubstep=t),KanbanBoard.updatePositionsInPhase(t,i.id,l)):KanbanBoard.updatePositionsInPhase(t,i.id,l),saveToLocalStorage(),KanbanBoard.refresh(),"function"==typeof refreshInterface&&refreshInterface()}catch(e){console.error("Error in drop handler:",e)}document.querySelectorAll(".kanban-column").forEach(e=>{e.classList.remove("drag-active","drag-over")}),document.querySelectorAll(".drop-indicator, .drop-placeholder").forEach(e=>{e.remove()})},updatePositionsInPhase:(e,t,a)=>{const o=jobsData.filter(t=>t.currentPhase===e).sort((e,t)=>(e.sortOrder||0)-(t.sortOrder||0)),n=o.findIndex(e=>e.id===t);-1!==n&&o.splice(n,1);const i=jobsData.find(e=>e.id===t);i&&o.splice(a,0,i),o.forEach((e,t)=>{const a=jobsData.findIndex(t=>t.id===e.id);-1!==a&&(jobsData[a].sortOrder=t)})},createCurrentStepSelector:e=>{const t=h("select.current-step-selector",{name:"currentStep",required:!0,onchange:t=>KanbanBoard.handleCurrentStepChange(t,e)});let a=!1,o=null;if(PHASES.forEach(n=>{const i=e.selectedSubsteps?.[n]||[];if(i.length>0){const r=h("optgroup",{label:getPhaseText(n)});i.forEach(t=>{const i=`${n}:${t}`;a||(o=i,a=!0);const s=h("option",{value:i,selected:e.currentPhase===n&&e.currentSubstep===t},getSubstepText(t));r.appendChild(s)}),t.appendChild(r)}}),a&&(!e.currentPhase||!e.currentSubstep)&&o){const[a,n]=o.split(":");e.currentPhase=a,e.currentSubstep=n,setTimeout(()=>{t.value!==o&&(t.value=o)},0)}return t},refreshCurrentStepSelector:(e,t)=>{const a=e.querySelector(".current-step-selector");if(a){const e=a.value,o=KanbanBoard.createCurrentStepSelector(t);if(o.querySelector(`option[value="${e}"]`))o.value=e;else{const e=o.querySelector("option[value]");if(e){o.value=e.value;const[a,n]=e.value.split(":");t.currentPhase=a,t.currentSubstep=n}else t.currentPhase=null,t.currentSubstep=null}a.parentNode.replaceChild(o,a)}},handleCurrentStepChange:(e,t)=>{const[a,o]=e.target.value.split(":");t.currentPhase=a,t.currentSubstep=o;const n=e.target.closest(".modal");n.querySelectorAll(".workflow-substep-item").forEach(e=>{e.classList.remove("current");const t=e.querySelector(".current-indicator");t&&t.remove()}),n.querySelectorAll(".workflow-phase").forEach(e=>e.classList.remove("current-phase"));const i=n.querySelector(`[data-phase="${a}"]`);if(i&&i.classList.add("current-phase"),o!==a){const e=n.querySelector(`[data-phase="${a}"][data-substep="${o}"]`);if(e){e.classList.add("current");const t=e.querySelector(".workflow-substep-toggle");t&&!t.querySelector(".current-indicator")&&t.appendChild(h("span.current-indicator","current"))}}const r=jobsData.findIndex(e=>e.id===t.id);-1!==r&&(Object.assign(jobsData[r],t),saveToLocalStorage(),KanbanBoard.refresh())},createWorkflowSelector:e=>{const t=h("div.workflow-selector");return Object.entries(PHASE_SUBSTEPS).forEach(([a,o])=>{const n=e.selectedSubsteps?.[a]||[],i=e.currentPhase===a,r=h("div",{className:"workflow-phase "+(i?"current-phase":""),"data-phase":a},h("div.workflow-phase-header",h("button",{type:"button",className:"workflow-phase-toggle "+(n.length>0?"has-substeps":""),onclick:e=>KanbanBoard.togglePhaseExpansion(e,a)},h("span.material-symbols-outlined","expand_more"),h("span.workflow-phase-title",getPhaseText(a)),h("span.workflow-phase-count",`${n.length}/${o.length}`))),h("div.workflow-substeps-list",{style:"display: none;"},...o.map(t=>{const o=n.includes(t),r=e.currentSubstep===t&&i;return h("div",{className:`workflow-substep-item ${o?"selected":""} ${r?"current":""}`,"data-phase":a,"data-substep":t},h("button.workflow-substep-toggle",{type:"button",onclick:o=>{o.shiftKey?KanbanBoard.setCurrentSubstep(o,e,a,t):KanbanBoard.toggleSubstep(o,e,a,t)}},h("span.material-symbols-outlined",o?"check_circle":"radio_button_unchecked"),h("span.workflow-substep-text",getSubstepText(t)),r&&h("span.current-indicator","current")))})));t.appendChild(r)}),t},togglePhaseExpansion:(e,t)=>{e.preventDefault();const a=e.target.closest(".workflow-phase"),o=a.querySelector(".workflow-substeps-list"),n=a.querySelector(".material-symbols-outlined");"none"===o.style.display?(o.style.display="block",n.textContent="expand_less",a.classList.add("expanded")):(o.style.display="none",n.textContent="expand_more",a.classList.remove("expanded"))},toggleSubstep:(e,t,a,o)=>{e.preventDefault(),t.selectedSubsteps||(t.selectedSubsteps={}),t.selectedSubsteps[a]||(t.selectedSubsteps[a]=[]);const n=t.selectedSubsteps[a],i=n.includes(o);i?t.selectedSubsteps[a]=n.filter(e=>e!==o):t.selectedSubsteps[a].push(o);const r=e.target.closest(".workflow-substep-item"),s=r.querySelector(".material-symbols-outlined");i?(r.classList.remove("selected"),s.textContent="radio_button_unchecked"):(r.classList.add("selected"),s.textContent="check_circle");const l=e.target.closest(".workflow-phase"),d=l.querySelector(".workflow-phase-count"),c=PHASE_SUBSTEPS[a].length,u=t.selectedSubsteps[a].length;d.textContent=`${u}/${c}`;const h=l.querySelector(".workflow-phase-toggle");u>0?h.classList.add("has-substeps"):h.classList.remove("has-substeps"),i&&t.currentSubstep===o&&(t.currentSubstep=null,t.currentPhase=null),KanbanBoard.refreshCurrentStepSelector(e.target.closest(".modal"),t);const p=jobsData.findIndex(e=>e.id===t.id);-1!==p&&(Object.assign(jobsData[p],t),saveToLocalStorage(),KanbanBoard.refresh())},setCurrentSubstep:(e,t,a,o)=>{e.preventDefault(),t.currentPhase=a,t.currentSubstep=o;const n=e.target.closest(".modal"),i=n.querySelector('select[name="phase"]'),r=n.querySelector('input[name="substep"]');i&&(i.value=a),r&&(r.value=getSubstepText(o)),n.querySelectorAll(".workflow-substep-item").forEach(e=>{e.classList.remove("current");const t=e.querySelector(".current-indicator");t&&t.remove()});const s=e.target.closest(".workflow-substep-item");s.classList.add("current");const l=s.querySelector(".workflow-substep-toggle");l.querySelector(".current-indicator")||l.appendChild(h("span.current-indicator","current")),n.querySelectorAll(".workflow-phase").forEach(e=>e.classList.remove("current-phase"));const d=n.querySelector(`[data-phase="${a}"]`);d&&d.classList.add("current-phase"),KanbanBoard.refreshCurrentStepSelector(n,t);const c=jobsData.findIndex(e=>e.id===t.id);-1!==c&&(Object.assign(jobsData[c],t),saveToLocalStorage(),KanbanBoard.refresh())},refresh:()=>{const e=document.querySelector(".kanban-board");e&&(e.innerHTML="",PHASES.forEach(t=>{const a=KanbanBoard.createColumn(t);e.appendChild(a)}))},openJobEditModal:e=>{const t=KanbanBoard.createJobEditModal(e);document.body.appendChild(t)},openAddJobModal:()=>{const e={id:Date.now(),priority:"medium",company:"",position:"",appliedDate:(new Date).toISOString(),currentPhase:"wishlist",currentSubstep:"wishlist",completedSubsteps:[],selectedSubsteps:{...DEFAULT_SELECTED_SUBSTEPS},salaryRange:"",location:"",sourceUrl:"",notes:[],tasks:[],contacts:[]};jobsData.push(e);const t=KanbanBoard.createJobEditModal(e);t.classList.add("add-job-modal");const a=t.querySelector(".modal-title");a&&(a.textContent=I18n.t("kanban.addJob")||"Add Job"),document.body.appendChild(t)},createJobEditModal:e=>{const t=()=>{KanbanBoard.closeJobEditModal()},a=[...new Set(jobsData.map(e=>e.company).filter(Boolean))],o=[...new Set(jobsData.map(e=>e.position).filter(Boolean))],n=[...new Set(jobsData.map(e=>e.location).filter(Boolean))],i=h("div.modal-overlay.kanban-job-edit-modal",{onclick:e=>e.target===e.currentTarget&&t()},h("div.modal job-edit-modal",h("div.modal-header",h("h3.modal-title",I18n.t("kanban.editJob")||"Edit Job"),h("button.modal-close",{onclick:t},"×")),h("div.modal-body",h("form.job-edit-form",h("div.form-row",h("div.form-field",h("label",I18n.t("table.headers.company")||"Company"),h("input",{type:"text",name:"company",required:!0,list:"companies-list"}),h("datalist",{id:"companies-list"},...a.map(e=>h("option",{value:e})))),h("div.form-field",h("label",I18n.t("table.headers.position")||"Position"),h("input",{type:"text",name:"position",required:!0,list:"positions-list"}),h("datalist",{id:"positions-list"},...o.map(e=>h("option",{value:e}))))),h("div.form-row",h("div.form-field",h("label",I18n.t("table.headers.salaryRange")||"Salary Range"),h("input",{type:"text",name:"salaryRange",placeholder:"e.g. $50k - $70k"})),h("div.form-field",h("label",I18n.t("table.headers.location")||"Location"),h("input",{type:"text",name:"location",list:"locations-list"}),h("datalist",{id:"locations-list"},...n.map(e=>h("option",{value:e}))))),h("div.form-row",h("div.form-field",h("label",I18n.t("table.headers.sourceUrl")||"Source URL"),h("input",{type:"url",name:"sourceUrl",placeholder:"https://"})),h("div.form-field",h("label",I18n.t("table.headers.priority")||"Priority"),h("select",{name:"priority"},h("option",{value:"high"},I18n.t("priorities.high")||"High"),h("option",{value:"medium"},I18n.t("priorities.medium")||"Medium"),h("option",{value:"low"},I18n.t("priorities.low")||"Low")))),h("div.form-row",h("div.form-field full-width",h("label",h("span","Current Step"),h("span.required-asterisk"," *")),KanbanBoard.createCurrentStepSelector(e))),h("div.form-row",h("div.form-field.full-width",h("label",I18n.t("kanban.workflowConfig")||"Workflow Configuration"),h("div.workflow-description",I18n.t("kanban.workflowDescription")||"Select and configure the steps for each phase of this job:"),KanbanBoard.createWorkflowSelector(e))))),h("div.modal-footer",h("button.btn-danger",{type:"button",onclick:async()=>{if(e.company&&e.position){if(await confirm(I18n.t("messages.confirmDelete",{position:e.position,company:e.company})||`Are you sure you want to delete the application for ${e.position} at ${e.company}?`)){const a=jobsData.findIndex(t=>t.id===e.id);-1!==a&&(jobsData.splice(a,1),saveToLocalStorage(),KanbanBoard.refresh(),"function"==typeof refreshInterface&&refreshInterface()),t()}}else t()}},I18n.t("modals.common.delete")||"Delete"),h("button.btn-secondary",{type:"button",onclick:t},I18n.t("modals.common.cancel")||"Cancel"),h("button.btn-primary",{type:"button",onclick:async()=>{const t=document.querySelector(".kanban-job-edit-modal").querySelector("form"),a=t.querySelector(".current-step-selector"),[o,n]=a?a.value.split(":"):[e.currentPhase,e.currentSubstep],i={...e,priority:t.priority.value,company:t.company.value.trim(),position:t.position.value.trim(),currentPhase:o,currentSubstep:n,salaryRange:t.salaryRange.value.trim(),location:t.location.value.trim(),sourceUrl:t.sourceUrl.value.trim()};if(i.selectedSubsteps=e.selectedSubsteps||{},!i.company||!i.position)return void await alert(I18n.t("validation.companyPositionRequired")||"Company and position are required");if(!i.currentPhase||!i.currentSubstep)return void await alert(I18n.t("validation.currentStepRequired")||"Current step is required");const r=jobsData.findIndex(t=>t.id===e.id);-1!==r&&("applied"!==i.currentPhase||"applied"===jobsData[r].currentPhase||jobsData[r].appliedDate||(i.appliedDate=(new Date).toISOString()),Object.assign(jobsData[r],i),saveToLocalStorage(),KanbanBoard.refresh(),"function"==typeof refreshInterface&&refreshInterface()),KanbanBoard.closeJobEditModal()}},I18n.t("modals.common.save")||"Save"))));return setTimeout(()=>{const t=i.querySelector("form");if(t){t.priority.value=e.priority,t.company.value=e.company,t.position.value=e.position,t.salaryRange.value=e.salaryRange||"",t.location.value=e.location||"",t.sourceUrl.value=e.sourceUrl||"";const a=`${e.currentPhase}:${e.currentSubstep||e.currentPhase}`,o=t.querySelector(".current-step-selector");o&&(o.value=a)}},0),i},closeJobEditModal:()=>{const e=document.querySelector(".kanban-job-edit-modal");if(e){if(e.classList.contains("add-job-modal")){const t=e.querySelector("form");if(t){const e=t.company?.value?.trim()||"",a=t.position?.value?.trim()||"";if(!e&&!a){const e=jobsData.find(e=>!e.company&&!e.position&&"wishlist"===e.currentPhase);if(e){const t=jobsData.findIndex(t=>t.id===e.id);-1!==t&&(jobsData.splice(t,1),saveToLocalStorage(),KanbanBoard.refresh())}}}}e.remove()}},init:()=>{const e=document.querySelector('.tab-content[data-tab="applications"]');if(e)if(e.querySelector(".kanban-container"))KanbanBoard.refresh();else{e.innerHTML="";const t=h("div.tab-header",h("h2.tab-title",I18n.t("kanban.title")),h("div.kanban-stats",h("span.kanban-total-jobs",I18n.t("kanban.totalJobs",{count:jobsData.length})))),a=KanbanBoard.create(),o=h("div.kanban-container");o.appendChild(t),o.appendChild(a),e.appendChild(o)}}};window.KanbanBoard=KanbanBoard;const TasksBoard={create:()=>{const e=h("div.tasks-board");return TASK_STATUSES.forEach(t=>{const a=TasksBoard.createColumn(t);e.appendChild(a)}),e},createColumn:e=>{const t=[];jobsData.forEach(e=>{e.tasks&&e.tasks.length>0&&e.tasks.forEach(a=>{a.archived||t.push({...a,jobId:e.id,jobCompany:e.company,jobPosition:e.position,jobPhase:e.currentPhase})})});const a=TasksBoard.getSelectedJobFilter(),o=(a?t.filter(e=>e.jobId===a):t).filter(t=>t.status===e).sort((e,t)=>(e.sortOrder||0)-(t.sortOrder||0)),n=getTaskStatusText(e),i=h("div.tasks-column",{"data-status":e}),r=h("div.tasks-column-header",h("div.tasks-column-title",h("span.tasks-column-name",n),h("div.tasks-column-actions","todo"===e&&h("button.tasks-add-task-btn",{onclick:e=>{e.preventDefault(),e.stopPropagation();const t=TasksBoard.createTaskModal();document.body.appendChild(t)}},h("span.material-symbols-outlined","add"),I18n.t("modals.tasks.addButton")||"Add Task"),h("span.tasks-column-count",o.length.toString())))),s=h("div.tasks-column-body");return o.forEach(e=>{const t=TasksBoard.createTaskCard(e);s.appendChild(t)}),s.addEventListener("dragover",TasksBoard.handleDragOver),s.addEventListener("drop",t=>TasksBoard.handleDrop(t,e)),i.appendChild(r),i.appendChild(s),i},createTaskCard:e=>{const t=h("div.tasks-task-card",{draggable:!0,"data-task-id":e.id,"data-job-id":e.jobId});t.addEventListener("click",t=>{t.target.closest(".tasks-icon-btn")||TasksBoard.openTaskEditModal(e)}),t.addEventListener("dragstart",t=>TasksBoard.handleDragStart(t,e)),t.addEventListener("dragend",TasksBoard.handleDragEnd);const a=h("div",{className:`tasks-priority-dot priority-${e.priority}`}),o=TasksBoard.createDueDateIndicator(e),n=h("div.tasks-task-content",h("div.tasks-task-text",e.task||e.text||e.description||"Untitled task")),i=h("div.tasks-job-context",h("div.tasks-job-info",h("span.material-symbols-outlined.tasks-job-icon","business"),h("span.tasks-job-text",`${e.jobCompany} — ${e.jobPosition}`)),h("div.tasks-job-phase",h("span.material-symbols-outlined.tasks-phase-icon","schedule"),h("span.tasks-phase-text",getPhaseText(e.jobPhase)))),r=h("div.tasks-card-footer",o,h("div.tasks-action-icons",h("button.tasks-icon-btn",{title:I18n.t("modals.tasks.editTitle")||"Edit Task",onclick:t=>{t.stopPropagation(),TasksBoard.openTaskEditModal(e)}},h("span.material-symbols-outlined","edit")),h("button.tasks-icon-btn",{title:I18n.t("common.viewJob")||"View Job",onclick:t=>{t.stopPropagation(),TasksBoard.openJobModal(e)}},h("span.material-symbols-outlined","work"))));return t.appendChild(a),t.appendChild(n),t.appendChild(i),t.appendChild(r),t},createDueDateIndicator:e=>{if(!e.dueDate)return null;const t=new Date,a=new Date(e.dueDate),o=a-t,n=Math.ceil(o/864e5);if(n>7)return null;let i="tasks-due-date-indicator",r="schedule",s="";return n<0?(i+=" overdue",r="warning",s=I18n.t("modals.tasks.daysOverdue",{days:Math.abs(n)})||`${Math.abs(n)} days overdue`):0===n?(i+=" due-today",r="today",s=I18n.t("modals.tasks.dueToday")||"Due today"):1===n?(i+=" due-soon",r="schedule",s=I18n.t("modals.tasks.dueTomorrow")||"Due tomorrow"):(i+=" due-soon",r="schedule",s=I18n.t("modals.tasks.dueInDays",{days:n})||`Due in ${n} days`),h("div",{className:i,title:`Due: ${a.toLocaleDateString()}`},h("span.material-symbols-outlined",r),h("span.due-date-text",s))},handleDragStart:(e,t)=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify({taskId:t.id,jobId:t.jobId,sourceStatus:t.status,sourceSortOrder:t.sortOrder||0})),e.target.classList.add("dragging"),document.querySelectorAll(".tasks-column").forEach(e=>{e.classList.add("drag-active")})},handleDragEnd:e=>{e.target.classList.remove("dragging"),document.querySelectorAll(".tasks-column").forEach(e=>{e.classList.remove("drag-active","drag-over")}),document.querySelectorAll(".drop-placeholder").forEach(e=>{e.remove()})},handleDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move";const t=e.currentTarget.closest(".tasks-column");t&&t.classList.add("drag-over"),TasksBoard.updateDropPlaceholder(e)},updateDropPlaceholder:e=>{const t=e.currentTarget,a=Array.from(t.children).filter(e=>e.classList.contains("tasks-task-card")&&!e.classList.contains("dragging")&&!e.classList.contains("drop-placeholder"));t.querySelectorAll(".drop-placeholder").forEach(e=>{e.remove()});const o=e.clientY;let n=a.length;for(let e=0;e<a.length;e++){const t=a[e].getBoundingClientRect();if(o<t.top+t.height/2){n=e;break}}const i=h("div.drop-placeholder.tasks-task-card",{style:"opacity: 0.3; border: 2px dashed var(--blue-500); background: var(--blue-50); transform: none;"},h("div",{style:"height: 120px; display: flex; align-items: center; justify-content: center; color: var(--blue-600); font-size: 14px; font-weight: 500;"},"Drop here"));n===a.length?t.appendChild(i):t.insertBefore(i,a[n])},handleDrop:(e,t)=>{e.preventDefault();try{const a=JSON.parse(e.dataTransfer.getData("text/plain")),{taskId:o,jobId:n,sourceStatus:i}=a,r=jobsData.findIndex(e=>e.id===Number.parseInt(n));if(-1===r)return;const s=jobsData[r].tasks.findIndex(e=>e.id.toString()===o.toString());if(-1===s)return;const l=jobsData[r].tasks[s];if(!l)return;const d=e.currentTarget,c=d.querySelector(".drop-placeholder");let u=0;if(c){Array.from(d.children).filter(e=>e.classList.contains("tasks-task-card")&&!e.classList.contains("dragging")&&!e.classList.contains("drop-placeholder"));const e=Array.from(d.children),t=e.indexOf(c);u=0;for(let a=0;a<t;a++)!e[a].classList.contains("tasks-task-card")||e[a].classList.contains("drop-placeholder")||e[a].classList.contains("dragging")||u++}i!==t?(l.status=t,jobsData[r].tasks[s].status=t,TasksBoard.updateTaskPositionsInStatus(t,o,u)):TasksBoard.updateTaskPositionsInStatus(t,o,u),saveToLocalStorage(),TasksBoard.refresh(),"function"==typeof refreshInterface&&refreshInterface(),void 0!==Dashboard&&"dashboard"===TabNavigation.activeTab&&Dashboard.refresh()}catch(e){console.error("Error in drop handler:",e)}document.querySelectorAll(".tasks-column").forEach(e=>{e.classList.remove("drag-active","drag-over")}),document.querySelectorAll(".drop-placeholder").forEach(e=>{e.remove()})},updateTaskPositionsInStatus:(e,t,a)=>{const o=[];jobsData.forEach((t,a)=>{t.tasks&&t.tasks.forEach((t,n)=>{t.status===e&&o.push({...t,jobIndex:a,taskIndex:n})})}),o.sort((e,t)=>(e.sortOrder||0)-(t.sortOrder||0));const n=o.findIndex(e=>e.id.toString()===t.toString());let i=null;-1!==n&&(i=o.splice(n,1)[0]),i&&o.splice(a,0,i),o.forEach((e,t)=>{void 0!==e.jobIndex&&void 0!==e.taskIndex&&(jobsData[e.jobIndex].tasks[e.taskIndex].sortOrder=t)})},refresh:()=>{const e=document.querySelector(".tasks-board");e&&(e.innerHTML="",TASK_STATUSES.forEach(t=>{const a=TasksBoard.createColumn(t);e.appendChild(a)}))},openAddTaskModal:()=>{const e=TasksBoard.createTaskModal();document.body.appendChild(e)},openTaskEditModal:e=>{const t=jobsData.find(t=>t.id===e.jobId);if(t){const a=TasksBoard.createTaskModal(e,t);document.body.appendChild(a)}},createTaskModal:(e=null,t=null)=>{const a=!!e,o=a?I18n.t("modals.tasks.editTitle")||"Edit Task":I18n.t("modals.tasks.addButton")||"Add Task",n=()=>{TasksBoard.closeTaskModal()},i=jobsData.map(e=>({id:e.id,text:`${e.company} - ${e.position}`}));return h("div.modal-overlay.tasks-add-task-modal",{onclick:e=>e.target===e.currentTarget&&n()},h("div.modal",h("div.modal-header",h("h3.modal-title",o),h("button.modal-close",{onclick:n},"×")),h("div.modal-body",h("form.add-task-form",h("div.add-task-job-row",a?h("div.job-info-display",{style:"padding: 8px 12px; background: var(--gray-50); border-radius: 6px; font-weight: 500;"},`${t.company} - ${t.position}`):h("select.add-task-job-select",{name:"jobSelect",required:!0},h("option",{value:""},I18n.t("common.chooseJob")||"Choose a job..."),...i.map(e=>h("option",{value:e.id},e.text)))),h("div.task-form-grid",(()=>{const t=h("select.add-task-status",{name:"taskStatus",title:"Status"},h("option",{value:"todo"},I18n.t("modals.tasks.statusTodo")||"To Do"),h("option",{value:"in-progress"},I18n.t("modals.tasks.statusInProgress")||"In Progress"),h("option",{value:"done"},I18n.t("modals.tasks.statusDone")||"Done"));return t.value=a&&e.status||"todo",t})(),(()=>{const t=h("select.add-task-priority",{name:"taskPriority",title:"Priority"},h("option",{value:"low"},I18n.t("modals.tasks.priorityLow")||"Low"),h("option",{value:"medium"},I18n.t("modals.tasks.priorityMedium")||"Medium"),h("option",{value:"high"},I18n.t("modals.tasks.priorityHigh")||"High"));return t.value=a&&e.priority||"medium",t})(),(()=>{const t=h("input.add-task-due-date",{type:"datetime-local",name:"dueDate",title:"Due Date & Time"});if(a&&e.dueDate)try{t.value=new Date(e.dueDate).toISOString().slice(0,16)}catch(t){console.warn("Invalid date format:",e.dueDate)}return t})(),(()=>{const t=h("select.add-task-duration",{name:"duration",title:"Duration"},h("option",{value:""},"—"),h("option",{value:"15min"},"15 min"),h("option",{value:"30min"},"30 min"),h("option",{value:"1h"},"1h"),h("option",{value:"1h30"},"1:30"),h("option",{value:"2h"},"2h"),h("option",{value:"3h"},"3h"));return a&&(t.value=e.duration||""),t})()),h("div.add-task-text-row",(()=>{const t=h("textarea.add-task-textarea",{name:"taskText",placeholder:I18n.t("modals.tasks.placeholder")||"Enter your task here...",required:!0,rows:3});return a&&(t.value=e.task||e.text||e.description||""),t})()))),h("div.modal-footer",h("button.btn-secondary",{type:"button",onclick:n},I18n.t("modals.common.cancel")||"Cancel"),a&&h("button.btn-danger",{type:"button",onclick:async()=>{if(a&&await confirm(I18n.t("messages.confirmDelete",{task:e.task||e.text||e.description})||"Are you sure you want to delete this task?")){const a=jobsData.findIndex(e=>e.id===t.id);if(-1===a)return;const o=jobsData[a].tasks.findIndex(t=>t.id===e.id);if(-1===o)return;jobsData[a].tasks.splice(o,1),saveToLocalStorage(),TasksBoard.closeTaskModal(),"function"==typeof refreshInterface&&refreshInterface(),void 0!==TasksBoard&&TasksBoard.refresh(),void 0!==Dashboard&&"dashboard"===TabNavigation.activeTab&&Dashboard.refresh()}}},I18n.t("modals.common.delete")||"Delete"),h("button.btn-primary",{type:"button",onclick:async()=>{const o=document.querySelector(".tasks-add-task-modal").querySelector("form"),n=o.taskText.value.trim(),i=o.taskStatus.value,r=o.taskPriority.value,s=o.dueDate.value||null,l=o.duration.value||null;if(n){if(a){const a=jobsData.findIndex(e=>e.id===t.id);if(-1===a)return;const o=jobsData[a].tasks.findIndex(t=>t.id===e.id);if(-1===o)return;jobsData[a].tasks[o]={...jobsData[a].tasks[o],task:n,text:n,description:n,status:i,priority:r,dueDate:s,duration:l}}else{const e=Number.parseInt(o.jobSelect.value);if(!e)return void await alert(I18n.t("validation.jobRequired")||"Please select a job");const t=jobsData.findIndex(t=>t.id===e);if(-1===t)return;const a={id:Date.now().toString(),task:n,text:n,description:n,status:i,priority:r,dueDate:s,duration:l,createdAt:(new Date).toISOString(),archived:!1,sortOrder:0};jobsData[t].tasks||(jobsData[t].tasks=[]),jobsData[t].tasks.push(a)}saveToLocalStorage(),TasksBoard.closeTaskModal(),TasksBoard.refresh(),"function"==typeof refreshInterface&&refreshInterface(),void 0!==Dashboard&&"dashboard"===TabNavigation.activeTab&&Dashboard.refresh()}else await alert(I18n.t("validation.taskRequired")||"Please enter a task description")}},a?I18n.t("modals.common.save")||"Save":I18n.t("modals.tasks.addButton")||"Add Task"))))},closeTaskModal:()=>{const e=document.querySelector(".tasks-add-task-modal");e&&e.remove()},openJobModal:e=>{const t=jobsData.find(t=>t.id===e.jobId);t&&void 0!==KanbanBoard&&KanbanBoard.openJobEditModal&&KanbanBoard.openJobEditModal(t)},init:()=>{const e=document.querySelector('.tab-content[data-tab="tasks"]');if(e)if(e.querySelector(".tasks-container"))TasksBoard.refresh();else{e.innerHTML="";let t=0;jobsData.forEach(e=>{e.tasks&&(t+=e.tasks.length)});const a=h("div.tab-header",h("h2.tab-title",I18n.t("tabs.tasks")),h("div.tasks-stats",TasksBoard.createJobFilter(),h("span.tasks-total-count",`${t} total tasks`))),o=TasksBoard.create(),n=h("div.tasks-container");n.appendChild(a),n.appendChild(o),e.appendChild(n)}},createJobFilter:()=>{const e=jobsData.map(e=>({id:e.id,text:`${e.company} - ${e.position}`})),t=h("select.tasks-job-filter",{onchange:e=>{TasksBoard.setSelectedJobFilter(e.target.value),TasksBoard.refresh()}},h("option",{value:""},I18n.t("modals.tasks.allJobs")||"All Jobs"),...e.map(e=>h("option",{value:e.id},e.text))),a=TasksBoard.getSelectedJobFilter();return a&&(t.value=a),t},getSelectedJobFilter:()=>{const e=localStorage.getItem("tasks-job-filter");return e?Number.parseInt(e):null},setSelectedJobFilter:e=>{e?localStorage.setItem("tasks-job-filter",e):localStorage.removeItem("tasks-job-filter")}};window.TasksBoard=TasksBoard;const CalendarView={currentView:"month",currentDate:new Date,selectedDate:null,events:[],getStateFromURL:()=>{const e=new URLSearchParams(window.location.search),t=e.get("view"),a=e.get("date");return{view:["month","week","day"].includes(t)?t:"month",date:a?new Date(a):new Date}},setStateInURL:()=>{const e=new URL(window.location);"calendar"===e.searchParams.get("tab")&&(e.searchParams.set("view",CalendarView.currentView),e.searchParams.set("date",CalendarView.currentDate.toISOString().split("T")[0])),window.history.replaceState({},"",e)},init:()=>{const e=document.querySelector('.tab-content[data-tab="calendar"]');if(e){const t=CalendarView.getStateFromURL();if(CalendarView.currentView=t.view,CalendarView.currentDate=t.date,CalendarView.loadEvents(),e.querySelector(".calendar-container"))CalendarView.updateView();else{e.innerHTML="";const t=CalendarView.create();e.appendChild(t)}CalendarView.setStateInURL()}},create:()=>h("div.calendar-container",h("div.tab-header",h("h2.tab-title",CalendarView.getCurrentPeriodText()),h("div.calendar-controls",h("div.calendar-view-selector",h("button",{className:"view-btn "+("month"===CalendarView.currentView?"active":""),onclick:()=>CalendarView.switchView("month")},I18n.t("calendar.month")),h("button",{className:"view-btn "+("week"===CalendarView.currentView?"active":""),onclick:()=>CalendarView.switchView("week")},I18n.t("calendar.week")),h("button",{className:"view-btn "+("day"===CalendarView.currentView?"active":""),onclick:()=>CalendarView.switchView("day")},I18n.t("calendar.day"))),h("div.calendar-nav",h("button.nav-btn",{onclick:()=>CalendarView.navigate("prev"),title:I18n.t("calendar.previous")},h("span.material-symbols-outlined","chevron_left")),h("button.nav-btn.today-btn",{onclick:()=>CalendarView.navigateToday()},I18n.t("calendar.today")),h("button.nav-btn",{onclick:()=>CalendarView.navigate("next"),title:I18n.t("calendar.next")},h("span.material-symbols-outlined","chevron_right"))))),h("div.calendar-body",{id:"calendarBody"},CalendarView.renderCurrentView())),switchView:e=>{CalendarView.currentView=e,CalendarView.updateView(),CalendarView.setStateInURL()},navigate:e=>{const t=new Date(CalendarView.currentDate);switch(CalendarView.currentView){case"month":"prev"===e?t.setMonth(t.getMonth()-1):t.setMonth(t.getMonth()+1);break;case"week":"prev"===e?t.setDate(t.getDate()-7):t.setDate(t.getDate()+7);break;case"day":"prev"===e?t.setDate(t.getDate()-1):t.setDate(t.getDate()+1)}CalendarView.currentDate=t,CalendarView.updateView(),CalendarView.setStateInURL()},navigateToday:()=>{CalendarView.currentDate=new Date,CalendarView.updateView(),CalendarView.setStateInURL()},updateView:()=>{document.querySelectorAll(".view-btn").forEach(e=>{e.classList.toggle("active",e.textContent.toLowerCase()===CalendarView.currentView)});const e=document.querySelector('.tab-content[data-tab="calendar"] .tab-title');e&&(e.textContent=CalendarView.getCurrentPeriodText());const t=document.getElementById("calendarBody");t&&(t.innerHTML="",t.appendChild(CalendarView.renderCurrentView()))},getCurrentPeriodText:()=>{const e=CalendarView.currentDate,t=I18n.t("calendar.months");switch(CalendarView.currentView){case"month":return`${t[e.getMonth()]} ${e.getFullYear()}`;case"week":{const a=CalendarView.getWeekStart(e),o=CalendarView.getWeekEnd(e);return a.getMonth()===o.getMonth()?`${a.getDate()}-${o.getDate()} ${t[a.getMonth()]} ${a.getFullYear()}`:a.getFullYear()===o.getFullYear()?`${a.getDate()} ${t[a.getMonth()]} - ${o.getDate()} ${t[o.getMonth()]} ${a.getFullYear()}`:`${a.getDate()} ${t[a.getMonth()]} ${a.getFullYear()} - ${o.getDate()} ${t[o.getMonth()]} ${o.getFullYear()}`}case"day":return`${I18n.t("calendar.weekdaysFull")[e.getDay()]}, ${e.getDate()} ${t[e.getMonth()]} ${e.getFullYear()}`}},renderCurrentView:()=>{switch(CalendarView.currentView){case"month":return CalendarView.renderMonthView();case"week":return CalendarView.renderWeekView();case"day":return CalendarView.renderDayView()}},renderMonthView:()=>{const e=CalendarView.currentDate.getFullYear(),t=CalendarView.currentDate.getMonth(),a=new Date(e,t,1),o=new Date(e,t+1,0),n=new Date(a);n.setDate(n.getDate()-a.getDay());const i=I18n.t("calendar.weekdays");return h("div.calendar-month",h("div.calendar-weekdays",...i.map(e=>h("div.calendar-weekday",e))),h("div.calendar-days",...CalendarView.generateMonthDays(n,a,o)))},generateMonthDays:(e,t,a)=>{const o=[],n=new Date;n.setHours(0,0,0,0);const i=new Date(e);for(let e=0;e<6;e++)for(let e=0;e<7;e++){const e=new Date(i),a=e.getMonth()===t.getMonth(),r=e.getTime()===n.getTime(),s=CalendarView.getEventsForDate(e),l=[h("div.calendar-day-number",e.getDate())];s.length>0&&l.push(h("div.calendar-day-events",...CalendarView.renderDayEventCards(s))),o.push(h("div",{className:`calendar-day ${a?"":"other-month"} ${r?"today":""} ${s.length>0?"has-events":""}`,onclick:()=>CalendarView.selectDate(e),ondragover:e=>CalendarView.handleDragOver(e),ondragleave:e=>CalendarView.handleDragLeave(e),ondrop:t=>CalendarView.handleDrop(t,e),"data-date":CalendarView.formatDateKey(e)},...l)),i.setDate(i.getDate()+1)}return o},renderWeekView:()=>{const e=CalendarView.getWeekStart(CalendarView.currentDate),t=I18n.t("calendar.weekdays");return I18n.t("calendar.weekdaysFull"),h("div.calendar-week",h("div.calendar-week-times",h("div.calendar-week-time-header",""),...CalendarView.generateTimeSlots()),...Array.from({length:7},(a,o)=>{const n=new Date(e);n.setDate(n.getDate()+o);const i=CalendarView.getEventsForDate(n),r=CalendarView.isToday(n);return h("div",{className:"calendar-week-day "+(r?"today":"")},h("div.calendar-week-day-header",h("div.calendar-week-day-name",t[o]),h("div.calendar-week-day-number",n.getDate())),h("div.calendar-week-day-events",{ondragover:e=>CalendarView.handleDragOver(e),ondragleave:e=>CalendarView.handleDragLeave(e),ondrop:e=>CalendarView.handleDrop(e,n),"data-date":CalendarView.formatDateKey(n)},...CalendarView.renderWeekEvents(i)))}))},renderDayView:()=>{const e=CalendarView.currentDate,t=CalendarView.getEventsForDate(e);return h("div.calendar-day-view",[h("div.calendar-day-times",[...CalendarView.generateTimeSlots()]),h("div.calendar-day-events-column[data-date]",{ondragover:e=>CalendarView.handleDragOver(e),ondragleave:e=>CalendarView.handleDragLeave(e),ondrop:t=>CalendarView.handleDrop(t,e),"data-date":CalendarView.formatDateKey(e)},...0===t.length?[h("div.calendar-no-events",I18n.t("calendar.noEvents"))]:CalendarView.renderDayEvents(t))])},generateTimeSlots:()=>{const e=[];for(let t=8;t<=20;t++)for(let a=0;a<60;a+=30){const o=`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`,n=CalendarView.formatTime12Hour(t,a),i="calendar-time-slot "+(0===a?"full-hour":"half-hour");e.push(h(`div.${i}[data-time="${o}" data-hour="${t}" data-minute="${a}"]`,n))}return e},formatTime12Hour:(e,t)=>{const a=e<12?"AM":"PM";return`${0===e?12:e>12?e-12:e}${0===t?"":`:${t.toString().padStart(2,"0")}`} ${a}`},loadEvents:()=>{const e=[];jobsData.forEach(t=>{if(t.appliedDate&&e.push({id:`applied-${t.id}`,type:"applied",date:new Date(t.appliedDate),title:`${I18n.t("calendar.applied")}: ${t.company}`,job:t,color:"green"}),t.tasks&&t.tasks.forEach(a=>{a.dueDate&&"done"!==a.status&&!a.archived&&e.push({id:`task-${t.id}-${a.id}`,type:"task",date:new Date(a.dueDate),title:a.text,job:t,task:a,priority:a.priority,color:"blue"})}),["hr_phone_screen","phone_screening","technical_phone_screen","technical_interview","behavioral_interview","team_interview","hiring_manager_interview","panel_interview","final_round"].includes(t.currentSubstep)){const a=new Date;a.setDate(a.getDate()+Math.floor(7*Math.random())+1),e.push({id:`interview-${t.id}`,type:"interview",date:a,title:`${I18n.t("calendar.interview")}: ${t.company} - ${t.position}`,job:t,color:"orange"})}if("applied"===t.currentPhase&&t.appliedDate){const a=new Date(t.appliedDate);a.setDate(a.getDate()+7),a>new Date&&e.push({id:`followup-${t.id}`,type:"followup",date:a,title:`${I18n.t("calendar.followUp")}: ${t.company}`,job:t,color:"purple"})}}),e.sort((e,t)=>{const a=e.date.getTime()-t.date.getTime();if(0!==a)return a;if("task"===e.type&&"task"===t.type){const a={high:3,medium:2,low:1},o=a[e.priority]||0;return(a[t.priority]||0)-o}return"task"===e.type&&"task"!==t.type?-1:"task"!==e.type&&"task"===t.type?1:0}),CalendarView.events=e},getEventsForDate:e=>{const t=CalendarView.formatDateKey(e);return CalendarView.events.filter(e=>CalendarView.formatDateKey(e.date)===t)},formatDateKey:e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,isToday:e=>{const t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},getWeekStart:e=>{const t=new Date(e),a=t.getDay(),o=t.getDate()-a;return new Date(t.setDate(o))},getWeekEnd:e=>{const t=new Date(e),a=t.getDay(),o=t.getDate()-a+6;return new Date(t.setDate(o))},selectDate:e=>{CalendarView.selectedDate=e;const t=CalendarView.getEventsForDate(e);t.length>0&&CalendarView.showDateEvents(e,t)},renderDayEventCards:e=>{const t=e.slice(0,3),a=[];return t.forEach(e=>{const t=CalendarView.getEventColor(e.type,e.task?.priority);let o="";switch(e.type){case"task":o=e.task.text;break;case"applied":o=`Applied: ${e.job.company}`;break;case"interview":o=`Interview: ${e.job.position}`;break;case"followup":o=`Follow up: ${e.job.company}`}a.push(h("div",{className:`calendar-day-event-mini calendar-event-${e.type}`,style:`background-color: var(--${t}-100); border-left: 2px solid var(--${t}-500);`,draggable:"task"===e.type,onclick:t=>{t.stopPropagation(),"task"===e.type&&void 0!==TasksBoard&&TasksBoard.openTaskEditModal?TasksBoard.openTaskEditModal(e.task):CalendarView.selectDate(new Date(e.date))},ondragstart:t=>{"task"===e.type&&CalendarView.handleDragStart(t,e)},ondragend:e=>{CalendarView.handleDragEnd(e)},title:o},h("div.calendar-event-mini-text",o)))}),e.length>3&&a.push(h("div.calendar-event-more",{onclick:t=>{t.stopPropagation(),CalendarView.selectDate(new Date(e[0].date))}},`+${e.length-3} more`)),a},renderWeekEvents:e=>CalendarView.calculateEventPositions(e).map(e=>h("div",{className:`calendar-week-event calendar-event-${e.type}`,style:`background-color: var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-100); border-left: 3px solid var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-500); ${e.positionStyle}`,draggable:"task"===e.type,onclick:()=>{"task"===e.type&&void 0!==TasksBoard&&TasksBoard.openTaskEditModal?TasksBoard.openTaskEditModal(e.task):CalendarView.showEventDetails(e)},ondragstart:t=>{"task"===e.type&&CalendarView.handleDragStart(t,e)},ondragend:e=>{CalendarView.handleDragEnd(e)}},h("div.calendar-event-header",h("div.calendar-event-time",CalendarView.formatEventTime(e)),h("div.calendar-event-title",e.title),h("button.calendar-event-job-btn",{onclick:t=>{t.stopPropagation(),void 0!==KanbanBoard&&KanbanBoard.openJobEditModal&&KanbanBoard.openJobEditModal(e.job)},title:`View job: ${e.job.company} - ${e.job.position}`},h("span.material-symbols-outlined","work"))))),calculateEventPosition:e=>{if("task"!==e.type||!e.task.dueDate)return"";const t=new Date(e.task.dueDate),a=t.getHours(),o=t.getMinutes();if(a<8||a>20)return"";const n=20*(2*(a-8)+Math.floor(o/30));let i=30;if(e.task.duration){const t=CalendarView.parseDuration(e.task.duration);t&&(i=t)}return`position: absolute; top: ${n}px; height: ${Math.max(15,i/30*20)}px; width: calc(100% - 8px); margin: 2px 4px; z-index: 1;`},parseDuration:e=>e&&{"15min":15,"30min":30,"1h":60,"1h30":90,"2h":120,"3h":180}[e]||null,calculateEventPositions:e=>{const t=e.map(e=>({...e,positionStyle:CalendarView.calculateEventPosition(e),startMinutes:CalendarView.getEventStartMinutes(e),endMinutes:CalendarView.getEventEndMinutes(e)})),a=t.filter(e=>null!==e.startMinutes&&""!==e.positionStyle),o=t.filter(e=>null===e.startMinutes||""===e.positionStyle),n=CalendarView.groupOverlappingEvents(a),i=[];return n.forEach(e=>{e.forEach((t,a)=>{const o=100/e.length,n=a*o;t.positionStyle=t.positionStyle.replace("width: calc(100% - 8px);",`width: calc(${o}% - 6px); left: ${n}%;`),i.push(t)})}),[...i,...o]},getEventStartMinutes:e=>{if("task"!==e.type||!e.task.dueDate)return null;const t=new Date(e.task.dueDate),a=t.getHours(),o=t.getMinutes();return a<8||a>20?null:60*a+o},getEventEndMinutes:e=>{const t=CalendarView.getEventStartMinutes(e);return null===t?null:t+(CalendarView.parseDuration(e.task?.duration)||30)},groupOverlappingEvents:e=>{const t=[],a=new Set;return e.forEach(o=>{if(a.has(o.id))return;const n=[o];a.add(o.id),e.forEach(e=>{a.has(e.id)||CalendarView.eventsOverlap(o,e)&&(n.push(e),a.add(e.id))}),t.push(n)}),t},eventsOverlap:(e,t)=>{const a=e.startMinutes,o=e.endMinutes,n=t.startMinutes;return a<t.endMinutes&&n<o},renderDayEvents:e=>CalendarView.calculateEventPositions(e).map(e=>h("div",{className:`calendar-day-event calendar-event-${e.type}`,style:`background-color: var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-100); border-left: 4px solid var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-500); ${e.positionStyle}`,draggable:"task"===e.type,onclick:()=>{"task"===e.type&&void 0!==TasksBoard&&TasksBoard.openTaskEditModal?TasksBoard.openTaskEditModal(e.task):CalendarView.showEventDetails(e)},ondragstart:t=>{"task"===e.type&&CalendarView.handleDragStart(t,e)},ondragend:e=>{CalendarView.handleDragEnd(e)}},h("div.calendar-event-header",h("div.calendar-event-time",CalendarView.formatEventTime(e)),h("div.calendar-event-title",e.title),"task"===e.type&&e.priority&&h("span",{className:`calendar-event-priority priority-${e.priority}`}),h("button.calendar-event-job-btn",{onclick:t=>{t.stopPropagation(),void 0!==KanbanBoard&&KanbanBoard.openJobEditModal&&KanbanBoard.openJobEditModal(e.job)},title:`View job: ${e.job.company} - ${e.job.position}`},h("span.material-symbols-outlined","work"))),h("div.calendar-event-subtitle",`${e.job.company} - ${e.job.position}`))),getEventColor:(e,t=null)=>"task"===e&&t?{high:"red",medium:"orange",low:"green"}[t]||"blue":{applied:"green",task:"blue",interview:"orange",followup:"purple"}[e]||"gray",formatEventTime:e=>h("span.material-symbols-outlined",{applied:"work",task:"task_alt",interview:"groups",followup:"follow_the_signs"}[e.type]||"event"),formatTaskDateTime:e=>{const t=new Date(e),a=new Date,o=t.toDateString()===a.toDateString(),n=t.toDateString()===new Date(a.getTime()+864e5).toDateString(),i=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o?`Today ${i}`:n?`Tomorrow ${i}`:`${t.toLocaleDateString()} ${i}`},showDateEvents:(e,t)=>{const a=I18n.t("calendar.months"),o=`${I18n.t("calendar.weekdaysFull")[e.getDay()]}, ${e.getDate()} ${a[e.getMonth()]}`,n=h("div.modal-overlay",{onclick:e=>{"modal-overlay"===e.target.className&&e.target.remove()}},h("div.modal.calendar-events-modal",h("div.modal-header",h("h3.modal-title",o),h("button.modal-close",{onclick:e=>e.target.closest(".modal-overlay").remove()},"×")),h("div.modal-body",h("div.calendar-events-list",...t.map(e=>CalendarView.renderEventCard(e))))));document.body.appendChild(n)},renderEventCard:e=>h("div",{className:`calendar-event-card calendar-event-${e.type}`,onclick:()=>CalendarView.handleEventClick(e)},h("div.calendar-event-card-header",h("span.calendar-event-type-badge",{style:`background-color: var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-100); color: var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-700);`},I18n.t(`calendar.${e.type}`)),"task"===e.type&&e.priority&&h("span",{className:`priority-badge priority-${e.priority}`},I18n.t(`modals.tasks.priority${e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}`))),h("div.calendar-event-card-title",e.title),h("div.calendar-event-card-subtitle",`${e.job.company} - ${e.job.position}`),"task"===e.type&&(e.task.duration||e.task.dueDate)&&h("div.calendar-event-card-meta",...[e.task.dueDate&&h("span.calendar-event-meta-item",h("span.material-symbols-outlined.calendar-meta-icon","schedule"),CalendarView.formatTaskDateTime(e.task.dueDate)),e.task.duration&&h("span.calendar-event-meta-item",h("span.material-symbols-outlined.calendar-meta-icon","timer"),e.task.duration)].filter(Boolean))),handleEventClick:e=>{const t=document.querySelector(".modal-overlay");t&&t.remove(),"task"===e.type&&void 0!==TasksBoard&&TasksBoard.openTaskEditModal?TasksBoard.openTaskEditModal(e.task):CalendarView.showEventDetailsModal(e)},showEventDetailsModal:e=>{const t=h("div.modal-overlay",{onclick:e=>{"modal-overlay"===e.target.className&&e.target.remove()}},h("div.modal.calendar-event-details-modal",h("div.modal-header",h("h3.modal-title",e.title),h("button.modal-close",{onclick:e=>e.target.closest(".modal-overlay").remove()},"×")),h("div.modal-body",h("div.event-details",h("div.event-detail-row",h("strong","Type: "),h("span",{className:`event-type-badge event-type-${e.type}`,style:`background-color: var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-100); color: var(--${CalendarView.getEventColor(e.type,e.task?.priority)}-700);`},I18n.t(`calendar.${e.type}`))),h("div.event-detail-row",h("strong","Company: "),h("span",e.job.company)),h("div.event-detail-row",h("strong","Position: "),h("span",e.job.position)),h("div.event-detail-row",h("strong","Date: "),h("span",e.date.toLocaleDateString())),"task"===e.type&&e.task&&[h("div.event-detail-row",h("strong","Priority: "),h("span",{className:`priority-badge priority-${e.task.priority}`,style:`background-color: var(--${CalendarView.getEventColor("task",e.task.priority)}-100); color: var(--${CalendarView.getEventColor("task",e.task.priority)}-700);`},e.task.priority)),h("div.event-detail-row",h("strong","Status: "),h("span",e.task.status))])),h("div.modal-footer","task"===e.type&&h("button.btn-primary",{onclick:()=>{t.remove(),openTasksModal(e.job)}},"Open Tasks"),h("button.btn-secondary",{onclick:()=>{t.remove(),TabNavigation.switchTo("jobs")}},"View Job"),h("button.btn-secondary",{onclick:()=>t.remove()},"Close"))));document.body.appendChild(t)},showEventDetails:e=>{CalendarView.handleEventClick(e)},handleDragEnd:e=>{document.querySelectorAll(".dragging").forEach(e=>{e.classList.remove("dragging")}),document.querySelectorAll(".time-drop-indicator, .time-drop-label").forEach(e=>{e.remove()}),document.querySelectorAll(".drag-over").forEach(e=>{e.classList.remove("drag-over")}),CalendarView._isProcessingDrop=!1},handleDragStart:(e,t)=>{e.stopPropagation(),"task"===t.type?(e.dataTransfer.setData("text/plain",JSON.stringify({eventId:t.id,jobId:t.job.id,taskId:t.task.id,eventType:t.type})),e.dataTransfer.effectAllowed="move",e.target.classList.add("dragging")):e.preventDefault()},handleDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move";const t=e.currentTarget;t.classList.add("drag-over"),(t.classList.contains("calendar-week-day-events")||t.classList.contains("calendar-day-events-column"))&&CalendarView.showTimeGridIndicator(e,t)},showTimeGridIndicator:(e,t)=>{document.querySelectorAll(".time-drop-indicator, .time-drop-label").forEach(e=>{e.remove()});const a=t.getBoundingClientRect(),o=e.clientY-a.top,n=Math.floor(o/10),i=10*n,r=n,s=Math.floor(r/4)+8,l=r%4*15;if(s>=8&&s<=20){const e=CalendarView.formatTime12Hour(s,l),a=h("div.time-drop-indicator",{style:`position: absolute; top: ${i}px; left: 4px; right: 4px; height: 24px; background: var(--blue-100); border: 2px dashed var(--blue-400); border-radius: 4px; z-index: 10; pointer-events: none; display: flex; align-items: center; justify-content: center;`},h("div.time-drop-label",{style:"color: var(--blue-600); font-size: 11px; font-weight: 500; pointer-events: none;"},`Drop at ${e}`));t.appendChild(a)}},handleDragLeave:e=>{e.currentTarget.classList.remove("drag-over"),document.querySelectorAll(".time-drop-indicator, .time-drop-label").forEach(e=>{e.remove()})},handleDrop:(e,t)=>{if(e.preventDefault(),e.stopPropagation(),CalendarView._isProcessingDrop)return;CalendarView._isProcessingDrop=!0;const a=e.currentTarget;a.classList.remove("drag-over"),document.querySelectorAll(".time-drop-indicator, .time-drop-label").forEach(e=>{e.remove()}),document.querySelectorAll(".dragging").forEach(e=>{e.classList.remove("dragging")});try{const o=e.dataTransfer.getData("text/plain");if(!o)return void console.error("No drag data found");const n=JSON.parse(o);if("task"===n.eventType&&n.jobId&&n.taskId){const o=new Date(t);if(a.classList.contains("calendar-week-day-events")||a.classList.contains("calendar-day-events-column")){const t=a.getBoundingClientRect(),n=e.clientY-t.top,i=10,r=Math.floor(n/i),s=Math.floor(r/4)+8,l=r%4*15;s>=8&&s<=20&&o.setHours(s,l,0,0)}CalendarView.moveTaskToDateTime(n.jobId,n.taskId,o)}}catch(e){console.error("Error handling drop:",e)}finally{setTimeout(()=>{CalendarView._isProcessingDrop=!1},100)}},moveTaskToDateTime:(e,t,a)=>{const o=String(e),n=String(t),i=jobsData.findIndex(e=>String(e.id)===o);if(-1===i)return void console.error("Job not found:",o);const r=jobsData[i].tasks.findIndex(e=>String(e.id)===n);if(-1===r)return void console.error("Task not found:",n);const s={...jobsData[i].tasks[r]},l={...jobsData[i]};jobsData[i].tasks[r].dueDate=a.toISOString(),saveToLocalStorage(),CalendarView.loadEvents(),CalendarView.updateView(),CalendarView.showMoveConfirmation(s,l,a)},moveTaskToDate:(e,t,a)=>{CalendarView.moveTaskToDateTime(e,t,a)},showMoveConfirmation:(e,t,a)=>{const o=a.toLocaleDateString(),n=a.getHours(),i=a.getMinutes(),r=CalendarView.formatTime12Hour(n,i),s=h("div.calendar-move-notification",{style:"position: fixed; top: 20px; right: 20px; background: var(--green-100); color: var(--green-700); padding: 12px 16px; border-radius: 6px; border: 1px solid var(--green-300); z-index: 3000; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"},h("div",{style:"font-weight: 600; margin-bottom: 4px;"},n>=8&&n<=20&&(0!==n||0!==i)?`Moved with success to ${o} at ${r}`:`Moved with success to ${o}`),h("div",{style:"font-size: 12px;"},`"${e.text}"`));document.body.appendChild(s),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},3e3)}};window.CalendarView=CalendarView;const ContactsView={init:()=>{const e=document.querySelector('.tab-content[data-tab="contacts"]');if(e)if(e.querySelector(".contacts-container"))ContactsView.updateView();else{e.innerHTML="";const t=ContactsView.create();e.appendChild(t)}},create:()=>h("div.contacts-container",h("div.tab-header",h("h2.tab-title",I18n.t("contactsView.title")),h("div.contacts-stats",h("span.contacts-count",ContactsView.getTotalContactsText()))),h("div.contacts-table-container",ContactsView.renderContactsTable()),h("div.contacts-actions",h("button.action-btn",{onclick:()=>ContactsView.showAddContactModal()},I18n.t("contactsView.addContact")))),getAllContacts:()=>{const e=[];return jobsData.forEach(t=>{t.contacts&&t.contacts.length>0&&t.contacts.forEach(a=>{a.archived||e.push({...a,jobId:t.id,jobCompany:t.company,jobPosition:t.position})})}),e.sort((e,t)=>(e.name||"").localeCompare(t.name||""))},getTotalContactsText:()=>{const e=ContactsView.getAllContacts().length;return I18n.t("contactsView.totalContacts",{count:e})},renderContactsTable:()=>{const e=ContactsView.getAllContacts();return 0===e.length?h("div.contacts-empty",h("p.contacts-empty-message",I18n.t("contactsView.emptyState"))):h("table.contacts-table",h("thead",h("tr",h("th",I18n.t("contactsView.nameHeader")),h("th",I18n.t("contactsView.emailHeader")),h("th",I18n.t("contactsView.phoneHeader")),h("th",I18n.t("contactsView.roleHeader")),h("th",I18n.t("contactsView.companyHeader")),h("th",I18n.t("contactsView.jobHeader")),h("th",I18n.t("contactsView.actionsHeader")))),h("tbody",...e.map(e=>ContactsView.renderContactRow(e))))},renderContactRow:e=>h("tr.contact-row",{"data-contact-id":e.id,"data-job-id":e.jobId},h("td.contact-cell.contact-name-cell",h("input.contact-field-input",{type:"text",value:e.name||"",placeholder:I18n.t("contactsView.namePlaceholder"),onchange:t=>ContactsView.updateContactField(e,"name",t.target.value),onblur:t=>ContactsView.validateAndSave(e,"name",t.target.value)})),h("td.contact-cell.contact-email-cell",h("input.contact-field-input",{type:"email",value:e.email||"",placeholder:I18n.t("contactsView.emailPlaceholder"),onchange:t=>ContactsView.updateContactField(e,"email",t.target.value)})),h("td.contact-cell.contact-phone-cell",h("input.contact-field-input",{type:"tel",value:e.phone||"",placeholder:I18n.t("contactsView.phonePlaceholder"),onchange:t=>ContactsView.updateContactField(e,"phone",t.target.value)})),h("td.contact-cell.contact-role-cell",h("input.contact-field-input",{type:"text",value:e.role||"",placeholder:I18n.t("contactsView.rolePlaceholder"),onchange:t=>ContactsView.updateContactField(e,"role",t.target.value)})),h("td.contact-cell.contact-company-cell",h("span.contact-company-display",e.jobCompany)),h("td.contact-cell.contact-job-cell",h("span.contact-job-display",e.jobPosition)),h("td.contact-cell.contact-actions-cell",h("button.contact-view-job-btn.action-btn",{title:`View job: ${e.jobPosition} at ${e.jobCompany}`,onclick:()=>{const t=jobsData.find(t=>t.id===e.jobId);t&&window.KanbanBoard&&window.KanbanBoard.openJobEditModal(t)},innerHTML:'<span class="material-symbols-outlined icon-14">work</span>'}),h("button.contact-delete-btn.action-btn.delete-btn",{title:I18n.t("contactsView.deleteTitle"),onclick:()=>ContactsView.deleteContact(e),innerHTML:'<span class="material-symbols-outlined icon-14">delete</span>'}))),updateContactField:(e,t,a)=>{const o=jobsData.findIndex(t=>t.id===e.jobId);if(-1===o)return;const n=jobsData[o].contacts.findIndex(t=>t.id===e.id);-1!==n&&(jobsData[o].contacts[n][t]=a,saveToLocalStorage(),"function"==typeof refreshInterface&&refreshInterface())},validateAndSave:(e,t,a)=>{"name"!==t||a.trim()?ContactsView.clearValidationError(e,t):ContactsView.showValidationError(e,t,I18n.t("contactsView.validation.nameRequired"))},deleteContact:async e=>{const t=I18n.t("contactsView.deleteConfirmation",{name:e.name||"this contact"});if(await confirm(t)){const t=jobsData.findIndex(t=>t.id===e.jobId);if(-1===t)return;const a=jobsData[t].contacts.findIndex(t=>t.id===e.id);if(-1===a)return;jobsData[t].contacts.splice(a,1),saveToLocalStorage(),ContactsView.updateView(),"function"==typeof refreshInterface&&refreshInterface()}},showValidationError:(e,t,a)=>{const o=document.querySelector(`[data-contact-id="${e.id}"][data-job-id="${e.jobId}"]`);if(!o)return;const n=o.querySelector(`.contact-${t}-cell`);if(!n)return;ContactsView.clearValidationError(e,t),n.classList.add("has-error");const i=h("div.field-error",a);n.appendChild(i),setTimeout(()=>{ContactsView.clearValidationError(e,t)},3e3)},clearValidationError:(e,t)=>{const a=document.querySelector(`[data-contact-id="${e.id}"][data-job-id="${e.jobId}"]`);if(!a)return;const o=a.querySelector(`.contact-${t}-cell`);if(!o)return;o.classList.remove("has-error");const n=o.querySelector(".field-error");n&&n.remove()},showAddContactModal:async()=>{const e=jobsData.map(e=>({id:e.id,text:`${e.company} - ${e.position}`}));if(0===e.length)return void await alert(I18n.t("contactsView.noJobsAvailable"));const t=h("div.modal-overlay",{onclick:e=>{"modal-overlay"===e.target.className&&e.target.remove()}},h("div.modal",h("div.modal-header",h("h3.modal-title",I18n.t("contactsView.addContactTitle")),h("button.modal-close",{onclick:e=>e.target.closest(".modal-overlay").remove()},"×")),h("div.modal-body",h("div.add-contact-form",h("div.contact-form-row",h("div.contact-form-field",h("label",I18n.t("contactsView.nameHeader")),h("input.add-contact-name",{type:"text",placeholder:I18n.t("contactsView.namePlaceholder")})),h("div.contact-form-field",h("label",I18n.t("contactsView.emailHeader")),h("input.add-contact-email",{type:"email",placeholder:I18n.t("contactsView.emailPlaceholder")}))),h("div.contact-form-row",h("div.contact-form-field",h("label",I18n.t("contactsView.phoneHeader")),h("input.add-contact-phone",{type:"tel",placeholder:I18n.t("contactsView.phonePlaceholder")})),h("div.contact-form-field",h("label",I18n.t("contactsView.roleHeader")),h("input.add-contact-role",{type:"text",placeholder:I18n.t("contactsView.rolePlaceholder")}))),h("div.contact-form-row",h("div.contact-form-field.full-width",h("label",I18n.t("contactsView.jobHeader")),h("select.add-contact-job",h("option",{value:""},I18n.t("contactsView.selectJob")),...e.map(e=>h("option",{value:e.id},e.text))))))),h("div.modal-footer",h("button.btn-secondary",{onclick:e=>e.target.closest(".modal-overlay").remove()},I18n.t("modals.common.cancel")),h("button.btn-primary",{onclick:()=>ContactsView.addContact()},I18n.t("contactsView.addContact")))));document.body.appendChild(t),setTimeout(()=>{const e=t.querySelector(".add-contact-name");e&&e.focus()},100)},addContact:async()=>{const e=document.querySelector(".add-contact-name"),t=document.querySelector(".add-contact-email"),a=document.querySelector(".add-contact-phone"),o=document.querySelector(".add-contact-role"),n=document.querySelector(".add-contact-job"),i=e.value.trim(),r=t.value.trim(),s=a.value.trim(),l=o.value.trim(),d=Number.parseInt(n.value);if(!i)return await alert(I18n.t("contactsView.validation.nameRequired")),void e.focus();if(!d)return await alert(I18n.t("contactsView.validation.jobRequired")),void n.focus();const c=jobsData.findIndex(e=>e.id===d);if(-1===c)return;const u={id:Date.now().toString(),name:i,email:r||null,phone:s||null,role:l||null,company:jobsData[c].company,createdAt:(new Date).toISOString(),archived:!1};jobsData[c].contacts||(jobsData[c].contacts=[]),jobsData[c].contacts.push(u),saveToLocalStorage(),document.querySelector(".modal-overlay").remove(),ContactsView.updateView(),"function"==typeof refreshInterface&&refreshInterface()},updateView:()=>{const e=document.querySelector(".contacts-table-container");e&&(e.innerHTML="",e.appendChild(ContactsView.renderContactsTable()));const t=document.querySelector(".contacts-count");t&&(t.textContent=ContactsView.getTotalContactsText())}};window.ContactsView=ContactsView;const PriorityCell=({priority:e})=>h("td.priority-cell",h("span",{className:`priority priority-${e}`}),getPriorityText(e)),JobRow=({job:e,onEdit:t,onDelete:a})=>{const o=h("tr",{"data-job-id":e.id},PriorityCell({priority:e.priority}),h("td.company-name",{title:e.company},e.company),h("td.position-name",{title:e.position},e.position),h("td.current-phase",h("div.phase-display",h("span.phase-main",(()=>{const t=getPhaseText(e.currentPhase);return t&&!t.startsWith("phases.")?t:e.currentPhase})()),e.currentSubstep&&e.currentSubstep!==e.currentPhase?h("span.phase-substep",(()=>{const t=getSubstepText(e.currentSubstep);return t&&!t.startsWith("substeps.")?t:e.currentSubstep})()):null)),h("td.salary",{title:e.salaryRange},e.salaryRange),h("td.location",{title:e.location},e.location),h("td.actions-cell",(()=>{const o=[];e.sourceUrl&&o.push(h("a.kanban-icon-btn.kanban-source-link",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",title:"View job posting",onclick:e=>e.stopPropagation()},h("span.material-symbols-outlined","link")));const n=(e.notes||[]).filter(e=>!e.archived).length,i=h("button.kanban-icon-btn",{title:`Notes (${n})`,onclick:t=>{t.stopPropagation(),openNotesModal(e)}},h("span.material-symbols-outlined","note"));n>0&&i.appendChild(h("span.kanban-count-badge",n.toString())),o.push(i);const r=(e.tasks||[]).filter(e=>!e.archived).length,s=h("button.kanban-icon-btn",{title:`Tasks (${r})`,onclick:t=>{t.stopPropagation(),openTasksModal(e)}},h("span.material-symbols-outlined","task_alt"));r>0&&s.appendChild(h("span.kanban-count-badge",r.toString())),o.push(s);const l=(e.contacts||[]).filter(e=>!e.archived).length,d=h("button.kanban-icon-btn",{title:`Contacts (${l})`,onclick:t=>{t.stopPropagation(),openContactsModal(e)}},h("span.material-symbols-outlined","person"));l>0&&d.appendChild(h("span.kanban-count-badge",l.toString())),o.push(d),o.push(h("button.kanban-icon-btn",{title:"Edit job",onclick:a=>{a.stopPropagation(),t(e)}},h("span.material-symbols-outlined","edit"))),o.push(h("button.kanban-icon-btn",{title:I18n.t("actions.archive")||"Archive job",onclick:t=>{t.stopPropagation(),a(e)}},h("span.material-symbols-outlined","archive")));const c=h("div.kanban-action-icons");return o.forEach(e=>c.appendChild(e)),c})()));return o.addEventListener("dblclick",()=>t(e)),o},closeModal=()=>{document.querySelectorAll(".modal-overlay").forEach(e=>e.remove())},Dashboard={create:()=>{const e=h("div.dashboard-container"),t=Dashboard.createStatsSection(),a=h("div.dashboard-tasks-container",Dashboard.createTodayTasksSection(),Dashboard.createTomorrowTasksSection());return e.appendChild(t),e.appendChild(a),e},createStatsSection:()=>{const e=Dashboard.calculateStats(),t=h("div.dashboard-stats-grid",Dashboard.createStatCard("work",I18n.t("dashboard.stats.totalJobs"),e.totalJobs.toString(),"primary"),Dashboard.createStatCard("trending_up",I18n.t("dashboard.stats.activeApplications"),e.activeApplications.toString(),"success"),Dashboard.createStatCard("groups",I18n.t("dashboard.stats.interviews"),e.interviews.toString(),"info"),Dashboard.createStatCard("celebration",I18n.t("dashboard.stats.offers"),e.offers.toString(),"warning"),Dashboard.createStatCard("task_alt",I18n.t("dashboard.stats.activeTasks"),e.activeTasks.toString(),"secondary"),Dashboard.createStatCard("contacts",I18n.t("dashboard.stats.totalContacts"),e.totalContacts.toString(),"default"),Dashboard.createStatCard("description",I18n.t("dashboard.stats.totalNotes"),e.totalNotes.toString(),"default"),Dashboard.createStatCard("calendar_today",I18n.t("dashboard.stats.thisWeek"),e.tasksThisWeek.toString(),"info"));return h("div.dashboard-stats-section",h("h3.dashboard-section-title",I18n.t("dashboard.stats.title")),t)},createStatCard:(e,t,a,o="default")=>h("div",{className:`dashboard-stat-card stat-${o}`},h("div.stat-icon",h("span.material-symbols-outlined",e)),h("div.stat-content",h("div.stat-value",a),h("div.stat-label",t))),createTodayTasksSection:()=>{const e=Dashboard.getTasksForDate(new Date),t=h("div.dashboard-tasks-list");return 0===e.length?t.appendChild(h("div.empty-state",I18n.t("dashboard.todayTasks.noTasks"))):e.forEach(e=>{t.appendChild(Dashboard.createTaskItem(e))}),h("div.dashboard-tasks-section",h("h3.dashboard-section-title",I18n.t("dashboard.todayTasks.title")),t)},createTomorrowTasksSection:()=>{const e=new Date;e.setDate(e.getDate()+1);const t=Dashboard.getTasksForDate(e),a=h("div.dashboard-tasks-list");return 0===t.length?a.appendChild(h("div.empty-state",I18n.t("dashboard.tomorrowTasks.noTasks"))):t.forEach(e=>{a.appendChild(Dashboard.createTaskItem(e))}),h("div.dashboard-tasks-section",h("h3.dashboard-section-title",I18n.t("dashboard.tomorrowTasks.title")),a)},createTaskItem:e=>{const t=`priority-${e.priority}`,a=`status-${e.status}`;let o="";return e.dueDate&&(o=new Date(e.dueDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),h("div",{className:`dashboard-task-item ${t}`,onclick:()=>Dashboard.openTaskModal(e)},h("div.task-time",o||"—"),h("div.task-info",h("div.task-text",e.task||e.text||e.description),h("div.task-job",h("span.material-symbols-outlined","work"),h("span",`${e.jobCompany} - ${e.jobPosition}`))),h("div",{className:`task-status ${a}`},getTaskStatusText(e.status)))},calculateStats:()=>{const e=jobsData.length;let t=0,a=0,o=0,n=0,i=0,r=0,s=0;return jobsData.forEach(e=>{"rejected_withdrawn"!==e.currentPhase&&t++,"interview"===e.currentPhase&&a++,"offer"===e.currentPhase&&o++,e.tasks&&e.tasks.forEach(e=>{if(e.archived||"done"===e.status||n++,e.dueDate){const t=new Date(e.dueDate),a=new Date;a.setDate(a.getDate()-a.getDay()),a.setHours(0,0,0,0);const o=new Date(a);o.setDate(o.getDate()+7),t>=a&&t<o&&!e.archived&&s++}}),e.contacts&&(i+=e.contacts.filter(e=>!e.archived).length),e.notes&&(r+=e.notes.filter(e=>!e.archived).length)}),{totalJobs:e,activeApplications:t,interviews:a,offers:o,activeTasks:n,totalContacts:i,totalNotes:r,tasksThisWeek:s}},getTasksForDate:e=>{const t=[],a=e.toDateString();return jobsData.forEach(e=>{e.tasks&&e.tasks.forEach(o=>{!o.archived&&o.dueDate&&new Date(o.dueDate).toDateString()===a&&t.push({...o,jobId:e.id,jobCompany:e.company,jobPosition:e.position,jobPhase:e.currentPhase})})}),t.sort((e,t)=>(e.dueDate?new Date(e.dueDate).getTime():0)-(t.dueDate?new Date(t.dueDate).getTime():0)),t},openTaskModal:e=>{const t=jobsData.find(t=>t.id===e.jobId);t&&openTasksModal(t)},init:()=>{const e=document.querySelector('.tab-content[data-tab="dashboard"]');if(e){e.innerHTML="";const t=Dashboard.create();e.appendChild(t)}else console.error("Dashboard tab not found")},refresh:()=>{Dashboard.init()}};window.Dashboard=Dashboard;const ResumeBuilder={data:{basics:{name:"",label:"",summary:"",email:"",phone:"",location:{city:"",country:""},profiles:[],languages:[],personalStatement:""},skills:[],experience:[],projects:[],portfolio:[],education:[],certifications:[],awards:[],volunteer:[],interests:[]},collapsedSections:{},countryCodes:["US","DE","BR","IN","CN","JP","RU","FR","IT","GB","ES","CA","AU","MX","KR","NL","TR","AR","SA","ZA","PL","SE","NO","DK","FI","BE","CH","IE","AT","PT","GR","HU","CZ","SK","RO","IL","NZ","TH","ID","MY","PH","VN","EG","NG","KE","PK","UA","BD","CL","CO"],languageCodes:["en","zh","es","hi","ar","bn","fr","ru","pt","ur","id","de","ja","sw","mr","te","vi","ta","ko","fa","tr","it","pl","jv","ms","th","gu","pa","ro","nl"],skillsSuggestions:{languages:["JavaScript","TypeScript","Python","Java","C#","C++","Go","Ruby","Rust","PHP","SQL","Shell"],frameworks:["React","Next.js","Vue","Nuxt","Svelte","Angular","Express","Django","Flask","Spring Boot","FastAPI"],tools:["Git","Docker","Postman","ESLint","Prettier","Webpack","Vite","TurboRepo","pnpm","Vitest","Playwright","Cypress"],databases:["PostgreSQL","MySQL","MongoDB","SQLite","Redis","Supabase","Firebase","Prisma"],cloud:["Vercel","Netlify","Railway","Heroku","AWS","GCP","Azure","Cloudflare","Docker Hub"],testing:["Jest","Vitest","Playwright","Cypress","Testing Library","Mocha","Chai"],devops:["CI/CD","GitHub Actions","Docker Compose","Terraform","Kubernetes","Nginx"],uiux:["Tailwind CSS","Shadcn/ui","Radix UI","Figma","Storybook","Framer Motion","Material UI"],soft:["Problem Solving","Teamwork","Mentoring","Communication","Remote Collaboration","Time Management"]},degreeTypes:{undergraduate:[{label:"Bachelor of Science (BSc)",description:"Undergraduate degree in computer science, IT, or engineering"},{label:"Bachelor of Engineering (BEng)",description:"Technical degree focused on software, electrical, or systems engineering"},{label:"Associate Degree",description:"2-year tech-focused degree, often in IT or programming"}],postgraduate:[{label:"Master of Science (MSc)",description:"Advanced degree in computer science, data science, or software engineering"},{label:"Master of Engineering (MEng)",description:"Specialized engineering degree in software, hardware, or IT systems"},{label:"Doctor of Philosophy (PhD)",description:"Research doctorate in computer science or related tech fields"}],professional:[{label:"Bootcamp Certificate",description:"Intensive program in coding, data, DevOps, or design"},{label:"Nanodegree",description:"Compact online program in web, data, AI, or mobile development"},{label:"Certificate of Completion",description:"Proof of finishing a relevant IT course"},{label:"Professional Certification",description:"Recognized credential from a tech organization (e.g. AWS, Microsoft, Google)"},{label:"Online Course",description:"Unaccredited but useful online course in tech topics"},{label:"Diploma",description:"Formal training program in IT or computer-related fields"}]},getCountryOptions:()=>{try{const e=new Intl.DisplayNames([navigator.language],{type:"region"}),t=ResumeBuilder.countryCodes.map(t=>({code:t,name:e.of(t)}));return t.sort((e,t)=>e.name.localeCompare(t.name,navigator.language)),t.map(e=>h("option",{value:e.code},e.name))}catch(e){return console.error("Intl.DisplayNames not supported:",e),ResumeBuilder.countryCodes.map(e=>h("option",{value:e},e))}},getLanguageOptions:()=>{try{const e=new Intl.DisplayNames([navigator.language],{type:"language"}),t=ResumeBuilder.languageCodes.map(t=>({code:t,name:e.of(t)}));return t.sort((e,t)=>e.name.localeCompare(t.name,navigator.language)),t.map(e=>h("option",{value:e.code},e.name))}catch(e){return console.error("Intl.DisplayNames not supported:",e),ResumeBuilder.languageCodes.map(e=>h("option",{value:e},e))}},formatSkillGroupName:e=>({languages:"Languages",frameworks:"Frameworks",tools:"Tools",databases:"Databases",cloud:"Cloud",testing:"Testing",devops:"DevOps",uiux:"UI/UX",soft:"Soft Skills"}[e]||e.charAt(0).toUpperCase()+e.slice(1)),toggleSection:e=>{ResumeBuilder.collapsedSections[e]=!ResumeBuilder.collapsedSections[e];const t=document.querySelector(`[data-section="${e}"] .section-content`),a=document.querySelector(`[data-section="${e}"] .section-arrow`);if(t&&a){const o=ResumeBuilder.collapsedSections[e];t.classList.toggle("collapsed",o),a.classList.toggle("collapsed",o)}},calculateBasicsCompletion:()=>{const e=ResumeBuilder.data.basics,t=["name","label","email","phone"];return{completed:t.filter(t=>e[t]&&e[t].trim()).length+(e.location.city&&e.location.country?1:0)+(e.summary&&e.summary.trim()?1:0),total:t.length+2}},calculateArrayCompletion:(e,t,a=null)=>{const o=a||ResumeBuilder.data[e];if(!o||0===o.length)return{completed:0,total:0};let n=0;return o.forEach(e=>{t.filter(t=>{const a=t.includes(".")?t.split(".").reduce((e,t)=>e&&e[t],e):e[t];return a&&a.toString().trim()}).length===t.length&&n++}),{completed:n,total:o.length}},createCollapsibleSection:(e,t,a,o)=>{const n=ResumeBuilder.collapsedSections[e]||!1,i=o.total>0?`(${o.completed}/${o.total})`:"(0/0)";return h("div.resume-section",{"data-section":e},h("h3.resume-section-title",{onclick:()=>ResumeBuilder.toggleSection(e)},h("div.section-title-content",h("span",I18n.t(t)),h("span.section-completion",i)),h("span.section-arrow",{className:n?"collapsed":""},h("span.material-symbols-outlined","keyboard_arrow_down"))),h("div.section-content",{className:n?"collapsed":""},...a))},create:()=>h("div.resume-container",h("div.tab-header",h("h2.tab-title",I18n.t("headers.resume"))),h("div.resume-layout",h("div.resume-form-column",ResumeBuilder.createBasicsSection(),ResumeBuilder.createProfilesSection(),ResumeBuilder.createLanguagesSection(),ResumeBuilder.createSkillsSection(),ResumeBuilder.createExperienceSection(),ResumeBuilder.createProjectsSection(),ResumeBuilder.createPortfolioSection(),ResumeBuilder.createEducationSection(),ResumeBuilder.createCertificationsSection(),ResumeBuilder.createAwardsSection(),ResumeBuilder.createVolunteerSection(),ResumeBuilder.createInterestsSection()),h("div.resume-preview-column",h("div.preview-header","Resume Preview"),h("div.cv-container",{id:"resume-html-preview"},ResumeBuilder.generateResumeHTML())))),updatePreview:()=>{const e=document.getElementById("resume-html-preview");e&&(e.innerHTML="",e.appendChild(ResumeBuilder.generateResumeHTML())),ResumeBuilder.updateCompletionCounters(),ResumeBuilder.save()},generateResumeHTML:()=>{const e=ResumeBuilder.data,t=ResumeBuilder.generateHeaderHTML(e.basics),a=[ResumeBuilder.generateSummaryHTML(e.basics),ResumeBuilder.generateExperienceHTML(e.experience),ResumeBuilder.generateEducationHTML(e.education),ResumeBuilder.generateProjectsHTML(e.projects),ResumeBuilder.generateCertificationsHTML(e.certifications),ResumeBuilder.generateAwardsHTML(e.awards),ResumeBuilder.generateVolunteerHTML(e.volunteer)].filter(e=>""!==e),o=[ResumeBuilder.generateContactHTML(e.basics),ResumeBuilder.generateLanguagesHTML(e.basics.languages),ResumeBuilder.generateSkillsHTML(e.skills)].filter(e=>""!==e);return h("div.cv-paper-container",h("article.cv-resume",t,a.length>0||o.length>0?h("main.cv-main",a.length>0?h("section.cv-content",...a):"",o.length>0?h("section.cv-sidebar",...o):""):""))},generateHeaderHTML:e=>e.name||e.label?h("header.cv-header",e.name?h("h1.cv-name",e.name):"",e.label?h("h2.cv-title",e.label):""):"",generateContactHTML:e=>{if(!(e.email||e.phone||e.location&&(e.location.city||e.location.country)||e.profiles&&e.profiles.length>0))return"";const t=[];if(e.email&&t.push(h("div.cv-contact-item",h("span.cv-contact-label","Email"),h("a.cv-contact-value",{href:`mailto:${e.email}`},e.email))),e.phone&&t.push(h("div.cv-contact-item",h("span.cv-contact-label","Phone"),h("span.cv-contact-value",e.phone))),e.location&&(e.location.city||e.location.country)){const a=[e.location.city,e.location.country].filter(Boolean).join(", ");t.push(h("div.cv-contact-item",h("span.cv-contact-label","Location"),h("span.cv-contact-value",a)))}return e.profiles&&e.profiles.length>0&&e.profiles.forEach(e=>{e.url&&e.type&&t.push(h("div.cv-contact-item",h("span.cv-contact-label",e.type),h("a.cv-contact-value",{href:e.url,target:"_blank"},e.url)))}),h("section.cv-contact",h("h3.cv-section-title","Contact"),h("div.cv-contact-list",...t))},generateSummaryHTML:e=>e.summary||e.personalStatement?h("section.cv-summary",h("h3.cv-section-title","Summary"),e.summary?h("p.cv-summary-text",e.summary):"",e.personalStatement?h("p.cv-summary-text",e.personalStatement):""):"",generateExperienceHTML:e=>e&&0!==e.length?h("section.cv-experience",h("h3.cv-section-title","Work Experience"),h("div.cv-experience-list",...e.map(e=>ResumeBuilder.generateExperienceItemHTML(e)))):"",generateExperienceItemHTML:e=>h("div.cv-experience-item",h("div.cv-experience-header",e.position?h("h4.cv-experience-position",e.position):"",e.company?h("h5.cv-experience-company",e.company):""),h("div.cv-experience-meta",e.startDate||e.endDate?h("span.cv-experience-dates",`${e.startDate||""} - ${e.endDate||"Present"}`):"",e.location?h("span.cv-experience-location",e.location):""),e.summary?h("p.cv-experience-summary",e.summary):"",e.highlights&&e.highlights.length>0?h("ul.cv-experience-highlights",...e.highlights.map(e=>h("li.cv-experience-highlight",e))):""),generateEducationHTML:e=>e&&0!==e.length?h("section.cv-education",h("h3.cv-section-title","Education"),h("div.cv-education-list",...e.map(e=>ResumeBuilder.generateEducationItemHTML(e)))):"",generateEducationItemHTML:e=>h("div.cv-education-item",e.studyType?h("h4.cv-education-degree",e.studyType):"",e.area?h("h5.cv-education-field",e.area):"",e.institution?h("h6.cv-education-institution",e.institution):"",e.startDate||e.endDate?h("span.cv-education-dates",`${e.startDate||""} - ${e.endDate||"Present"}`):""),generateSkillsHTML:e=>e&&0!==e.length?h("section.cv-skills",h("h3.cv-section-title","Skills"),h("div.cv-skills-list",...e.map(e=>ResumeBuilder.generateSkillItemHTML(e)))):"",generateSkillItemHTML:e=>e.name?h("div.cv-skill-item",h("h4.cv-skill-category",e.name),e.keywords&&e.keywords.length>0?h("div.cv-skill-keywords",...e.keywords.filter(e=>e.trim()).map(e=>h("span.cv-skill-keyword",e))):""):"",generateLanguagesHTML:e=>e&&0!==e.length?h("section.cv-languages",h("h3.cv-section-title","Languages"),h("div.cv-languages-list",...e.map(e=>ResumeBuilder.generateLanguageItemHTML(e)))):"",generateLanguageItemHTML:e=>e.language?h("div.cv-language-item",h("span.cv-language-name",e.language),e.fluency?h("span.cv-language-level",e.fluency):""):"",generateProjectsHTML:e=>e&&0!==e.length?h("section.cv-projects",h("h3.cv-section-title","Projects"),h("div.cv-projects-list",...e.map(e=>ResumeBuilder.generateProjectItemHTML(e)))):"",generateProjectItemHTML:e=>e.name?h("div.cv-project-item",h("h4.cv-project-name",e.name),e.description?h("p.cv-project-description",e.description):"",e.url?h("a.cv-project-url",{href:e.url,target:"_blank"},e.url):"",e.tags&&e.tags.length>0?h("div.cv-project-tags",...e.tags.map(e=>h("span.cv-project-tag",e))):""):"",generateCertificationsHTML:e=>e&&0!==e.length?h("section.cv-certifications",h("h3.cv-section-title","Certifications"),h("div.cv-certifications-list",...e.map(e=>ResumeBuilder.generateCertificationItemHTML(e)))):"",generateCertificationItemHTML:e=>e.name?h("div.cv-certification-item",h("h4.cv-certification-name",e.name),e.issuer?h("h5.cv-certification-issuer",e.issuer):"",e.date?h("span.cv-certification-date",e.date):""):"",generateAwardsHTML:e=>e&&0!==e.length?h("section.cv-awards",h("h3.cv-section-title","Awards"),h("div.cv-awards-list",...e.map(e=>ResumeBuilder.generateAwardItemHTML(e)))):"",generateAwardItemHTML:e=>e.title?h("div.cv-award-item",h("h4.cv-award-title",e.title),e.awarder?h("h5.cv-award-awarder",e.awarder):"",e.date?h("span.cv-award-date",e.date):""):"",generateVolunteerHTML:e=>e&&0!==e.length?h("section.cv-volunteer",h("h3.cv-section-title","Volunteer Experience"),h("div.cv-volunteer-list",...e.map(e=>ResumeBuilder.generateVolunteerItemHTML(e)))):"",generateVolunteerItemHTML:e=>e.organization?h("div.cv-volunteer-item",h("h4.cv-volunteer-role",e.position||e.role),h("h5.cv-volunteer-organization",e.organization),e.startDate||e.endDate?h("span.cv-volunteer-dates",`${e.startDate||""} - ${e.endDate||"Present"}`):""):"",animateNewItem:(e,t)=>{setTimeout(()=>{const a=document.querySelectorAll(`[data-section="${e}"] .dynamic-item`)[t];if(a){a.classList.add("newly-added");const t=document.querySelector(`[data-section="${e}"] .add-item-btn`),o=document.querySelector(".resume-form-column");if(t&&o){const e=a.getBoundingClientRect(),n=t.getBoundingClientRect(),i=o.getBoundingClientRect();if(e.bottom>i.bottom){const t=Math.min(e.bottom-i.bottom+20,n.top-i.top-60);t>0&&o.scrollBy({top:t,behavior:"smooth"})}}setTimeout(()=>a.classList.remove("newly-added"),300)}const o=document.querySelector(".focus-first");o&&(o.focus(),o.classList.remove("focus-first"))},10)},updateCompletionCounters:()=>{[{id:"basics",completion:ResumeBuilder.calculateBasicsCompletion()},{id:"profiles",completion:ResumeBuilder.calculateArrayCompletion("profiles",["type","url"],ResumeBuilder.data.basics.profiles)},{id:"languages",completion:ResumeBuilder.calculateArrayCompletion("languages",["language","fluency"],ResumeBuilder.data.basics.languages)},{id:"skills",completion:ResumeBuilder.calculateArrayCompletion("skills",["name"])},{id:"experience",completion:ResumeBuilder.calculateArrayCompletion("experience",["position","company"])},{id:"projects",completion:ResumeBuilder.calculateArrayCompletion("projects",["name","description"])},{id:"portfolio",completion:ResumeBuilder.calculateArrayCompletion("portfolio",["title","url"])},{id:"education",completion:ResumeBuilder.calculateArrayCompletion("education",["institution","degree"])},{id:"certifications",completion:ResumeBuilder.calculateArrayCompletion("certifications",["name","issuer"])},{id:"awards",completion:ResumeBuilder.calculateArrayCompletion("awards",["title","awarder"])},{id:"volunteer",completion:ResumeBuilder.calculateArrayCompletion("volunteer",["organization","position"])},{id:"interests",completion:ResumeBuilder.calculateArrayCompletion("interests",["name"])}].forEach(e=>{const t=document.querySelector(`[data-section="${e.id}"] .section-completion`);if(t){const a=e.completion.total>0?`(${e.completion.completed}/${e.completion.total})`:"(0/0)";t.textContent=a}})},createBasicsSection:()=>{const e=ResumeBuilder.calculateBasicsCompletion(),t=[h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.basics.name")),h('input[type="text"]',{value:ResumeBuilder.data.basics.name,oninput:e=>{ResumeBuilder.data.basics.name=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-field",h("label",I18n.t("resume.basics.label")),h('input[type="text"]',{value:ResumeBuilder.data.basics.label,oninput:e=>{ResumeBuilder.data.basics.label=e.target.value,ResumeBuilder.updatePreview()}}))),h("div.form-field",h("label",I18n.t("resume.basics.summary")),h("textarea",{rows:2,value:ResumeBuilder.data.basics.summary,oninput:e=>{ResumeBuilder.data.basics.summary=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.basics.email")),h('input[type="email"]',{value:ResumeBuilder.data.basics.email,oninput:e=>{ResumeBuilder.data.basics.email=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-field",h("label",I18n.t("resume.basics.phone")),h('input[type="tel"]',{value:ResumeBuilder.data.basics.phone,oninput:e=>{ResumeBuilder.data.basics.phone=e.target.value,ResumeBuilder.updatePreview()}}))),h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.basics.city")),h('input[type="text"]',{value:ResumeBuilder.data.basics.location.city,oninput:e=>{ResumeBuilder.data.basics.location.city=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-field",h("label",I18n.t("resume.basics.country")),h("select",{value:ResumeBuilder.data.basics.location.country,onchange:e=>{ResumeBuilder.data.basics.location.country=e.target.value,ResumeBuilder.updatePreview()}},h("option",{value:""},""),...ResumeBuilder.getCountryOptions()))),h("div.form-field",h("label",I18n.t("resume.basics.personalStatement")),h("textarea",{rows:2,value:ResumeBuilder.data.basics.personalStatement,oninput:e=>{ResumeBuilder.data.basics.personalStatement=e.target.value,ResumeBuilder.updatePreview()}}))];return ResumeBuilder.createCollapsibleSection("basics","resume.basics.title",t,e)},createProfilesSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("profiles",["type","url"],ResumeBuilder.data.basics.profiles),t=ResumeBuilder.data.basics.profiles.map((e,t)=>ResumeBuilder.createProfileItem(e,t)),a=[h("div.dynamic-list",{id:"profiles-list"},...t),h("div.add-item-section",h("button.add-item-btn",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.addProfile()}},h("span.material-symbols-outlined","add")," ",I18n.t("resume.profiles.addProfile")))];return ResumeBuilder.createCollapsibleSection("profiles","resume.profiles.title",a,e)},createProfileItem:(e,t)=>{if(!e||"object"!=typeof e)return console.error("Invalid profile data:",e,"at index:",t),h("div.dynamic-item","Error: Invalid profile data");const a=0===t;return h("div.dynamic-item",{"data-index":t},h("div.form-grid-2",h("div.form-field",...a?[h("label",I18n.t("resume.profiles.type"))]:[],h("select",{value:e.type||"linkedin",className:t===ResumeBuilder.data.basics.profiles.length-1?"focus-first":"",onchange:e=>{ResumeBuilder.data.basics.profiles[t].type=e.target.value,ResumeBuilder.updatePreview()}},h('option[value="linkedin"]',I18n.t("resume.profiles.platforms.linkedin")),h('option[value="github"]',I18n.t("resume.profiles.platforms.github")),h('option[value="twitter"]',I18n.t("resume.profiles.platforms.twitter")),h('option[value="website"]',I18n.t("resume.profiles.platforms.website")),h('option[value="other"]',I18n.t("resume.profiles.platforms.other")))),h("div.form-field",...a?[h("label",I18n.t("resume.profiles.url"))]:[],h('input[type="url"]',{value:e.url||"",placeholder:a?"":I18n.t("resume.profiles.url"),oninput:e=>{ResumeBuilder.data.basics.profiles[t].url=e.target.value,ResumeBuilder.updatePreview()}}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeProfile(t)}},h("span.material-symbols-outlined","close")))},createLanguagesSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("languages",["language","fluency"],ResumeBuilder.data.basics.languages),t=[h("div.dynamic-list",...ResumeBuilder.data.basics.languages.map((e,t)=>ResumeBuilder.createLanguageItem(e,t))),h("div.add-item-section",h("button.add-item-btn",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.addLanguage()}},h("span.material-symbols-outlined","add")," ",I18n.t("resume.languages.addLanguage")))];return ResumeBuilder.createCollapsibleSection("languages","resume.languages.title",t,e)},createLanguageItem:(e,t)=>{const a=0===t;return h("div.dynamic-item",{"data-index":t},h("div.form-grid-2",h("div.form-field",...a?[h("label",I18n.t("resume.languages.language"))]:[],h("select",{value:e.language||"",className:t===ResumeBuilder.data.basics.languages.length-1?"focus-first":"",onchange:e=>{ResumeBuilder.data.basics.languages[t].language=e.target.value,ResumeBuilder.updatePreview()}},h("option",{value:""},""),...ResumeBuilder.getLanguageOptions())),h("div.form-field",...a?[h("label",I18n.t("resume.languages.fluency"))]:[],h("select",{value:e.fluency,onchange:e=>{ResumeBuilder.data.basics.languages[t].fluency=e.target.value,ResumeBuilder.updatePreview()}},h('option[value="native"]',I18n.t("resume.languages.levels.native")),h('option[value="fluent"]',I18n.t("resume.languages.levels.fluent")),h('option[value="intermediate"]',I18n.t("resume.languages.levels.intermediate")),h('option[value="beginner"]',I18n.t("resume.languages.levels.beginner"))))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeLanguage(t)}},h("span.material-symbols-outlined","close")))},createSkillsSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("skills",["name"]),t=[h("div.dynamic-list",...ResumeBuilder.data.skills.map((e,t)=>ResumeBuilder.createSkillItem(e,t))),h("div.add-item-section",h("button.add-item-btn",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.addSkill()}},h("span.material-symbols-outlined","add")," ",I18n.t("resume.skills.addSkill")))];return ResumeBuilder.createCollapsibleSection("skills","resume.skills.title",t,e)},createSkillItem:(e,t)=>{const a=`skill-group-list-${t}`;return h("div.dynamic-item.skill-item",{"data-index":t},h("div.skill-header",h("div.form-field",h("label",I18n.t("resume.skills.name")),h('input[type="text"]',{value:e.name,list:a,className:t===ResumeBuilder.data.skills.length-1?"focus-first":"",oninput:e=>{ResumeBuilder.data.skills[t].name=e.target.value,ResumeBuilder.updatePreview()}}),h(`datalist#${a}`,...Object.keys(ResumeBuilder.skillsSuggestions).map(e=>h("option",{value:e},ResumeBuilder.formatSkillGroupName(e))))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeSkill(t)}},h("span.material-symbols-outlined","close"))),h("div.skills-keywords",h("label",I18n.t("resume.skills.keywords")),h("div.keyword-tags",...e.keywords.flatMap((a,o)=>{const n=ResumeBuilder.createSkillKeywordTag(e,t,a,o);return Array.isArray(n)?n:[n]}),h("button.add-keyword-btn",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.addSkillKeyword(t)}},h("span.material-symbols-outlined","add")))))},createSkillKeywordTag:(e,t,a,o)=>{if(!a||""===a.trim()){const n=`skill-keyword-list-${t}-${o}`,i=e.name.toLowerCase(),r=ResumeBuilder.skillsSuggestions[i]||[];return[h("input.keyword-input",{type:"text",list:n,placeholder:"Add skill...",value:a,oninput:e=>{ResumeBuilder.data.skills[t].keywords[o]=e.target.value,ResumeBuilder.updatePreview()},onblur:e=>{e.target.value.trim()||ResumeBuilder.removeSkillKeyword(t,o)},onkeydown:e=>{"Enter"===e.key&&(e.preventDefault(),e.target.blur(),e.target.value.trim()&&ResumeBuilder.addSkillKeyword(t))}}),h(`datalist#${n}`,...r.map(e=>h("option",{value:e})))]}return h("div.keyword-tag",h("span.keyword-text",a),h("button.keyword-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeSkillKeyword(t,o)}},"×"))},createExperienceSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("experience",["position","company"]),t=[h("div.dynamic-list",{id:"experience-list"},...ResumeBuilder.data.experience.map((e,t)=>ResumeBuilder.createExperienceItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addExperience()},I18n.t("resume.experience.addExperience")))];return ResumeBuilder.createCollapsibleSection("experience","resume.experience.title",t,e)},createExperienceItem:(e,t)=>{const a=0===t;return h("div.dynamic-item.experience-item",h("div.experience-header",h("div.form-grid-2",h("div.form-field",a?h("label",I18n.t("resume.experience.company")):null,h('input[type="text"]',{value:e.company,placeholder:a?"":I18n.t("resume.experience.company"),className:t===ResumeBuilder.data.experience.length-1?"focus-first":"",oninput:e=>{ResumeBuilder.data.experience[t].company=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-field",a?h("label",I18n.t("resume.experience.position")):null,h('input[type="text"]',{value:e.position,placeholder:a?"":I18n.t("resume.experience.position"),oninput:e=>{ResumeBuilder.data.experience[t].position=e.target.value,ResumeBuilder.updatePreview()}}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeExperience(t)}},h("span.material-symbols-outlined","close"))),h("div.form-grid-3",h("div.form-field",a?h("label",I18n.t("resume.experience.location")):null,h('input[type="text"]',{value:e.location,placeholder:a?"":I18n.t("resume.experience.location"),oninput:e=>{ResumeBuilder.data.experience[t].location=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-field",a?h("label",I18n.t("resume.experience.startDate")):null,h('input[type="month"]',{value:e.startDate,oninput:e=>{ResumeBuilder.data.experience[t].startDate=e.target.value,ResumeBuilder.updatePreview()}})),h("div.form-field",a?h("label",I18n.t("resume.experience.endDate")):null,h('input[type="month"]',{value:e.endDate||"",oninput:e=>{ResumeBuilder.data.experience[t].endDate=e.target.value,ResumeBuilder.updatePreview()}}))),a?h("div.form-field",h("label",I18n.t("resume.experience.summary")),h("textarea",{rows:2,value:e.summary,oninput:e=>{ResumeBuilder.data.experience[t].summary=e.target.value,ResumeBuilder.updatePreview()}})):h("textarea",{rows:2,value:e.summary,placeholder:I18n.t("resume.experience.summary"),oninput:e=>{ResumeBuilder.data.experience[t].summary=e.target.value,ResumeBuilder.updatePreview()}}),a?h("div.form-field",h("label",I18n.t("resume.experience.highlights")),h("textarea",{rows:2,value:e.highlights.join("\n"),oninput:e=>{ResumeBuilder.data.experience[t].highlights=e.target.value.split("\n").filter(e=>e.trim()),ResumeBuilder.updatePreview()}})):h("textarea",{rows:2,value:e.highlights.join("\n"),placeholder:I18n.t("resume.experience.highlights"),oninput:e=>{ResumeBuilder.data.experience[t].highlights=e.target.value.split("\n").filter(e=>e.trim()),ResumeBuilder.updatePreview()}}))},createProjectsSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("projects",["name","description"]),t=[h("div.dynamic-list",{id:"projects-list"},...ResumeBuilder.data.projects.map((e,t)=>ResumeBuilder.createProjectItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addProject()},I18n.t("resume.projects.addProject")))];return ResumeBuilder.createCollapsibleSection("projects","resume.projects.title",t,e)},createProjectItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.projects.name")),h('input[type="text"]',{value:e.name,oninput:e=>ResumeBuilder.data.projects[t].name=e.target.value})),h("div.form-field",h("label",I18n.t("resume.projects.url")),h('input[type="url"]',{value:e.url||"",oninput:e=>ResumeBuilder.data.projects[t].url=e.target.value}))),h("div.form-field",h("label",I18n.t("resume.projects.description")),h("textarea",{rows:2,value:e.description,oninput:e=>ResumeBuilder.data.projects[t].description=e.target.value})),h("div.form-field",h("label",I18n.t("resume.projects.tags")),h('input[type="text"]',{value:(e.tags||[]).join(", "),oninput:e=>ResumeBuilder.data.projects[t].tags=e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeProject(t)}},h("span.material-symbols-outlined","close"))),createPortfolioSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("portfolio",["title","url"]),t=[h("div.dynamic-list",{id:"portfolio-list"},...ResumeBuilder.data.portfolio.map((e,t)=>ResumeBuilder.createPortfolioItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addPortfolio()},I18n.t("resume.portfolio.addPortfolio")))];return ResumeBuilder.createCollapsibleSection("portfolio","resume.portfolio.title",t,e)},createPortfolioItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.portfolio.type")),h("select",{value:e.type,onchange:e=>ResumeBuilder.data.portfolio[t].type=e.target.value},h('option[value="case-study"]',I18n.t("resume.portfolio.types.case-study")),h('option[value="artwork"]',I18n.t("resume.portfolio.types.artwork")),h('option[value="website"]',I18n.t("resume.portfolio.types.website")),h('option[value="app"]',I18n.t("resume.portfolio.types.app")),h('option[value="other"]',I18n.t("resume.portfolio.types.other")))),h("div.form-field",h("label",I18n.t("resume.portfolio.title_field")),h('input[type="text"]',{value:e.title,oninput:e=>ResumeBuilder.data.portfolio[t].title=e.target.value}))),h("div.form-field",h("label",I18n.t("resume.portfolio.url")),h('input[type="url"]',{value:e.url,oninput:e=>ResumeBuilder.data.portfolio[t].url=e.target.value})),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removePortfolio(t)}},h("span.material-symbols-outlined","close"))),createEducationSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("education",["institution","degree"]),t=[h("div.dynamic-list",{id:"education-list"},...ResumeBuilder.data.education.map((e,t)=>ResumeBuilder.createEducationItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addEducation()},I18n.t("resume.education.addEducation")))];return ResumeBuilder.createCollapsibleSection("education","resume.education.title",t,e)},createEducationItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.education.institution")),h('input[type="text"]',{value:e.institution,className:t===ResumeBuilder.data.education.length-1?"focus-first":"",oninput:e=>ResumeBuilder.data.education[t].institution=e.target.value})),h("div.form-field",h("label",I18n.t("resume.education.area")),h('input[type="text"]',{value:e.area,oninput:e=>ResumeBuilder.data.education[t].area=e.target.value}))),h("div.form-field",h("label",I18n.t("resume.education.studyType")),h('input[type="text"]',{value:e.studyType,list:`education-degree-list-${t}`,oninput:e=>ResumeBuilder.data.education[t].studyType=e.target.value}),h(`datalist#education-degree-list-${t}`,...Object.values(ResumeBuilder.degreeTypes).flatMap(e=>e.map(e=>h("option",{value:e.label,title:e.description}))))),h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.education.startDate")),h('input[type="month"]',{value:e.startDate,oninput:e=>ResumeBuilder.data.education[t].startDate=e.target.value})),h("div.form-field",h("label",I18n.t("resume.education.endDate")),h('input[type="month"]',{value:e.endDate||"",oninput:e=>ResumeBuilder.data.education[t].endDate=e.target.value}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeEducation(t)}},h("span.material-symbols-outlined","close"))),createCertificationsSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("certifications",["name","issuer"]),t=[h("div.dynamic-list",{id:"certifications-list"},...ResumeBuilder.data.certifications.map((e,t)=>ResumeBuilder.createCertificationItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addCertification()},I18n.t("resume.certifications.addCertification")))];return ResumeBuilder.createCollapsibleSection("certifications","resume.certifications.title",t,e)},createCertificationItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.certifications.type")),h('input[type="text"]',{value:e.type,className:t===ResumeBuilder.data.certifications.length-1?"focus-first":"",oninput:e=>ResumeBuilder.data.certifications[t].type=e.target.value})),h("div.form-field",h("label",I18n.t("resume.certifications.name")),h('input[type="text"]',{value:e.name,oninput:e=>ResumeBuilder.data.certifications[t].name=e.target.value}))),h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.certifications.issuer")),h('input[type="text"]',{value:e.issuer,oninput:e=>ResumeBuilder.data.certifications[t].issuer=e.target.value})),h("div.form-field",h("label",I18n.t("resume.certifications.date")),h('input[type="month"]',{value:e.date,oninput:e=>ResumeBuilder.data.certifications[t].date=e.target.value}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeCertification(t)}},h("span.material-symbols-outlined","close"))),createAwardsSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("awards",["title","awarder"]),t=[h("div.dynamic-list",{id:"awards-list"},...ResumeBuilder.data.awards.map((e,t)=>ResumeBuilder.createAwardItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addAward()},I18n.t("resume.awards.addAward")))];return ResumeBuilder.createCollapsibleSection("awards","resume.awards.title",t,e)},createAwardItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.awards.type")),h('input[type="text"]',{value:e.type,className:t===ResumeBuilder.data.awards.length-1?"focus-first":"",oninput:e=>ResumeBuilder.data.awards[t].type=e.target.value})),h("div.form-field",h("label",I18n.t("resume.awards.title_field")),h('input[type="text"]',{value:e.title,oninput:e=>ResumeBuilder.data.awards[t].title=e.target.value}))),h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.awards.issuer")),h('input[type="text"]',{value:e.issuer,oninput:e=>ResumeBuilder.data.awards[t].issuer=e.target.value})),h("div.form-field",h("label",I18n.t("resume.awards.date")),h('input[type="month"]',{value:e.date,oninput:e=>ResumeBuilder.data.awards[t].date=e.target.value}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeAward(t)}},h("span.material-symbols-outlined","close"))),createVolunteerSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("volunteer",["organization","position"]),t=[h("div.dynamic-list",{id:"volunteer-list"},...ResumeBuilder.data.volunteer.map((e,t)=>ResumeBuilder.createVolunteerItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addVolunteer()},I18n.t("resume.volunteer.addVolunteer")))];return ResumeBuilder.createCollapsibleSection("volunteer","resume.volunteer.title",t,e)},createVolunteerItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.volunteer.organization")),h('input[type="text"]',{value:e.organization,className:t===ResumeBuilder.data.volunteer.length-1?"focus-first":"",oninput:e=>ResumeBuilder.data.volunteer[t].organization=e.target.value})),h("div.form-field",h("label",I18n.t("resume.volunteer.role")),h('input[type="text"]',{value:e.role,oninput:e=>ResumeBuilder.data.volunteer[t].role=e.target.value}))),h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.volunteer.startDate")),h('input[type="month"]',{value:e.startDate,oninput:e=>ResumeBuilder.data.volunteer[t].startDate=e.target.value})),h("div.form-field",h("label",I18n.t("resume.volunteer.endDate")),h('input[type="month"]',{value:e.endDate||"",oninput:e=>ResumeBuilder.data.volunteer[t].endDate=e.target.value}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeVolunteer(t)}},h("span.material-symbols-outlined","close"))),createInterestsSection:()=>{const e=ResumeBuilder.calculateArrayCompletion("interests",["name"]),t=[h("div.dynamic-list",{id:"interests-list"},...ResumeBuilder.data.interests.map((e,t)=>ResumeBuilder.createInterestItem(e,t))),h("div.add-item-section",h("button.btn-secondary.add-item-btn",{onclick:()=>ResumeBuilder.addInterest()},I18n.t("resume.interests.addInterest")))];return ResumeBuilder.createCollapsibleSection("interests","resume.interests.title",t,e)},createInterestItem:(e,t)=>h("div.dynamic-item",h("div.form-grid-2",h("div.form-field",h("label",I18n.t("resume.interests.type")),h('input[type="text"]',{value:e.type,className:t===ResumeBuilder.data.interests.length-1?"focus-first":"",oninput:e=>ResumeBuilder.data.interests[t].type=e.target.value})),h("div.form-field",h("label",I18n.t("resume.interests.value")),h('input[type="text"]',{value:e.value,oninput:e=>ResumeBuilder.data.interests[t].value=e.target.value}))),h("button.btn-remove",{type:"button",onclick:e=>{e.preventDefault(),ResumeBuilder.removeInterest(t)}},h("span.material-symbols-outlined","close"))),addProfile:()=>{ResumeBuilder.data.basics.profiles.push({type:"linkedin",url:""});const e=ResumeBuilder.data.basics.profiles.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("profiles",e)},removeProfile:e=>{const t=document.querySelectorAll('[data-section="profiles"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.basics.profiles.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.basics.profiles.splice(e,1),ResumeBuilder.refresh(!0))},addLanguage:()=>{ResumeBuilder.data.basics.languages.push({language:"",fluency:"intermediate"});const e=ResumeBuilder.data.basics.languages.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("languages",e)},removeLanguage:e=>{const t=document.querySelectorAll('[data-section="languages"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.basics.languages.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.basics.languages.splice(e,1),ResumeBuilder.refresh(!0))},addSkill:()=>{ResumeBuilder.data.skills.push({name:"",keywords:[""]});const e=ResumeBuilder.data.skills.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("skills",e)},removeSkill:e=>{ResumeBuilder.data.skills.splice(e,1),ResumeBuilder.refresh()},addSkillKeyword:e=>{ResumeBuilder.data.skills[e].keywords.push(""),ResumeBuilder.refresh(!0)},removeSkillKeyword:(e,t)=>{ResumeBuilder.data.skills[e].keywords.splice(t,1),ResumeBuilder.refresh(!0)},addExperience:()=>{ResumeBuilder.data.experience.push({company:"",position:"",location:"",startDate:"",endDate:"",summary:"",highlights:[]}),ResumeBuilder.refresh()},removeExperience:e=>{ResumeBuilder.data.experience.splice(e,1),ResumeBuilder.refresh()},addProject:()=>{ResumeBuilder.data.projects.push({name:"",description:"",url:"",tags:[]}),ResumeBuilder.refresh()},removeProject:e=>{ResumeBuilder.data.projects.splice(e,1),ResumeBuilder.refresh()},addPortfolio:()=>{ResumeBuilder.data.portfolio.push({type:"case-study",title:"",url:""}),ResumeBuilder.refresh()},removePortfolio:e=>{ResumeBuilder.data.portfolio.splice(e,1),ResumeBuilder.refresh()},addEducation:()=>{ResumeBuilder.data.education.push({institution:"",area:"",studyType:"",startDate:"",endDate:""});const e=ResumeBuilder.data.education.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("education",e)},removeEducation:e=>{const t=document.querySelectorAll('[data-section="education"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.education.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.education.splice(e,1),ResumeBuilder.refresh(!0))},addCertification:()=>{ResumeBuilder.data.certifications.push({type:"",name:"",issuer:"",date:""});const e=ResumeBuilder.data.certifications.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("certifications",e)},removeCertification:e=>{const t=document.querySelectorAll('[data-section="certifications"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.certifications.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.certifications.splice(e,1),ResumeBuilder.refresh(!0))},addAward:()=>{ResumeBuilder.data.awards.push({type:"",title:"",issuer:"",date:""});const e=ResumeBuilder.data.awards.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("awards",e)},removeAward:e=>{const t=document.querySelectorAll('[data-section="awards"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.awards.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.awards.splice(e,1),ResumeBuilder.refresh(!0))},addVolunteer:()=>{ResumeBuilder.data.volunteer.push({organization:"",role:"",startDate:"",endDate:""});const e=ResumeBuilder.data.volunteer.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("volunteer",e)},removeVolunteer:e=>{const t=document.querySelectorAll('[data-section="volunteer"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.volunteer.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.volunteer.splice(e,1),ResumeBuilder.refresh(!0))},addInterest:()=>{ResumeBuilder.data.interests.push({type:"",value:""});const e=ResumeBuilder.data.interests.length-1;ResumeBuilder.refresh(),ResumeBuilder.animateNewItem("interests",e)},removeInterest:e=>{const t=document.querySelectorAll('[data-section="interests"] .dynamic-item')[e];t?(t.classList.add("removing"),setTimeout(()=>{ResumeBuilder.data.interests.splice(e,1),ResumeBuilder.refresh(!0)},200)):(ResumeBuilder.data.interests.splice(e,1),ResumeBuilder.refresh(!0))},save:()=>{ResumeStorage.save(ResumeBuilder.data),console.log("Resume saved successfully")},load:()=>{const e=ResumeStorage.load();if(e){if(ResumeBuilder.data=e,e.basics&&e.basics.location&&e.basics.location.country){const t=e.basics.location.country;if(t.length>2){const e=ResumeBuilder.findCountryCode(t);e&&(ResumeBuilder.data.basics.location.country=e)}}e.basics&&e.basics.languages&&e.basics.languages.forEach((e,t)=>{if(e.language&&e.language.length>3){const a=ResumeBuilder.findLanguageCode(e.language);a!==e.language&&(ResumeBuilder.data.basics.languages[t].language=a)}}),ResumeBuilder.refresh()}},findCountryCode:e=>{try{const t=new Intl.DisplayNames(["en"],{type:"region"});for(const a of ResumeBuilder.countryCodes)if(t.of(a).toLowerCase()===e.toLowerCase())return a;const a=new Intl.DisplayNames([navigator.language],{type:"region"});for(const t of ResumeBuilder.countryCodes)if(a.of(t).toLowerCase()===e.toLowerCase())return t}catch(e){console.error("Error finding country code:",e)}return e},findLanguageCode:e=>{try{const t=new Intl.DisplayNames(["en"],{type:"language"});for(const a of ResumeBuilder.languageCodes)if(t.of(a).toLowerCase()===e.toLowerCase())return a;const a=new Intl.DisplayNames([navigator.language],{type:"language"});for(const t of ResumeBuilder.languageCodes)if(a.of(t).toLowerCase()===e.toLowerCase())return t;const o={english:"en",chinese:"zh",spanish:"es",hindi:"hi",arabic:"ar",bengali:"bn",french:"fr",russian:"ru",portuguese:"pt",urdu:"ur",indonesian:"id",german:"de",japanese:"ja",swahili:"sw",marathi:"mr",telugu:"te",vietnamese:"vi",tamil:"ta",korean:"ko",persian:"fa",turkish:"tr",italian:"it",polish:"pl",javanese:"jv",malay:"ms",thai:"th",gujarati:"gu",punjabi:"pa",romanian:"ro",dutch:"nl"},n=e.toLowerCase();if(o[n])return o[n]}catch(e){console.error("Error finding language code:",e)}return e},exportJSON:()=>{const e=JSON.stringify(ResumeBuilder.data,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","resume.json"),a.click()},importJSON:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);ResumeBuilder.data=t,ResumeBuilder.save(),ResumeBuilder.refresh(),console.log("Resume imported successfully")}catch(e){console.error("Error importing resume:",e),alert("Error importing resume. Please check the file format.")}},e.readAsText(t)}},e.click()},refresh:(e=!1)=>{const t=document.querySelector('.tab-content[data-tab="resume"]');if(t){const a={...ResumeBuilder.collapsedSections},o=t.querySelector(".resume-form-column"),n=e&&o?o.scrollTop:0;t.innerHTML="";const i=ResumeBuilder.create();t.appendChild(i),ResumeBuilder.updatePreview(),setTimeout(()=>{if(Object.keys(a).forEach(e=>{if(a[e]){const t=document.querySelector(`[data-section="${e}"] .section-content`),a=document.querySelector(`[data-section="${e}"] .section-arrow`);t&&a&&(t.classList.add("collapsed"),a.classList.add("collapsed"))}}),e&&n>0){const e=t.querySelector(".resume-form-column");e&&(e.scrollTop=n)}},10)}},init:()=>{const e=document.querySelector('.tab-content[data-tab="resume"]');e&&(ResumeBuilder.load(),e.appendChild(ResumeBuilder.create()))}},ResumeStorage={STORAGE_KEY:"jobtracker_resume",save:e=>{try{return localStorage.setItem(ResumeStorage.STORAGE_KEY,JSON.stringify(e)),!0}catch(e){return console.error("Error saving resume:",e),!1}},load:()=>{try{const e=localStorage.getItem(ResumeStorage.STORAGE_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Error loading resume:",e),null}},clear:()=>{localStorage.removeItem(ResumeStorage.STORAGE_KEY)}};function updateStats(e=null){const t=e||jobsData,a=t.length;let o=0,n=0,i=0,r=0;for(const e of t){const t=e.currentPhase;"rejected_withdrawn"!==t&&o++,"interview"===t&&n++,"offer"===t&&i++,"rejected_withdrawn"===t&&r++}$("#totalApps").text(a.toString()),$("#activeApps").text(o.toString()),$("#interviews").text(n.toString()),$("#offers").text(i.toString()),$("#rejections").text(r.toString())}function setupEventListeners(){document.addEventListener("keydown",e=>{"Escape"===e.key&&(closeModal(),closeAllDropdowns())}),document.addEventListener("click",e=>{const t=e.target.closest(".filter-dropdown-icon"),a=e.target.closest(".filter-dropdown");t||a||closeAllDropdowns()})}function closeAllDropdowns(){document.querySelectorAll(".filter-dropdown").forEach(e=>{e.style.display="none"})}function toggleDropdown(e){const t=document.getElementById(e);t&&(document.querySelectorAll(".filter-dropdown").forEach(t=>{t.id!==e&&(t.style.display="none")}),t.style.display="block"===t.style.display?"none":"block")}function switchTab(e){document.querySelectorAll(".tab-button").forEach(e=>{e.classList.remove("active")}),document.querySelector(`[onclick="switchTab('${e}')"]`).classList.add("active"),document.querySelectorAll(".tab-content").forEach(e=>{e.classList.remove("active")}),document.getElementById(`${e}Tab`).classList.add("active"),"kanban"===e&&populateKanbanBoard()}function populateKanbanBoard(){console.log("Populating kanban board")}function editJob(e){void 0!==KanbanBoard&&KanbanBoard.openJobEditModal?KanbanBoard.openJobEditModal(e):console.error("KanbanBoard not available for job editing")}async function archiveJob(e){if(await confirm(I18n.t("messages.confirmArchive",{position:e.position,company:e.company})||`Are you sure you want to archive the application for ${e.position} at ${e.company}?`)){const t=originalData.findIndex(t=>t.id===e.id);-1!==t&&(originalData[t].archived=!0,originalData[t].archivedAt=(new Date).toISOString(),jobsData=originalData.filter(e=>!e.archived),saveToLocalStorage(),refreshInterface())}}async function deleteJob(e){await archiveJob(e)}function addRow(){void 0!==KanbanBoard&&KanbanBoard.openAddJobModal?KanbanBoard.openAddJobModal():console.error("KanbanBoard not available for job creation")}function updateSubstepOptions(e,t){console.warn("updateSubstepOptions is deprecated with modal interface")}function saveInlineEdit(e){console.warn("saveInlineEdit is deprecated with modal interface")}function cancelInlineEdit(e){console.warn("cancelInlineEdit is deprecated with modal interface")}async function initializeApp(){I18n.init(),updateStaticTexts(),updateMetaTags(),setupEventListeners(),setupFilters(),setTimeout(()=>{initializeTabNavigation(),initializeLanguageSwitcher()},100);const e=loadFromLocalStorage();e&&e.length>0?(originalData=e,jobsData=originalData.filter(e=>!e.archived),refreshInterface()):(refreshInterface(),await confirm(I18n.t("messages.welcome"),{confirmText:I18n.t("messages.welcomeConfirm"),cancelText:I18n.t("messages.welcomeCancel"),focusConfirm:!0})&&(originalData=getDemoData(),jobsData=originalData.filter(e=>!e.archived),saveToLocalStorage(),refreshInterface()))}function setupFilters(){$("#priorityDropdown")&&populatePriorityFilter(),$("#phaseDropdown")&&populatePhaseFilter()}function populatePriorityFilter(){const e=$("#priorityDropdown").get();if(!e)return;e.innerHTML="";const t=h("div.dropdown-option",{onclick:()=>{filterByPriority(null),toggleDropdown("priorityDropdown")}},I18n.t("table.filters.allPriorities"));e.appendChild(t);for(const t of PRIORITIES){const a=h("div.dropdown-option",{onclick:()=>{filterByPriority(t),toggleDropdown("priorityDropdown")}},getPriorityText(t));e.appendChild(a)}}function populatePhaseFilter(){const e=$("#phaseDropdown").get();if(!e)return;e.innerHTML="";const t=h("div.dropdown-option",{onclick:()=>{filterByPhase(null),toggleDropdown("phaseDropdown")}},I18n.t("table.filters.allPhases"));e.appendChild(t);for(const t of PHASES){const a=h("div.dropdown-option",{onclick:()=>{filterByPhase(t),toggleDropdown("phaseDropdown")}},getPhaseText(t));e.appendChild(a)}}function filterByPriority(e){jobsData=null===e?originalData.filter(e=>!e.archived):originalData.filter(t=>!t.archived&&t.priority===e),refreshInterface()}function filterByPhase(e){jobsData=null===e?originalData.filter(e=>!e.archived):originalData.filter(t=>!t.archived&&t.currentPhase===e),refreshInterface()}function refreshInterface(){updateStats(),renderJobTable(),void 0!==KanbanBoard&&TabNavigation&&"applications"===TabNavigation.activeTab&&KanbanBoard.refresh(),void 0!==TasksBoard&&TabNavigation&&"tasks"===TabNavigation.activeTab&&TasksBoard.refresh()}function renderJobTable(){const e=$("#jobTableBody");if(!e)return void console.warn("Table body not found - cannot render jobs");const t=e.get();t.innerHTML="",console.log("Rendering jobs:",jobsData.length);for(const e of jobsData)try{const a=JobRow({job:e,onEdit:editJob,onDelete:archiveJob});t.appendChild(a)}catch(t){console.error("Error rendering job row:",t,e)}}window.ResumeBuilder=ResumeBuilder,window.ResumeStorage=ResumeStorage,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeApp):initializeApp()</script></body> </html>